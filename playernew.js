var pljssglobal=[],pljssglobalid;function Playerjs(options){var o={play:!1,playerid:"player_id",default_w:640,default_h:360,version:"1.0.9.18",compilation:["HLS","",""],compilations:"",fullscreen:!1,realfullscreen:!1,nativecontrols:!1,fullwheel:!1,fullscreen_start:!1,airplay:!1,pipwebkit:!1,ispipkit:!1,u:"#1bVtWI3tiJG5gL2USMfs6sjITJGxixZsPskBSL2UfIHsfykPfI29PL3sfyfsTwnXTwnXfvZtlKGBisglTvZtQIHtkKG4fyfsTsnXdwZXTsfTfJ3teJqiiLkAfygXPsjpRKG1eaqiSLfs6sjpPMqeesfTfICs6sgXfvZtlsglWwZTfLqFjaqpRJrtmJ2e0MqphJqiRJVs6wCTfMj91LjBmLjMfygY9vZtgL250Mj9PH3BmaqUisgm7sj9VJqFVsglUvZtSLfs6wCTfIGx0KG9Rsglfaqi0LqEfvZt0bHYisglfaqF4aZsPskYSM2i0KG9Rsglfaq9TvGUiJkAfvZtgLqigKVs6wZTfKqpRJZs6wZTfaqF4aZs6sfsPskJeMfs6skBmaqUisfTfKqihJCs6wCTfKqihJG9RMqUebCs6wCTfIG5mLGp0KG9RsglfMq9WKHBmL24fvZtfJVs6wCTfIjaesglTvgAPsjtkMqphJqiRJVs6sgIdxfX2snIfcCTfI29RartSLp9PKG5isgm7sj9VJqFVsgl0vZtSLfs6wZTfariTJCs6skxlIHYisfTfIGx0KG9RsglfLqiRJCsPsjdfygAPsktSaG5hKG5ksglfwCsPskMfygoTwZTfICs6wCTfIGtksglfwZ4WsfTfIGUSIGAfyfsTvgAfvZteL3JiMfs6sgXfvZtgL2USMfs6sjJjJjJjJfsPsjxSLq9VIjMfyftjJjJjJjIfvZtgL2USMjUSIGAfyftjJjJjJjIfvZtgL2USMj92JHsfyftjJjJjJjIfvZtfaGJjJHsfykPfL24fygXPsjxSLq9VsglfJjJjJjJjsfTfICs6wZ41cCTfMq9WKHBmL24fyftgL250Mj9PMVsPsj1eMjamLfs6sgXdxCXTsnoTsfTfKqpRJqUisglTvZtfJ3YeJqBmLjMfyfs1snXdxCXTsfTfaqiTsglUvZtlKGBisglUvZtlKGBiL25PKHJisglUvZtlKGBiL25TLqp5sglTvZtlKGBiaG50KGUWaqpVaqFhsglUcCTfI29RartSLp9TLqp5sgm7sj9VJqFVsglVvZtSLfs6wCTfKGxSLfs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVYjKGUPvHt1LqE9t25SLkmiMj8ksrBVIG5WJj9VLD0karteLkxPIHBiunXPsnXmtW48Mqp0KZYhzCaxxV44xnM5xnM1yCTUxZ41soTUwV43wWw5wndWvnoTsoT3vgd0xWh0xWE5vnERxCYwxV44xnM5xnM1yCTUxZ41soT3vgd0xWh0xWE5vno0vgEdGfYxyC44wnh5wWA0yZTTsow0vgAUxnA3wnEVvnXdwZT0vgEdwZTUwZYnwZTUxC41snARxno0xnMTxDsPwgXdyC44wnh5wWA0yZTVwZYnwDERwgX1wWh4xZTVwZXUyC42wDh4xghPwDERxCXUyC42wDh4xghPwDXdAWo5vgIUyDd2yCT0vgEdwDERwgX1wWh4xZTTsnhRynX5yDw0xndPwZYwyC44wnh5wWA0yZTTsoT5vgdTyDhWxnA4vnXdGfYxyC44wnh5wWA0yZTUyZYnxC40yDw1xgwWwCTUyZXUvgh2wDh4xghPwDARxZXUvgh2wDh4xghPwDXdAWoRyDIUyDd2yCT1vgIdxC40yDw1xgwWwCTVsnhRynX5yDw0xndPwfYnwDARwDs2wWX1xVTVsno3vgI1xWd4wgoPxC42sno3vgI1xWd4wgoPwDXdAWo3vgI1xWd4wgoPwDARxZXUxZ4UwgIWwnE3vno4snhRynX5yDw0xndPwDddDnhRynX5yDw0xndPwDddDnhRynX5yDw0xndPwDddGfMdJjiPLn0ks2JjJjJjJfMSzgTSJW48v3x2JW4fvZtmI29Rwfs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVYjKGUPzCMgwnXTwnXTtVYjKGUPvHt1LqE9t25SLkmiMj8ksrBVIG5WJj9VLD0karteLkxPIHBiunXPsnXmtW48Mqp0KZYhzCaxxVTUxZYwyCTUxZYwyCT2soT3vnIdDnMPwDAdDnMPwDAdGfYxwDXPwZYnxZ41vnXdwZT0vgEdwZTUwZYnwZTUxC41snARxCTVwZXUwZTVwZYnwDERxCTVwZXVwZTUxC41snsTvnoTsowVwZT0vgEdwDERxCTTsnoTvnXdDnoTvnXdDnoTvnXdGfYxwDXPwDddAWERxfTUyZXVvno0vgAdwfTUwZYnwfT1vgIdxC42vnsdwDXPwfYnwDARxZTVsno4vnERxfXUyZTUwZYnwDdPwDARxZXUxZ40vno4snoTvno4soTUwZTUyZYwwDXPwDddGfYxwDoPwDAdDnoWvno0soTUwVT2soTUwCT2soTUwCTUxZYwwDoPwDAdGfMdJjiPLn0ks2JjJjJjJfMSzgTSJW48v3x2JW4fvZtmI29RwVs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVYjKGUPvHt1LqE9t25SLkmiMj8ksrBVIG5WJj9VLD0karteLkxPIHBiunXPsnXmtW48Mqp0KZYhzCaxwDMRwnMTwgM4wfTVvghUyDoTxDdVsowUxC4UynoTwgA3vnoRwnw2xDETxDsdwDsRxgI5wDA1wCTQyZ44yno3ynAVJC0UxfX5vgh5xWs5yDAUvZ04vgd4wDM4xntivDo2sow3vgwVxDI4wWI0vZ04vgd4wDM4xntivDo2snARynoWynXWyDIPwC4TwWI1xDX1wfXVvghVxnM4wnw2vnsRyDo5wDX1ynsdAV0Tvgh3xDX4wnXUvnIRynX1wWI4xghdvDXRyDM0ynETwDMVvnoWvgoVynAUynEdwf45wgETwDXVvno3vgXUxnA1wgwdAWARyno0wgIWxgAPwDdRynh3wnX3xVX3vgwVxgo0wWs4vno5vghWwWM4xWsdyC45yDM3xDhUwCTUyC45wWw3ynMVsowUwf42xghWxWA5vno5vghWwWM4xWsdwDERwDdUwgE0xCTUyZ44yDMVwWI3sno3vgX3wns3ynsPwDMRwno0xgdUxZYnwDdRyDE5wWXUyZTUxC4UwWsUwgIUsnsTvnoVvgIVyDw4wCXVwZT5vgh2xWXTyno0sowVwZT3vgwTxnIWxDsVsno4vgh1yDEWwDIPxZ44wno2xgoUwfXUxV4TxWXVxWdVvnsRyDo5wDX1ynsdDno3vgX3wns3ynsPwf45wDhUwnE4wfYKso0Uxf43xnEVynh4vno2vgI5wnd0xDsdAWo0vgh0wghUxnAPwDdRxnd2ynwTxCXUwf41xnI0wDs2vno5vgA3xDM0xnEdyC45yDM3xDhUwCTUyC40xWE3xnA1sow3vgA0yDoTxDI2vno5vgA3xDM0xnEdxC4TxDsWxWw5wVTUyZ40ynI2wno1snwRwgA5yDh4xDMPwDIRxghTxgo2wfYnvDXRxnMTxDd5xDd2vnoVvgh4wWsUyCXQwZ40xWX1ynh1ynIPxf45xDX1xgdVwCXWvgs0yDM2ynMWvnwRwgAVyDAUyDddAWERwnEVwDA0wnhPwC40xnI5xDI3xZX3vgA0ynI0xDh2vnXRxnE4wnAVxgEVsnhRyDh3wgh5xnoPwZ40xDdTxns2xDsdAWoVvgE0xgAUwgIPwZ40xDdTxns2xDsdwDARyDAVyDo0xZTUvgA0xgh1xgM0sno2vgM0xDs4yDdPwV4Vxns5xno5yZYnwDdRxDA3xgI1wfT1vgXWyDo1xgs0sno5vgE0wnwVxWIPxV40wgI5wWs1yZXUyC41xnXWwgM2vnhRyDI2xWM5wnMdAWo5vgE0wnwVxWIPwDsRxDX2xgs1xfXUyZ41xnM2xgEVvno0vgd5xnIWwCXUxf43xnEVynh4vno2vgI5wnd0xDsdDno2vgM0xDs4yDdPwDIRxghTynA1wfYKtVYjKGUPzCMgJjJjJjJjtW48v3Yeaqd#zrYeaqddJn0kDDo1vgo5xWwWyDdPyC4VxDEUxWMVxVYnwDARyns0xgI1wVT2vgIWwDdVxnA5snoVvgEVxnAVyCT0vgI1ynI0xnd5snhRyno2xWM3xgAPxZ43xDwUyDdUxfYnxf45wDhTxnhPxZ44xDAWynhTxVX0vgI1wgXTxWs0vnMRwgd1xnhWxWsdxZ43xDwUyDdUxfTUwZ4UynwVwgs0sow0vgd1xnw4yDX3vnoWvgX4wnh1wCX3vgs4xDA5wWMVvno1vgw0xWh5wgddwDXRwDdWwgsVxZTUxC4VxnI4wno4soTUwZ4UxgE3xWs2vno0vgM0xWoTxgAdAWMRxDA0wno4wDsPwDARynw4xgITwCX1vgw0xnA0xWs2vnoVvgM4xWEVxWodxC4VxDs4yDw1xVTUwZ4UxgE3xWs2sow1vgo2wDwWyDd5vnMRxDA0wno4wDsdxV4VwDs0xWs5vnERwWA0xnA3wgIdyC44wWAVwgMWyCT1vgs1wgd5wWE3sowUwf4VyDh0xWwUvnERwDI2ynX1wghdwDARwWhUxnw2wfT2vgh3xDsUynh5sno0vgMTynEWwgsPyC4WxWoUwWE5yCYnwDARxgX1wnh1xCT5vgwUwDIVxns2sno0vgA2wWwTxnoPyC4VwWXTxnE0xZXUxZ4VxDA0wWM1vnhRwDX5ynM1wgMdDnoWvgw4xWs0xWoPyZ42wDX5xnsWxVYwwDwRwDw3ynh5xZT5vgX0xnwWwDX3soTUxC4Vxgs1wDAPwDXRwgI2xWo1xCYwwDERwgITynM5wCTUwZ4VwDh4yDMUsoTUxC4VynX3wgs1vnoTvgsVyDEUxCYwwDIRwWA1wgw3xVT4vgXWwWs0wgw4soTUxC44yDEWwns5vnMRyno1wDIVxWwdDno1vgo5xWwWyDdPyC4VxDEUxWMVxVYKtVYjKGUPzCMgJjJjJjJjtW48v3Yeaqd#zZ9kzgTSM3JkzfsPsjpgaqiSLfs6skYPIHhfvZteI3BmL24VsglfMqp1M2EfvZt0bHYisglfM3JksfTfM2xeLqEfyfsWsfTfM2xeLqFSajFVsglUvgEPsj1eMjamLfs6sgXdwZXTsnATsfTfMq9WKHBmL24fyftPJGJ0sfTfKGxSLkxVJHYPIHhfygoPsjemJqEfygXPsjigL25WI29PL3sfyfs0wnxixnXfcCTfI29RartSLp9QaHBisgm7sj9VJqFVsgl1vZtSLfs6wCTfKGxSLfs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVY0MjpRM2JSMj09t3BVIG5WLqp0JCdUvZXUuCM#zrYSLrikL24dMq9mLkBWzCMQwC4UwWI4xgdWyqEQwDwdxC43xnE1xDI2xZXQwC4UwWI4xgdWyqEQwDwdwDoRxWA5xgdVxfX0vgXTwgA2xDdVsnoUvgM0yDI4wgIdyC4Twns0xgE4wfXUxf43xnh2yns2snhRwnXVxnI1ynsdwZ43xnd5wnoWxgMdxZ4Twns0xgE4wfX1vgM0xDE1xgI0tVYjKGUPzCMgJjJjJjJjtV8#zrYeaqddJn0kDDoUvgXTwgA2xDdPxZ43xnh2yns2wfYwwDoRwnXVxnI1yZTUwf43xnh2yns2sowUwC4Twns0xgE4vnoVvgM0yDI4wgIdwDwRxDw0xghVxZTUwC40wgo5xndVsnoWvgEWxnI5wgAPyZ43xnh2yns2wfYnwDwRxDw0xghVxZT2vgX3xWAUxgh5snoUvgXTwgA2xDdPxZ43xnh2yns2wfXUwC4Twns0xgE4vnARxWA5xgdVxgsdGfMdKGA9t3YNM192L2U1LGFcJGUiLGFRanoksqJmLqT9tVxjJjJjJjIkvW48Mqp0KZYhzCaxwDXRyDh3wWX3wfTVvgX5wDs4xno4sowUwC41wnh4ynM3vnsRwgw0wWETxDhdwDsRxgdVwghUwCTVvgd0xgXTxDI3snoWvgs4ynh4wgEPwV4VyDM4wDX1yZYnwDARyDh0wnIUyCT0vgE2xWE4ynwVsno1vgh5xgM1xDsPxf4WwWAVxWwTxfXUxC45yDwUynh2vndRxWIUwnX2wgMdAWo1vgh4yDIWwnEPwDoRwDdWwgA4wfXUxZ45yDXVxDh0vnoVvghVyDE3wVXUwV4VyDEWyCTUxZ4UxWX4ynwdAWoVvgI5wns0xDsPwDARxgo0wnd2xfXUwC40wWE3yDoPwDERwgE3xgI2snoTvgh5xWwTxWsPwDERwWITwgs5xCYwwDXRyDh3wWX3wfTUxV40wWdWwgh4sowUwC44yDMUxnM5vno3vgsWxWw0wWhdwDwRwDdWxWh0yCTUxf43wWo2xnE3sno0vgA3xWoWwnsPwDERxWd0xno2xZYnwDIRxgE4yDI3xfTUxZ4UynI0xDA2sno3vgh4ynIWxZTUwC44xgs5xgAUsno3vgh5wWo4xWAPyZ43xgw5xnA5sowUxV45yDM3xnA2vnERxgIVwWA2xgIdwDIRxgI5wndUwCTWvgwVwDwVwgoWsno0vgA4wWEWxWIPwC42yDw3xnoWyZYnwDwRwDhVxWh3yCTTvgMWwgEVwWIWwVXUwC44yDEUwWX4vnXRwgoWwWsVwnA1snoTvgh5xWwTxWsPwZYwwDXRyDh3wWX3wfTVvgX5wDs4xno4splksqihzCaTKkxcaj9PaG1iH2FPJG1iLkAVtVYjKGUPvHt1LqE9t25SLkmiMj8ksqJmLqT9tVxjJjJjJjIkvW48v2M#zZ9WajM#sfTfKGxSLgsfyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM#zqMdJjiPLn0ksWXTwnXTwZMdarteLkxjL3tQzCa0MjpRM2UeaqElwCTdwChkzgUTL2U5J29RsrYSKG50MW0kvDoRwDw2ynI4wWeivDoWsnERxWA1xDE2xgAdvDoRwDw2ynI4wWeivDoWsnoUvgM0yDI4wgIdxZ4Twns0xgE4wfXUwC43xnh2yns2snhRwnXVxnI1ynsdwDIRxWA5xgdVxfX5vgXTwgA2xDdVsnXRxWA4yDXUwWI3snARwnXVxnI1ynsdxC43xnE1xDI2xZMdJjiPLn0ks2JjJjJjJfMSzgUTIHBlsqA9t00UwV41vnMRxWhVynhWwgsdDnoUvgd1wWE1wWAPxf4UxnI0xnI2wCYwwDoRwDA2xnA2xfT2vgd1wWE1wWw5soTUwf43yDs4yDwVvndRxCYwwDoRwDA2xnA2xfTUwZ4UxnI0xnI2soTUwC44xDw1xDw0vnoTvgd1wWE1wWAdDnoWvgEPyC4VwnMUwnI3yZYwwDERwDA2xnA2xfTUwZ44xDw1xDw0soTUxC44xDw1xDw0vnoTvgo0xgA0xgIdDno0vgsTxWoTxgdPyZ41soTUxC44xDw1xDw0vnIRynEWxDEWwWhdDno1vgo0xgA0xgIPxf4UxnI0xnI2wCYwwDwRxCT3vgM5wgd5wWsVsplksqJmLqT9tVxjJjJjJjIkvW48v2M#zZ9WajM#sfTfIGx0KG9RsglfLHF0JCsPsjpgaqiSLgsfyft1Lj11aqEfvZt0bHYisglfM3JksfTfMq9WKHBmL24fyftPJGJ0sfTfLGpVJ2iRsglfwZXTsnXdwDXTsfTfM2xeLqEfyfsUvgwfvZtmI29RM2xSLq9VsglfxnXWJDATsk0PsjxSLkBVL2Ucaj9PaG1isgm7sj9VJqFVsgl2vZtSLfs6wCTfariTJCs6skxlIHYisfTfIGx0KG9Rsglfaj9PaG1isfTfKZs6xfTfMj91LjBmLjMfygXPsjx1M3BSLHamJrBlsglUvZt3sgl3wZTfICs6sgofvZteIjMfyfsTvgwfvZteL3JiMfs6sgXfvZtgL2USMfs6sgATw2E0wZsPsjxSLq9VIjMfyfs3wWI4xWwfvZtgL2USMj92JHsfyftjJjJjJjIfvZtlKGBisglTvZtlKGBiL3F0LHF0JCs6wCTfMj90IHBmL24fygXPsjtkMqphJqiRJVs6sgEdwZX1snXfvZtfJVs6wZTfKqpRJqUisglTvZtTL3xmaqiSLfs6sjUiJkAfvZtQIHtkKG4fyfsTsnXdwZXUxnXfcCTfI29RartSLp90KG1isgm7sj9VJqFVsglWvZtSLfs6wZTfIGx0KG9RsglfaqiQJCsPskB5MqEfyft0JHe0sfTfaqF4aZs6sf0TygXTsfTfJj9RarxmbjEfyghPsj1eMjamLfs6sgXdwZXTsnXfvZtgLqigKVs6wZTfM2FTIHteaq9VsglfvVsPsjiRajFVM2F0KG1isglTvZtPJHB0JHtWMqpgKG5ksglUvZtlKGBisglUvZtlKGBiaG50KGUWaqpVaqFhsglUcCTfI29RartSLp9haHteaqiSLfs6bVtSMjBiMfs6xVTfL24fygXPsjpgaqiSLfs6sjB1Mjp0KG9RsfTfariTJCs6skBibrAfvZt0JHe0sglfvVXTygXTsfTfJj9RarxmbjEfygoTvZtQIHtkKG4fyfsTsnXdwZXTsfTfI2UmI2PfygY9vZtgL250Mj9PH2t1JjJiMfs6bVtSMjBiMfs6yZTfL24fygoPsjigL24fyfs8Jqi2sqxPIHxWzCaPL2phJHslMjpRJZhkzgUWajMdI2UeM3w9t2xmMjx1LqpVurteLjAmtVY2KGF3Aj94zCMVxCXVxCX1wZX1wZM#zqxmMjxPJCYgLqpWMW0kMqp0KZeVIG5huCMdM3BVL2QizCMlI29PL3smtVYgbn0kxDXksqx5zCM1wZMdMg0kwgXksqJmLqT9t25SLjEksrx0Mj9OJC13KGB0Kn0kwfMdM3BVL2QivG1maqFVLqiQKHA9tWoTtV8#zZ9WajM#zZ9hKHI#crU8vjUSIGBiMfeVIG5huCY7Mq9WKHBmL246srtiLqp0KHJiy21eMjamLgldwZYeaHBSy3amJrBlyfX1wrY4y30RLq9eJqFVurteLjAmyjtiJj9VJCY7I29RaqFRanldtVM7JqiWMqUebDldIjUSI2P7MqphJqiRJV10L3X6snoTwZE7cC5gKHtgaGUeMfeVIG5huCY7vHaiIjQmaZ1eLjiQIHBmL246srtSaqp0JCXVMVYPKG5iIHsdKG5jKG5maqE7IG5mLGp0KG9RyfYVL3BeaqEdwkwdLqiRJGpVsqiRJjiRKHBiy2eiKGalanldwDXTtDPQa2FfK2i0vHBVIG5WJj9VLC1SMjikKG46sqxiLkBiMfYgJG50JHs7arteLkxjL3tQvG9VKGamLgldI2FRaqFVsqxiLkBiMgQ3KGB0KnldwDXTtDQTL3xmaqiSLgldIGtWL2U1aqE7aq9TyfXTy2tSarBSLDldwnQPJGJ0yfXTy3tmJ2e0yfXTy21eMjamLgldIHF0LWQ9vkYeaqdlMjpRJZhdb3x0Mj9OJC1hIHxlIHtVIHh6snoPsnsTwnQWartSK2EQJqpWKq9jJkxianldwnPQa2FfK2i0vGpRKG1eaqiSLgldJqpWKZXUvgFWsqFeM2EQKG4QL3F0sqiRJjiRKHBiy2pRKG1eaqiSLgldJqpWKZXUvgFWsqFeM2EQKG4QL3F0sqiRJjiRKHBiy31XvHaiIjQmaZ1OJHijMjpQJHwdMj90IHBisrPUwnXisrPQa2FfK2i0vHBVIG5WJj9VLDldMj90IHBiunw2wqBiJVh7arteLkxjL3tQyfYVL3BeaqElwWITJqFkuDQ9cEYOJHijMjpQJHwdMj90IHBisrPUwnXisrPQa2FfK2i0vHBVIG5WJj9VLDldMj90IHBiunw2wqBiJVh7arteLkxjL3tQyfYVL3BeaqElwWITJqFkuDQ9cEXQa2FfK2i0vGQibGJVIG1iMVYhIHxlsrPTtCY7M3BVL2QivGBeM2eeMktebDldwCTdwgXTy3x0Mj9OJC1hIHxlL2JjM2F0yfXTy301wZEdb3x0Mj9OJC1hIHxlIHtVIHh6snd5vZXVwnX7M3BVL2QivGBeM2eSJjJWJHA6sZ0WxHY4y30UwnXisrQWartSK2EQJqpWKqpVMjp5yfX4yCTdwgXTy3x0Mj9OJC1hIHxlL2JjM2F0yfXQwDs0Mrd7cH1XK2F5JkteLGFWsqBeM2ddbWXisrQWartSK2EQJqpWKqpVMjp5yfXUvZXVwnX7M3BVL2QivGBeM2eSJjJWJHA6snX7cDETtCY7M3BVL2QivGBeM2eeMktebDldynhPsnsTwnQWartSK2EQJqpWKq9jJkxianldvDw1Mrd7cDoTwZEdb3x0Mj9OJC1hIHxlIHtVIHh6snd5vZXVwnX7M3BVL2QivGBeM2eSJjJWJHA6sZ0UwgBTbnQ9cCsPsjpgaqiSLfs6sjt1JjJiMfsPskB5MqEfyftgM3wfvZtTL3xmaqiSLfs6sjUiJkAfvZtWI2pPJCs6sgoRwVsPsjxPKGxOsglTvZtlKGBisglUvZtQIHtkKG4fyfsTsnXdwZX0wZsPsjxSLq9VsglfxnXWJDATsk0PsjxSLkBVL2UcM2F0aqiRJ3wfykPfL3thJHsfyghPsj9RsglTvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksqJmLqTQMkFPJD0kLj9RbjFVLVMdarteLkxjL3tQzCa0MjpRM2UeaqElwCTdwChkzgUTIHBlsqA9t005vgh1yDsUxgw2vnXdDnoUvgX3wWAWxDsPwf40wgs5ynX3xCYwwDsRwnd0wgM4vnsRyDM2ynw2xWEdDno0vgE2xDAVxgwPwC44xghUwgA3xCYwwDIRwnXUwWE1wVTWvgw1xWI2xgd5soTUxC4UyDMVxgA3vnERynAUxno3wnhdDno1vgAUxDA3xDIPxf44wWX2ynAWxCYwwDMRynMWxWX2wVT3vgM4ynw5wDodDno4vnhRynAVwgh5xDAdDno1vgE1wWw1wDAPwDXRynXTwnX2wVYwwDERwnMTynA3xVTUwC44wWd0wnd5soTUxf4Tyno2yDX1vno0vgw0wgsTyDwdDno0vgI1xgITxnsPwDERynoWxDA3yCYwwDsRwDEWwDE0wVTUxZ43xghVwnA1soTUwC4TwgM0xWI2vno1vgs0wgs0wnddDnoTvgX4xDEUwnoPwDMRxgX3xgMdDndRwnIWyns0xDAPwDMRxVYwxf45ynAUwnE0xVTUxC4Vynd0wnE4soT1vgdUwgA2yDsPwDARxWdTxWo0yZYwwV40xnIUxDE3xZTUxC44xDw3xWsUsoTUvgh2xns2ynoUvno0vgAWxnEWyDwdDnsRyDs5wgM1xDoPwDoRynd0xDMWyCYwwf4WxgIWwDw0xCTUwZ44wgwTwgI5soTTvnhRynh5yDM0ynwdDnXRwnsWwnATyDX2yCT3vgdVwWX0xDM4soTVvgA0xgM3wDdUvnIRynAVwWo4xnsdDnsRyDATxWw0wWEPxC44xno0wDMTyCYwwC44ynw5wWs5xVTWvgw1xWI2xgd5soTWvgwWwDwVwnd1vnoRynhVwgI5wDwdDnERynI5ynd2xgAPwf44yDIUxnX4xfYwxf45xWs2xnI2wfTVvgA4wnM3yDddDnMRyDw3xDwTyZTTvgX0xgX0wDsUwWIdDnhRyDE5wgo2wWIPwZYKso04vgd0yDhWynMWvnIdAWMRwgM2wnwWxnEPxfX2vnMRwgM2wnoWwgddxfT4vgd0yDhWyDM0sow2vnoTvgAVwWh4xgMdxV4VxWITwWw0xCTUwC43sndRynA5yDw4xWwPwDoRxVYnwDXRxnsWyDI2xfTUwC43snoUvgMPwDXRxnsWyDd2xVXUwC43vndRynA5yDw5xWAdAWoUvgMPxV4VxWITwDwVyZXUwZ40wgw5xgI2vnIdyZ44xnh5wWd3wVT2splksqJmLqT9tVxjJjJjJjIkvW48v2M#zZ9WajM#sfTfIGx0KG9RsglfM2F0aqiRJ3wfvZtTL3xmaqiSLfs6skBSMZ1VKGalaZsPsj1eMjamLfs6sgEdxCXTsnXfvZt0bHYisglfM3JksfTfM2xeLqEfyfsTvgdfvZtlKGBisglUvZtlKGBiaG50KGUWaqpVaqFhsglUcCTfI29RartSLp9TLqp5LqiWaZs6bVtSMjBiMfs6wDXPsj9RsglTvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksrBVIG5WJj9VLD0karteLkxPIHBiunsPsnwmtW48Mqp0KZYhzCaxwZTTsoTUxfTTsoTUxfTVsoTTvnsdDnXPwZYKso0TvnIdDno2vnIdDno2vnddDnXPyZYwwZT2spldDDXPwDsdDno2vnoVsoTUxfTUxZYwwZTUxZYwwZTUwfYKtVYjKGUPzCMgJjJjJjJjtV8#zZ9kzgTSM3JkzfsPsjpgaqiSLfs6skYPIHiPKHx0sfTfMq9WKHBmL24fyftPJGJ0sfTfLGpVJ2iRsglfwZXTsnXdxfsPsjtksglUvZtWI2pPJCs6wC41vZt0bHYisglfM3JksfTfIG5mLGp0KG9RsglfMq9WKHBmL24fvZtfJ3YeJqBmLjMfyfsWsnwdwVXWsfTfIjaesglTvgAPsjtkIG92JHsfygXRyZTfaqiTsglTcCTfI29RartSLp9jaGUPsgm7sj9VJqFVsglUwCTfL24fygXPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM#zqMdJjiPLZ1VaGUizCaRL256JHtStVY0MjpRM2JSMj09t3BVIG5WLqp0JCdQwCTdvDomtW48Mqp0KZYhzCaxwDXRyDXTxWo5wCTUxZ44wWIUxnsUsoT3vgMTynX2yDX2vnoVvgo4xgh4wgodAWMRxDs2yDX5wnIPwDsRwnw2xWXVwCX3vgw4xWhTyDX2vnoUvgd2xgsWwgodxV4UwDATynhTxfTUwC44xgIVwWsUsow2vgM0wgd0yDX2vnoUvgd2xgsWwgodxf41wgXUwnhTxfTUwf4UxWs3wgsUsnIRxDsTwDX5wnIPwDsRxnITwgoVwCYwxf41wgXUwnhTxfTUxZ4VxnsUxDsUsoTVvgw2wgsWyDX2vno0vgs0wgo1wgodAWsRwnw1xDA5wnIPwDARwgAVwDEVwCXUvgM2yns1yDX2vno0vgETyDA0wgodwC43xgdVxDhTxfTUxZ44wWIUwWsUsoTUvgM2yns1yDX2vno2vgXVxnX5wgodAWoRxWI4wgE5wnIPwDIRwWETxWdVwCXVvgXWxDE0yDX2vno2vgIUynX3wgodwf4WxgsVwWhTxfTUxf42wDdTxWsUsoT2vgEVwnoTyDX2vno2vgIUynX3wgodDnIRxDsTwDX5wnIPwDdRxnXTwnoVwCYnxf41wgXUwnhTxfTUyZ42ynM1wnsUsnIRxWAVynA5wnIPwDdRyDhWyDhVwCX3vgoUxnX4yDX2vno4vgh5wWh5wgodAWMRwWd3yDo5wnIPwDdRyDhWyDhVwCX3vgEVxghTyDX2vno4vgdVwWEVwgodxV43wndTxghTxfTUyZ42xWwVxnsUsoTUwZ45wnX3wDhUvno2vgXVxnX4wgodAWoUvgoVynsTyDoPwDERynw4xWIVwCXUwC4VxWo5xDhUvno1vgI5xnAVwgodwDoRwgMUyDE5wCTUxC40wWXUwnsUsowUwC4VxWo5xDhUvno1vgo2xDM4wgodwDoRwDs4wgo5wCTUxC4TwgsTxnsUsnoTvghTwnMUyDoPwDARynw2wDsVwCYwwDXRyDXTxWo5wCTUxZ44wWIUxnsUsplksrBVIG5WJj9VLD0karteLkxPIHBiunIRxDsTwDX5vZXUxC40wWXUwDsmsrtSaqp0JCdQwgs1vgXTwnXTwZhdarteLkxPIHBiuZ02vgEVwnoTyCTdvDo1vgAWwnoUwfhdtVYjKGUPzCMgJjJjJjJjtV8#zrYeaqddJn0kDDo5vghTxDXWwnAPxC45wWA3xWX4soTUxf43wDsWyDX0vnwRwgd1xgoTyZYnwDIRxDwUwgsTxZTWvgoWxDwWwnddwDIRwWhVwgwTxZTVvgh2xnd2wnddwDIRwDo4xnoTxZTVvgh2xnd2wnddAWo1vgM0xWo3wnAPwf45xgA4xgX4sno1vgEVxnAVwnAPwV4VxWoWxDX4sno1vgEVxnAVwnAPwV41xDd4xnX4soTUxC41wgA0wgX0vnERwWATxWdTyZYwwDoRwWI2xDITxZT1vgw0wnM4wnddAWoUvgXWyDd3wnAPxC4WxnX3ynX4snoTvgM3wgE4wnAPxC42wndTynX4snoTvgM3wgE4wnAPxC45wWA3xWX4soTUwZ43xWs1ynX0vnMRwDsVxWwTyZYnwDXRxWMVxDdTxZT3vgA0yDAVwnddwDoRwnw5ynMTxZT3vgMUxgMUwnddwDoRwWI2xDITxZT3vgMUxgMUwnddDno1vgEVxnAVwnAPxV43wDI3wDX4soTUxC41wgA0wgX0vnhRxnh4xgETyZYnwDERxDs0xnsTxZT5vgM4xgo0wnddwDERxWA3wDMTxZTUwZ4TyDs2wWX4sno2vgoUynAUwnAPwDXRwnhVxgwTyZYnwDIRwWhVwgwTxZTUwZ4TyDs2wWX4sno2vgEWwDsVwnAPyC45wgsUxgX4sno2vgMUwgw5wnAPyC43xWo4ynX4soTUyC45wnETwWX0vnMRwDsVxWwTyZYnwgXRwDwVxDwTxZT2vghWxWAUwnddwgXRwgM2wgMTxZT2vgM5wWX3wnddwgXRwgM2wgMTxZT2vgEVynM1wnddAWsTvgs3xgs3wnAPxf4VxgA0wWX4snsTvgoWwgEWwnAPxf4UwgX2ynX4sno5vghTxDXWwnAPxC45wWA3xWX4soTUyC45wnETwWX0vnERyDw0xWMTyZYKtVY0MjpRM2JSMj09t3BVIG5WLqp0JCdUxC41wgA0wgEPsnIRxDs4xWA2uCYVL3BeaqElvDA1vgXTwnXTwZhdarteLkxPIHBiuZ0UxC41wgA0wgEPsZ02vgEVynM0xfhdtVYjKGUPzCMgJjJjJjJjtV8#zZ9kzgTSM3JkzfsPsjigL24Vsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksqJmLqTQMkFPJD0kLj9RbjFVLVMdarteLkxjL3tQzCa0MjpRM2UeaqElvDoPsZ0UuCM#zrYeaqddJn0kDDMRxWX4wnI5wnIPwDsRwDd2yDdVwCYnxV41wgI5wnhTxfTUwf4TwWI3wnsUsnMRwWd3yDX5wnIPwDoRynI2wgwVwCX3vgoUxnX4yDX2vnoUvgd2xgsWwgodAWIRxWAVynA5wnIPwDoRynI2wgwVwCX2vgEVwnoTyDX2vnoVvgo3wgMVwgodxf41wgXUwnhTxfTUwf40xgXVwDsUsoT2vgEVwnoTyDX2vno0vgs0wgo1wgodDnsRwWIVwgw5wnIPwDARwgAVwDEVwCYnwf4TwWE1xnhTxfTUxZ4VxnsUxDsUsnoRxWI4wgE5wnIPwDARxDX5xnAVwCXUvgM2yns1yDX2vno0vgdWxgoWwgodDnoRxWI4wgE5wnIPwDIRwns0wnhVwCYnwC43xgdVxDhTxfTUxf4WxDX3ynsUsnsRwnw1xDA5wnIPwDIRxgo4wnMVwCXVvgw2wgsWyDX2vno2vgIUynX3wgodDnIRxDsTwDX5wnIPwDIRxgo4wnMVwCYwxf41wgXUwnhTxfTUyZ40wnXTwDsUsow2vgEVwnoTyDX2vno4vgI4xWETwgodxf43xns4xnhTxfTUyZ45yDw5yDsUsnMRwDo0wnd5wnIPwDdRyDhWyDhVwCYnxV4WynM5wDhTxfTUyZ45yDw5yDsUsnMRxDs2yDX5wnIPwDdRynsWxDsVwCX3vgMTynX2yDX2vno4vgI3wWs0wgodDnoTvghTwnMUyDoPwDIRwns0wndVwCYnwDoRwDs4wgX5wCTUxC44wWd3xgsUsnoUvgs3wDh1yDoPwDERxgh0xnsVwCXUwC4VxWo5xDhUvno1vgAWwnoTwgodAWoUvgs3wDh1yDoPwDERwDI1xWdVwCXUwC4UwgdVwDhUvno1vgXVwgX0wgodwDXRyDXTxWo5wCTUxZ44wWIUwgsUsoT3vgMTynX2yDX2vnoVvgo4xgh4wgodGfMdarteLkxjL3tQzCa0MjpRM2UeaqElxf41wgXUwnhPsno1vgAWwnoUwfhdMj90IHBiuZ00xC4TwnXTwnXmsrBVIG5WLqp0JCdQxf41wgXUwnhPsZ0UxC40wWXUwDsmsZMdJjiPLn0ks2JjJjJjJfMSzgUTIHBlsqA9t00UyC45wnETwWX0vnERyDw0xWMTyZYwwDIRxWoVwWhTxZTWvgs4xDIUwnddAWo2vgEWwDsVwnAPwV4UwWEWwWX4sno2vgw5wgsWwnAPwf45xgA4xgX4sno2vgoUynAUwnAPwf45xgA4xgX4sowUxC43xnMUxWX0vnsRyDI0ynITyZXUxC41wgA0wgX0vnwRwgMUwWETyZXUxC41wgA0wgX0vnwRxDE4ynATyZYwwDERxDs0xnsTxZT1vgw0wnM4wnddDnoUvgw2xgE2wnAPxC4WxnX3ynX4sowUwC4TwWh4xWX0vnERwWATxWdTyZXUwZ43xWs1ynX0vnERxgX4wndTyZXUwZ43xWs1ynX0vnERyDw0xWMTyZYwwDXRxWMVxDdTxZT3vgoVwgMWwnddAWoTvgM3wgE4wnAPxV40xnh0wgX4snoUvgXWyDd3wnAPxV43wDI3wDX4snoUvgw2xgE2wnAPxV43wDI3wDX4soTUxC41wgA0wgX0vnMRxWo2xWoTyZYwwDERxDs0xnsTxZT5vgA5ynI1wnddAWo1vgEVxnAVwnAPyC43ynIUxnX4sno1vgM0xWo3wnAPwDXRwnhVxgwTyZXUxf4UwDd0wDX0vnoTvgX5wgIWwnddAWo2vgw5wgsWwnAPwDXRwnhVxgwTyZXUxf41wWoVwgX0vnhRyDsVwDITyZXUxf43wDsWyDX0vnhRxWMUyndTyZYwwDhRyDX1wnwTxZT3vgoVwgMWwnddAWsTvgoWwgEWwnAPxf45wWM0wDX4snsTvgs3xgs3wnAPxf43yDwTxWX4snsTvgs3xgs3wnAPxf41wgd3xDX4sowVwZ4VxWIVxWX0vnIRwgI0xnwTyZXVwZ4UwWs1wWX0vnIRwDsTxgdTyZXUyC45wnETwWX0vnERyDw0xWMTyZYwwDhRyDX1wnwTxZT1vghWxnM3wnddGfMdarteLkxjL3tQzCa0MjpRM2UeaqElwDERxDs0xns1vZX2vgEVynM0xfhdMj90IHBiuZ0VwgERwnXTwnXTuCY0MjpRM2UeaqElvDo1vgEVxnAVxCTdvDIRxDs4xWA2uCXksqJmLqT9tVxjJjJjJjIkvW48v2M#zZ9WajM#sfTfIGx0KG9RsglfJkFPLrxgMjFiLfsPsjpgaqiSLgsfyftRL3tQIGUWI3tiJG4fvZt0bHYisglfM3JksfTfMq9WKHBmL24fyftgL250Mj9PMV1VKGalaZsPsj1eMjamLfs6sgXdwDXdwZXUxCt9vZtgL250Mj9PH3x0IHt0sgm7sj9VJqFVsglUwVTfMq9WKHBmL24fyftgJG50JHsfvZtWI2pPJCs6wfTfL24fygXPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM#zqMdarteLkxjL3tQzCa0MjpRM2UeaqElxCTdwVhkzgUTL2U5LqiRJCYTL2iRarw9tWXRxDhWxWEdwZ40ynAWyZXTvgE2wgEdwDwRxDo1xgwdwDoRxnw3xCX3snXRxDhWxWEdwZ40ynAWyZMdJjiPLn0ks2JjJjJjJfMSzgTSJW48v3x2JW4fvZtmI29RwVs6sgUWajMda2ihaqd9tWsTtVYlJGikKrA9tWsTtW48JVY0MjpRM2JSMj09t3BVIG5WLqp0JCdVvZXWuCM#zrYeaqddJn0kDDo2vnMRwDw2xgoUwWsdDno2vnMRwDX5wDI5xnEdDno1vgsTyno3ynEPxV4UwnhUxgh0xCYwwDARwgM1wnhWvnMRwDX5wDI5xnEdAWo0vgs3xDX5wVTWvgo5yDoVxgs1snoUvgX2wWo5xVTTsnMRwDw3xDA2xnEPwZYnwV4VwDo4yDE5wCTTsnXPwV4UyDhUwgIVxCXTvnMRwDX5wDI5xnEdAWXPwDoRwno5wgoVxfXWvgsUwDd5xDhUvno0vgsUynwWynhdxV4UwWM1xnI0xCTUxZ4VwDdWwWd5soT3vgoWxWE0xgA1vnoVvgA0wDX0xgEdAWARwDhWwWX4xDEPwDsRxnAUwnA2xCXUvgM4xnw4xgIVvnoTvgX0wDMTwDddwC43ynAWynI2wfT3vgoTyDo2yDA1sowUvgM4xnw4xgIVvnARwDM2xgw3wnEdxZ4UyDwWwnd1xCTUvgM3xWs5wgw2snMRwDw3xDA2xnEPwC43xWMVyDsWxfYnwDXRwndUxWd0xZTUvgM3xWs5wgw2snoVvgA5wnMTxgwPxZ4UxWI2wWMTxCXUwf40yDX3wnIWvnMRwDX5wDI5xnEdDnoTvgI0xnEUxgMPxV4UwnhUxgh0xCYwwDwRwWdVynh5xfTUwC41xDs0wnX0soTUxfT3vgoWxgIUwDwVsplksqJmLqT9tVxjJjJjJjIkzgTSMqp0Kn48v2M#zZ9WajM#sfTfIGx0KG9RsglfMqUebCsPskB5MqEfyftWajMfvZtfJVs6wCTfIjagL2USMfs6sgXTwnXTwZsPsjtkLVs6wCTfIjaTIGBhKG5ksglfxVX3snMdxVsPsjigL25QIHtkKG4fyfsTsnXdwZX0sfTfIjaesglTvgwPsjtkIG92JHsfygXRxfTfM2xeLqFSajFVsglVvgoPsjemJqEfygoPsjemJqFSLkYPIHhfygoPsjemJqFSLkiSaHB1IjEfygp9vZtgL250Mj9PH2UmajEfykPfL3thJHsfygoVvZtSLfs6wZTfaqF4aZs6sjUmajEfvZtPJHB0JHtWMqpgKG5ksglVvZteI3BmL24fyftPKHJisfTfariTJCs6skBibrAfvZtlIG5hsglTvZtgLqigKVs6wZTfJj9RarxmbjEfygoTvZtQIHtkKG4fyfsTsnXdwZXUxCsPsjofygXRxCTfKqihJCs6wCTfKqihJG9Raj9hsglUcCTfI29RartSLp9Waq9Tsgm7sj9VJqFVsglUxZTfL24fygXPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM#zqMdarteLkxjL3tQzCa0MjpRM2UeaqElxZTdxZhkzgUVJGx0srd9tWXksrh9tWXksramJrBlzCMUwfMdKqFmJ2e0zCMUwfMdJjiPLn0ks2JjJjJjJfMSzgTSJW48v3x2JW4fvZteI3BmL24fyftWaq9TsfTfariTJCs6skx2JVsPsjtksglTcCTfI29RartSLp9TMjF2sgm7sj9VJqFVsglUxCTfL24fygXPsjigL24fyfs8M3JksramJrBlzCMVwZMdKqFmJ2e0zCMVwZM#zqMdarteLkxjL3tQzCa0MjpRM2UeaqElxC41vZX1uCM#zrYeaqddJn0kDDdRyDh5yDhPwDXRxnw3xnhdDndRyDh5yDhPwDXRxnw3xCYwwfT1vgsUynM1soT4vgh5yDh5vnXdDndRyDh5yDhPwDXRxnw3xnhdGfYxwZTTsoTVvnXdDnsPwDXRwgA5ynwdDnXPwDXRwgA5ynwdDnXPwZYKtVYjKGUPzCMgJjJjJjJjtV8#zZ9kzgTSM3JkzfsPsjpgaqiSLfs6skYVJHIfvZt0bHYisglfM3JksfTfM2xeLqEfygoRwfTfMq9WKHBmL24fyftgL250Mj9PMVsPsj1eMjamLfs6sgXdwZXTsno1sk0PsjxSLkBVL2UcLjF4aZs6bVtSMjBiMfs6wDIPsj9RsglTvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksrBVIG5WJj9VLD0karteLkxPIHBiunEPsnEmtW48Mqp0KZYhzCaxwZ40xgh0yZTUJC0TxCYwwZ40xgh0yZTUJC0TxCYwwZ40xgh0yZTTsoT3vgA2yDA3vnERwgo4xWEdDnXRxnI5xndPwDXRxnw3xCYwwZ40xgh0yZTUJC0TxCYKso03vgEWwnEVvnXdDnhRxDwTxDsPwZYwyC41wWX1wfTUwZ42wgA4wfYwxV41wWX1wfTUwZ42wgA4wfYwxV41wWX1wfTTsplksqJmLqT9tVxjJjJjJjIkvW48v2M#zZ9WajM#sfTfIGx0KG9RsglfLjF4aZsPskB5MqEfyftWajMfvZtWI2pPJCs6wC4VvZtTL3xmaqiSLfs6sjxSLkBVL2UWsfTfLGpVJ2iRsglfwZXTsnXdwDEfcCTfI29RartSLp9WKqpVJCs6bVtSMjBiMfs6wDMPsj9RsglTvZtmI29Rsglfzrx2JVY3KGB0Kn0kwgXksqeiKGalan0kwgXkzgUksrBVIG5WJj9VLD0karteLkxPIHBiunoPsnwmtW48Mqp0KZYhzCaxwDXRxDsVxWETwVTUwf4Wxnd0wDs4soTUwZ41wgs3xDXWvnhRwWXWwWh0wnodAWERxDw2xDd2xndPyC4UwDh1wnd5yZXVvgEWxndTyDd5vnoUvgw4yDI5ynodwZTUwV45wDs1wWX1sowTvnMRyDo1yDs1wDhdxC4VwgI5xgd3xVTWvgo5wgMUxDw2snoTvgEVwgM1wnwPwV4UwWh4xgXUsoTUwZ41wgs3xDXWvnXRwDo3xgA3wnE5soTUyZ4Twnw1yno4vnIRwgwWwns5yDwdDnoTvgEVwgM1wnwPwDsRwWA4xnoVyZYKtVYjKGUPzCMgJjJjJjJjtV8#zZ9kzgTSM3JkzfsPsjpgaqiSLfs6skxlIHtisfTfariTJCs6skx2JVsPskYSM2i0KG9Rsglfaq9TvHtmJ2e0sfTfLGpVJ2iRsglfwDEdwDEdwZXTsfTfIjMfygoPsjtkLVs6wCTfM2xeLqEfygoPsjtkMqphJqiRJVs6sgIdxfX2snIfvZtfJ2ofygXRwVTfIjaeL3JiMfs6wZ42vZteLjiQIHBmL24fyftTL3xmaqiSLfsPsjFeM2EfyftiLqpWaqigsk0PsjUeLjMfyftVaCsPsjemJqF2KGBiLVs6wCTfMj91LjBmLjMfygo1vZtTLqp5JHtlJGikKrAfygdTvZteM3YiI3AfyftSJjIfvZtTLqp5JHt3KGB0KZs6wgwTvZtWJHB0KG5kMVs6bVtWJHB0KG5kMWofygXPskxiarBmLjaWwGpgaqiSLfs6skxTJGFhsfTfM2F0aqiRJ3wVsglTvZtWJHB0KG5kMWwfygXPsjpgaqi2JGigL24fygY9vZtTL3x0JHtlKGBisglTvZtPL2MfygXPskYSM3BiMi9jLq9eaZs6wZTfM2eeJq93sglTvZteaHBSMqUebCs6wCTfIHF0L3YPIHiQaHBisglTvZtjKG5mM2eVJHamLjAfygXPsktiLq9eJZs6wCTfJjiPJCs6sje0arX6vV93JGtWartiIG0RMjphKG9SLjERKG4SLqi2JC9QaG1fIGhRM3BVJGpQv21eLjijJHx0H3MUwWd0wnw1xgXRLHYhsfTfMHFeLqi0bHx0L3tisglTvZtQaHBiM3BSMjEfygY9",u2:"",u3:"",u4:"",u5:"",u6:"",u7:"",u8:"",u9:"",y:"xx???x=xxx???=",p:"{partners}",isflash:-1,brand:"player",brandurl:"//liveradios.in",motions:[],dt:!0,pr:!0,ga:!1,gatracked:[],pjsga:!1,files_quality:[],files_audiotrack:[],rightclick:0,vastclick:!1,focus:!1,start:!1,metadata:!1,subtitle_on:!1,thumbs_on:!1,noads:!1,timerInterval:void 0,toolbarInterval:void 0,reloaderTimer:0,timerTime:200,tagvideo:!1,controlover:!1,logos:{},files_speed:[],time:0,casting:!1,dk:-1,current_speed:3,vastgo:0,reloadTimer:0,mediascale:1,sub_options:["sub_sizeproc","sub_color","sub_bgcolor","sub_bga","sub_shadow","sub_weight","sub_bottom"],vast_impressions:0,vast_starts:0,stuck:0,acted:!1},default_style={but:{w:20,h:20,action:"-",action_back:"-",a:1,aover:-1,color:"ffffff",type:"",scale:1,scaleover:-1,rotation:0,tip:1,icon:"",text:"",font:"Verdana",fontsize:12,letterspacing:0,position:"controls",margin:"0 3 0 3",marginproc:"0 0 0 0",click:1,clickmargin:"0 0 0 0",normalonclick:0,hand:1,bg:0,bgo:0,bgstretch:0,bga:1,bgaover:-1,bgcolor:"000000",bgcolorover:-1,bgpadding:"0 0 0 0",bgborder:-1,bgbordercolor:"ffcc00",iconscolor:-1,iconscolorover:-1,animation:"none",target:"_blank",tip:0,tipbgcolor:"000000",tipbga:.7,tipbgrounding:0,tipcolor:"ffffff",tippadding:"5 5 5 5",tippmargin:"0 0 0 0",tipa:1,tipfont:"sans-serif",tipfontsize:10,tipletterspacing:0,tiptext:"",linetipmarginbottom:5,toptip:0,hidden:0,stripsw:2,stripsspace:2,linespeed1:.2,linespeed2:0,linespeed3:.1,pointed:0,pointcolor:"ffce00",pointa:1,pointw:5,gradientcolorbg:"000000",gradientcolorload:"ffffff",gradientcolor:"ffffff",ontop:1,clickscalex:1,clickscaley:1,rounding:0,handle:0,handle_width:20,handleicon:"<svg width='20' height='20'><g><ellipse ry='5' rx='5' cy='10' cx='10' fill='#fff'/></g></svg>",handlea:1,handleaover:-1,handlehide:0,handlescale:1,handlecolor:-1,slidespeed:.1,link:0,linkurl:"",linkpause:0,linktarget:"_blank",src:"",hideonwidthlimit:700,hideoverwidthlimit:700,displayvolume:0,value:0,valuecolor:"ffffff",valuebg:0,valuebgcolor:"000000",valuesize:9,valuemargin:"0 0 10 0",valuepadding:"0 0 0 0",valuerounding:0}};function prtObj(){return!0}function fd2(e){}function fd3(e){}function fd0(e){if(-1==e.indexOf(".")){for(e=e.substr(1),s2="",i=0;i<e.length;i+=3)s2+="%u0"+e.slice(i,i+3);e=unescape(s2)}return e}function optStr(){""!=o.u&&(v=UpdateObject(v,JSON.parse(decode(o.u)))),0==options.indexOf("#2")?options=JSON.parse(fd2(options)):0==options.indexOf("#3")&&(options=JSON.parse(fd3(options)))}eval(function(e,t,i,o){for(var n=0,r=0,s=0,a=[],l=[];n<5?l.push(e.charAt(n)):n<e.length&&a.push(e.charAt(n)),n++,r<5?l.push(t.charAt(r)):r<t.length&&a.push(t.charAt(r)),r++,s<5?l.push(i.charAt(s)):s<i.length&&a.push(i.charAt(s)),s++,e.length+t.length+i.length+o.length!=a.length+l.length+o.length;);var c=a.join(""),d=l.join("");r=0;var u=[];for(n=0;n<a.length;n+=2){var f=-1;d.charCodeAt(r)%2&&(f=1),u.push(String.fromCharCode(parseInt(c.substr(n,2),36)-f)),++r>=l.length&&(r=0)}return u.join("")}("5a0931u2z2827333916243o01311m253z2q1b3v2c1b3q011z2k3o01322k3v3s37262t203n113238231q27352z142z2x252z1a3s29111z38231s27332z1432381w1z101611133v292q193z241s3u2v3z2n1z3w263c133v2b2q172z2411121m233c1i3e2936162x3u101z1m380y101z39233x3z2936182x3s101z1o3e162t39233x29213v3b233v29213x111z2s2711323s271s3u291p2o1g27323o2c1x2314193v1z1132223314312q193v1z1k1v332z1b323p3c1z3u2o211o1e25311q1m231z1s273r173z26163c1c3c3b381a3w29341x3u2s3o3u3930293p373237171431161z101m253e1o1z1z3w263c1b353a3x1z1x21141i1t1j161f1k1e1j1d1j3e161c1r3e1c1e1b3d143g1k3e1i1e1w1e121d172e1r2c1y2e1u2c1z2c1t2f1s2c1q1e152c1t2e1y2e1s2c132e1t3e1u2c1u1e1i2c1s1e1z2c1u1c1x2e1q2d1u2e1t2c1t2c1s2f152c1r2e1u2c1s2c1e2e1s2e1r2e1u2d1r2c1s3g1v2c1q3g142c1u2e1y2e1r2e1x2e1s1c1s2c1s2g1t2c1r2e1v2c1t2c1v2e1q3d1u2e1u3c1q2c1s3g1f2c1q2f192c1s3d102e1q2d162e1s3d1h2c1s3f152c1q3g102c1s3d172e1s3d1s2e1s3d192c1s3f1r2c1q2f172c1u3d1v2e1q3d172e1t3c1c2c1s3f162c1s3f1y2c1s3d192e1s3d162e1s1d192c1u3f1c2c1q3f172c1s3e1r2e1q2d172e1s3d1c2c1s3f172c1q3g1w2c1s1d172e1q3d172e1s3d172c1s3f192c1q2e1u2c1s1c1f1e191d1c3g1c1c1i1d1m3f1p3b1d3f1f3d1i2d123f1j2d1d2g1m1c1b3c1f3f1a3d1k1g1f1e1q3e1f3e1d1d1d3e1d1d161e1s1f191d1a3f1f3e1g3d1g2e1d1c1b1e1f1e1p3c1f1e163d111g1h2c1b1d1k3f1b3c1e1g1j3e1j3e1j3g123d1c3g1m1e1p1e1i3g192c1d1g1h3b1d2d1c1e1q2e1d1f1f3d123c1f3f1d3c1k3g1l3c1d3e181f1b3c101e1b1d191d1f1f1b1d1h1g1f2c1o2c1f1e1d1c1b3f1f1c181b1f1g1f1c172e1t1c1h2c1u1g1k2c1q1g1y2c1u1e1k2f1f2c1q3f1u2c1s1d1v2e1r1c1y2e1t3c1t2c1t2e1d2c1q1g1v2c1s3e1k2e1s1e1d2e182c162d102e1f172i2d143e1d2d1a3g1p3c183e1u3e181e1k3e1h1c1j1e1h2c161b1i3f122c1s2g1t2c1s2d1t2e1q3e1v2e1s3e122c1w2g1w2c1r2g1z2c1q1c1u2e1q2e1t2e1t2c1t2c1v2e1t2c1q3f1w2c1s3c1s2e1q3e1f2e1s3c1x2c1u2e1c2c1q1e1i2c1q3c112e1s1c1t2e1u1d1p2c1v1e1e2c1q1f1x2c1r2c1r2e1s1e1t2e1t2c132c1w2e1w2c1q3e1e2c1s2c1t2e1q1d142e1u3c1e2c1u3f172c1s3f162c1q3d192e1q3d1c2e1s2d172c1u3f1t2c1q3f192c1q3c1a2e1q3d172e1u3e192c1u3f162c1q3f182c1q3d1b2e1s3d1t2e1s3d162c1u3e1a2c1q3f192c1r3e1f2e1q3d172e1s3d1i2c1u1f152c1s3g1c2c1q3d1b2e1s3c1o2e1s1d152c1v3e1g2c1q3f172c1q3d1d2e1q3d152e1s3c1x2c1u1e1i1c163f1k1e1h1e1e3e1g3d1k3f1r3b1d3e1e1f193e1f3f131d1j1c1k1f1f3d1e3e181c1d1d181g1d1d1h3e1d1c1e3d161g1f3e173f1f3d1q1e1r3e1d1c1b3f1s2d1k1c1d3e1d3d1a1e1m1e1d1e1l3g1b3c1q1f1m1e1k1e1r1g1k1e1d3f1k1d161c1a1e122d1b3f1d1c1k3c1e1f1e1d121g1f3c1e3c1f3g1d3d1d3e1i1c101c181g1i3d1f2e1s2e1o3d1h3g163e1i1f151d1i1c1e1e1b3d1q3e1f3d1q2e1q3e1b1c1u2e142c1s2e1j2e1s2c1p2e1u1e1f2c1v1g1s3e1t2e1u3c1o2c1v3g1t2c1q2f1f2c1q1c1y2e1s2d1r2e1u2e1u2c1w1f1j2c1s2g1f2d142d1a3e1v2d10141h1d1e1e1g3g1s1e1j1f1d1c1h1d191f1d1d1d1e1l1c1s1e1l3e1q3d1e2e1u1c1g2c1s3e1x2c1u1e1x2c1s1d1r2e1r1c1g2e1u1d1v2c1t2e1k2c1u1g1x2c1r2c152e1s2c1y2e1u3c1c2c1u2e1p2c1s1f182c1q2c1u2e1q2e1k2e1v3c1x2c1u3g1w2c1t2e102c1q3d1k2e1q2c182e1u3c1p2c1u2e1o2c1t1e1i2c1s2c142e1s2c1z2e1u2c192c1u2g1c2c1t3g1l2c1q2d182e1q3c1c2e1u3d172c1s3g1c2c1s3f1a2c1r3c192e1q3d172e1u3c1f2c1s3f162c1u3e1f2c1q1d192e1q3c1h2e1u3d162c1u3f172c1s3f1b2c1q3c1z2e1q2d192e1u3d1c2c1s1f172c1s3f1e2c1q3d172e1r3e1b2e1u2d162c1s3f162c1s2f192c1r3c1j2e1q2d182e1u3d172c1s3f152c1s3f1v2c1q2c1u2e1d1c1f3d163e1d2d182g1d2e1c1e1k3d1k3d1y2g1d2c1c1g1e3d1f3c1b2f1i1d183f1f3c181d1g3g121d1h3f141d1u2d1j3f161c121d1e1d1c3d1m1e193c1d3f1l3d113d1l1e1g1d1h3f1i2c161c1f2f141e1s1f1l3c161c181e161c181e1u3e1h3c1a1e181e123d1e3d1a1c1i2f1d3d1f3e141d123e1d3e1d1d1e3f1l1e1d2c192f121d1c1e1e3c1d1d1i3f181e1g1f1e3e1i3d1h2e1q3d1j3f172d1c3d142f1c2d1c1e1h2d1y2c1u1g1y2c1t2g1e2c1r1c1u2e1s1c141g1m2c1q3c1y2e1s1c1f2e1v3c1d2c1f2e1q2c1t3g1x2c1r2c1j2e1r3e1x2e1v1c1q3d1u3f1u2c153e191c1r2q1g1r2b1g2b1j1r2o14","5d065o3q1t3s241c291s3b3x211d3o01121o272z2q1b3x3e1i1b3x111k1a21193u3y1z211611153v3b2q1932241u3u2v322n113w263e133x3b2q19202611311o232e1i3e2b361y2x3u11101o280y11102b233x3129381y2x3u1z121o3e182t212p113238251s27352c16212x252c182u29111z3a251s27332e1621381w1c2u291y2s29183u291s2u291q3e1z3w2811113u28113w263s2o3q01112z2b3y141o252e2q111z211411121o252e2q2o37202q11313129233x3238143q011e1e2t2e2b2q142s11121f311o11213a25353w273w273r153823111z3a391131141j111e1o2c182v312r2c2b233x312o1i29333e293y141o141i1e1e1f1e1c1h1e122g1i1e1e2g1m1c1a3g181g131g1m1e1k1d1f2e1s1f1p2e1v2g1t2c1s2e1w2e1q2g1g2e1u1c1z2e1s3e1p2e1w2e142c1s2g1m2e1s1e1m2e1u3c1h2e1u3f1x2e1u3e1z2c1t1f1u2e1q1f1w2e1s2c1u2e1t3g1t2e1w2e1v2c1u2g192e1s1f102e1t2e1q2e1s2f1w2e1v2g1l2c1t1e1u2e1r2e1u2e1s2c1y2e1s3e172e1w2g102c1s3e172e1r3g1v2e1s2d172e1s3f1v2e1u3f172c1s3f1e2e1q2f1b2e1s3d1a2e1s1f172e1v3g162c1s3f182e1q3f1x2e1s1d172e1t3g1a2e1u3f182c1s3f142e1q3f1b2e1u3d1a2e1s3f162e1u3f1h2c1s3f192e1q3f1f2e1s3d172e1s3f1r2e1u2f192c1s3f162e1q3f192e1t3c1i2e1s2f152e1u3f192c1s3f172e1s2e1w2e1s2c1e1e1f1e1k1g1e1e1k2d1d3e1b2e121e141f143d1s3f1c1g1s1f1y2f1j2d183f121d1d3g1g3f1m1c1b3e1f3f1h3f153f1l1c1i1f1h1f1e2e1a1e1f1d161g1s1g1h3e1e1e1g3e141f1h3g173f1e3f1s1e1m3e1f1e1d3f1e3f1f3d1f3f1f3f1d1f1d2f1e3d1e3f1e2g1q3e1h1e141d1s1g1f3g1p3d1e3f1f3c1f3e181e1d2g1d2e1c1d1b3f1g2e1d2e1e1g1k1c1d3e1g1f1e2e1l1f1t2c1s1f1j3e1b3f1a1e1d3e1i3f1f1e1e2f1v2g1l2c1u2f1i2e1q1g1l2e1u2c1h2e1s3e1p1e192e1t2c1i2e1u1e1k2e1u2g1a1c1u2g1s2e1r1g1l2e1u2d102e1t2e1f2e1v2f1w2d1t3e1y3e121r1v3g1b3d1q1e191e111g123e161e1i3f171g1c2g1k1e1z3e1i3g152e1r3g1v2e1w2c1v2e1u2g172e1u1f102c1t2g1q2e1q2f1y2e1v2e1l2e1t1e1s2e1t2e1u2c1s2e1y2e1q3e192e1w2e102e1s3e152e1t3g112c1s2e1w2e1s1e1l2e1v2c152e1s1e1j2e1s3g1h2c1u1e1e2e1q3g1g2e1w1d1x2e1t2g1h2e1u2g1v2c1u2g1z2e1q2e1c2e1w1c1x2e1u2e1f2e1s1f1a2c1u3f1a2e1q3f192e1u3d1a2e1s3f172e1u3f1q2c1s3f192e1r3e1d2e1u1d182e1u3f132e1s3f192c1t3f1d2e1q1f182e1w3e102e1s3f162e1s3f1b2c1s3f182e1q3e172e1u3d172e1s3e1b2e1s3f192c1s3f1l2e1q3f192e1w3e1f2e1s3f152e1s3f1l2c1s2f182e1s3f1e2e1u3d172e1s3f192e1s2e112c1s2e1k1e1f3e1f1f1g1c1h3d1f3f1d3e1b2e163c103d1d3g161f191g1e1e1g3f1g3e1d3f1f2g1m3c1l1e1i1f1f1f1c3e1j3c1b1f1k3f163f1f3e1c1e1g3f141f1f1e121g1y2d1j1f181e101d1d3g1g3e1m1e1b3e1d3f1j3g1g3d1e3g1e3f1c3e1f3f1e1e1k3f1k3f1u1f142e1g1c1b3e1d1g1f1f1m3e103e1f2f132e183f142f1e3c1g3e1i3e1d1e1s2g1r1c1c1g1b3f123g1d1g1k1e1k1f1h3e101f143e1c1e1r1g1b3e1c1e1y3e1w1c1x2e1t3e1q2e1s1e1h2c1s2e1j1e132e1u2f1a2c1t2g152e1q2g1t2e1u1c1k2e1u1e1s2e1u1g1s2c1s3f1i2e1q2e1t2e1w3d1r3e182e1p1e191d2h2e1e3g1e1e1i3e1m1g1j1d1k1e1f3e1g1f1g1f1g2c1h1g1d2e152e1u1e1l2c1t2e172e1s1e1l2e1s3e1f2e1w1e1e2e1s3g1g2c1u2f1z2e1t2g1j2e1u2e1t2e1w3g1z2e1s2e1c2c1u1e1z2e1u2e1h2e1s1c1u2e1u2e1w2e1t2e102c1u2e112e1t2f1u2e1s1c152e1v2g1y2e1u2e152c1t3g1w2e1u1e1k2e1u1c1z2e1w1e1x2e1s2f1w2c1t2e1v2e1s2f172e1t3c1z2e1u3f182e1s3e1e2c1s3f1b2e1u3f1d2e1s3d182e1u3f1d2e1s2f172c1t3f112e1s3f172e1s3c1k2e1u3f172e1s3f162c1s1f1b2e1s3f152e1s3d182e1u3f1v2e1s2f192c1s3g1i2e1s2f192e1s3d1e2e1u3f172e1s3e1q2c1s1f1b2e1u3f1t2e1s3d182e1w3g1y2e1s3f172c1s3f1b2e1s3f172e1s2c1u2e1u2g1f1e123g193d1q1e1r3f1r3d1d3f1f3c1b2e1r3e1y2f1k3g1f1c1f1g1r3e1d1e183f131e1h2e1d1f1k1f1f3e1g2c1s2g1e3g1c1e1j3e1d2d1b1f1l3f183e122e191e1f1g1i3f1g2e1f3f1s1e1k1e1q1e1i1f1h3f1c2e1k3f1m1f1k3f1k3f1f3d1f1g1l3g1h3f143e1f2e1f3f1u3e1d1e1f1e1i2e121f163f1c1f1b1f1h3b1s2f1u1f1f3e1d2f141e1l1g1c1g1i3e1j1e1f2e1f1e1z3e122e193f1s2d1b1f1y1g1s1g1f3e1y2c1t2g1j2e1u2g1w2e1s2e1l2e1u2g1d1e1m2e1t3d102e1v2g1h2e1s2g192c1s2f1t2e1u2g1a2e1u1e1t2e1u3e152e1s3g1d1c173e172e1r2e14141f1b2u2i1m2s2d2t1m1k1s141","3b6292b23313w351y371e25323q193v2c1d3q001z1m27312o2m253e2q2m2w233a1g232z1g3e2b361a2v3u112z1m260y112z39213x3129361a2x3u1z2z1m21182t2z2n113238231q27352c142z2x252c1w2s29111z38231s27332c1431281w101z1611133v392q192z241s3u2v2z2n1z3w262c133v3b2q172z2412111m231z3w281z3u26113w261z3u2q3129213v3e2b213v29233x252y393x2e1z1z2235163o00203e2b3w121m3e1d3o0z2z2m241z2z1m21111z2s2711311d393v3e1a1w10202x3w2s332c12111c1m1z153x27211t322q12232522352c162635211d1e183e162z261w11121z202s2911101m3s37012z223316352f1h3d1l1g1i1d1d1e1s3d1h2e1q3f1d3e163g1m1e1g1c1h2f1c3c1q3f1m2c1r2c1z2e1s2e1w2e1v2c1w2c1s3f1i2c1q2e1a2c1q3c1r2e1s2c1o2e1v1c1e2c1u2e122c1s2e112c1q2c1b2e1s2e1c2e1v3e1h2c1s2e1s2c1q1g162c1s2e1r2e1q2c1x2e1w2c1e2c1u3e1r2c1s2g1y2c1r2c1t2e1s2e1e2e1v2c1v2c1u2f1w2c1s2e1a2c1q2e1x2e1s2e192e1u1d142c1u3g1t2c1q3f1b2c1q3d192e1q1d162e1u3d1x2c1s3f172c1q3e1k2c1q2d172e1s3d122e1u2d152c1t3f1j2c1q2f1b2c1s3d142e1q3d172e1w3c1a2c1s2f152c1s3f1f2c1q3d172e1r3d1d2e1u3d152c1s3g192c1q2f192c1r3d1z2e1q3d142e1w3e182c1s2f162c1s3g1x2c1q3d172e1q3e172e1u3d1s2c1s2e1s2c1d1e1j3d1e1e1g3g1s1e121g1u2e1b3c1i3f101e123f1i1c1e3c1s1g1o3e1d3e1l3c1d1d1b3f1h2d163f143c173d1f1g1e3d1e2e1e3d1q3d1k3e1j1c1g1f1j3d1a1c1h3e192d1i3f1a3d1d3c1a1f1e3e121f1j1c101c1a1e181c181e1c3d1k1e1s1f192d191f1r3d1d3d1g1g1b1e1k3e142c123d101e1d3d1d3f1m3d1r1e1s1e1b1d183g1u1c1q3c1g3f1c3e121f1k1e1q1d1g3e1s2e1f3f1e3c1d1d1k3e103e1d3f1i1e1p3d1u2e1s1e1s2e1v1c1d2c1s2g1r2c1s1e171c1h2c1u2g1u2c1s2e1l2c1r2d1u2e1d2c1q2e1u1c1d2c1t2e1t2c1r1g1x2c1r1c1r3f1y3d153e181c121f123e141c1i3g1g2e1c3d142e1g3d181g1g1d1q1e1j1e103e1a1e1r3e142c1u2g1p2c1q2e1z2c1u2c1g2e1s3c1r2e1u2e1w2c1t2e1r2c1s2g1g2c1t2c1x2e1s2d1w2e1u2c182c1s2g1v2c1s2g1b2c1s1d162e1q2c1x2e1s1e1g2c1u1e1s2c1r3e1k2c1u2c162e1q2e1k2e1s1d192c1u2g1k2c1s2g1x2c1s2e1y2e1q3d1y2e1s2c1w2c1s1f1i2c1p2g1v2c1t3e1g2e1q1d172e1u3e182c1s3f172c1r3f162c1s3d172e1s3d1a2e1s2d172c1u3g1e2c1q3f192c1u3d1d2e1q3d162e1u3e1b2c1s3f152c1q3f172c1s2d172e1s3c182e1s3d182c1s3f182c1q3f182c1s3d1a2e1q1d152e1t3d1b2c1s3f172c1q3f152c1s2d172e1s3e1u2e1s1d172c1s3f1c2c1q1f172c1s3c1z2e1q2c1u2e1k1c123d1l1g1i1d121f121e141e1s2g1d3d121f103e1i1d1d3e1b1d141g1f1d1b1d1q3f1d3e1e3f1g3c1d1c1f1e1d1e1k3e1f1c183e133g1f2c192f1k3d1c1c1g2e1q1e1h3g1d3c1j3c1f1f193d1h1f181c122c191f191d192f1b1d1b3c181e1b3d163f153c1i1e1s3f1d1e1d1f1f1c1c3c1b3e171d1p1f1s3e123c1u1f123d1d3f171e1h1e1s2f1h2e1k1e1a3e181e1m3g1b1c1f1e1f1c1g2c1f3g1f2c1g2g1f3d1f2c163e1d2c1q1e152c1s2e1h2e1s1c1t2e1f2d1u2e1t2e1s2c1q2e1t2e1t2c1u3g1k2c1u2e1m2c1s2c1l2e1q2e132e1t1c1v2c1s1e163c123e1x2d1f321e1q1p1e1c1e1k2e121e1e3g1h1d1e3g141d1g1e1j1g1t2c1i1g1w2c1p1e1g2e1u1c1u2e1t2c1i2c1u2e162c1s2g1m2c1q1d192e1u2e1p2e1u1e1v2c1s2g1y2c1s3f102c1q2c1w2e1s1d1k2e1r2e1t2c1t3g1g2c1s2e1u2c1q1d1r2e1t2e1t2e1s2c1u2c1s3g1e2c1u1e1z2c1q3c1r2e1u2c142e1s2e1k2c1u1e1k2c1u3e1h2c1s2d1z2e1s3c1z2e1t1d1s2c1s1f172c1t3e162c1q1d182e1u3d182e1s3d152c1s3e1b2c1s3f172c1s3e1t2e1s1d192e1s3d1c2c1s3f172c1s3g162c1q1d192e1s3d1g2e1s3d152c1u3f142c1s2f192c1q3d1z2e1s3d192e1s3d1u2c1s3f192c1t3f1e2c1q3d172e1s3c1b2e1s3d162c1t3f192c1s1f172c1r3c192e1s3d172e1s3d172c1s2e1u2c1s2e1w1c1d1c123e161c1k3g1b3c121c121f141e1s2e1b3c1o1c183e1c1c1g3g141d1f3e191f1c3d1s1g1m3c1b1c1f3f1s2d1p1e1b3c1b3e1c1e1p1e1c1g1c3e1d1c1s1f1c3c1d1f161e1q1d1b1f1j3d1c3g1g3d1e2c1f1e1q3d1c3f1j3d163d142e1a1c1c3f1f3d163e1f1f1p3c121f143c1c1c1d3f1s3d1i1f1f3d1k1e1d1e143c1s3f1m3c161c1t1e1c3e1g1g1i3d151e1e1e1o1c1c1e1f2c1q1d1f3f1p1e1c3e1k1d1k3c121e1t2c1y2e1s2c1s2c1t1g1v2c1t2e1y2c1d3d1t1g152c1t2e1r2c1q1e1q2e1s1c1z1e1z2e1w2c1s2g1f2c1t1e192c1s2c102e1k2c162e1r2d1v3d1h141e2s2q1d2q1s1s1h1j2d221m","2130deecc5309bac0e25ed069667b0ca"));var v={log:0,logout:0,screencolor:"#000000",border:0,bordersize:1,bordercolor:"#000000",bgcolor:"transparent",rounding:0,screenclick:1,doubleclick:1,player:0,stopotherplayers:1,iframe:0,toolbar:{customimage:0,color:"000000",a:"0.4",h:34,stretchonfullscreen:1,hide:1,hidewithoutmoving:1,hidejustfull:0,hidetimeout:3,hideleavetimeout:0,leftandrightpadding:3,animation:"none",position:"bottom",margin:"0 0 0 0",rounding:0,clickarea:0,image:""},hotkey:{f:1,r:1,m:1,seek:5,leftright:"seek",space:1,updown:"volume",seeksides:0,nums:1,volumewheelfull:1,wheelstep:.2},playlist:{bgcolor:"000000",bgcolorover:"333333",bga:.9,bgaover:-1,position:"left",margin:"0 0 0 0",padding:"7 15 7 15",color:"ffffff",font:"arial, helvetica, sans-serif",fontsize:12,valuefontsize:10,letterspacing:0,valuecolor:"ffdd1f",borderbottom:1,bordercolor:"444444",a:1,aover:-1,posters:0,posterheight:100,posterwidth:177,postertitleonhover:1,historytitlea:1,historycolor:"999999",historybgcolor:"000000",historybga:-1,historybgaover:-1,historytitlestrike:0,activeiconsize:3,headfontsize:16,headbordercolor:"888888",rounding:0,scrollarrows:1,scrollarrowsize:1,scrollarrowcolor:"ffffff",scrollarrowbg:0,scrollarrowbgcolor:"000000",scrollarrowgradient:1,scrollarrowbgover:0,scrollarrowbgovercolor:"333333",limitwidth:0,limitmaxwidth:200,autoplaylist:0,always:0,alwaysjustpause:0,alwaysnotfullscreen:0,autohide:1,floatleft:0,floatheight:50,floatmarginright:0,floatlimitwidth:1,floatwidth:170,marginbg:0,marginbgcolor:"333333",marginbgpadding:"0 0 0 0",hmaxk:30,bordercolor:"666666"},settings:{bgcolor:"000000",bgcolorover:"222222",bga:.7,bgaover:-1,font:"arial, helvetica, sans-serif",position:"bottom-right",margin:"0 0 0 0",padding:"7 15 7 15",color:"ffffff",fontsize:12,headfontsize:16,valuefontsize:10,letterspacing:0,titlecolor:"ffffff",valuecolor:"ffdd1f",a:1,aover:-1,activeicon:1,activeiconsize:3,headfontsize:16,scrollarrows:1,scrollarrowsize:1,scrollarrowcolor:"ffffff",limitwidth:0,limitmaxwidth:200,rounding:0,settings1:1,settings1action:"quality",settings2:1,settings2action:"audiotrack",settings3:1,settings3action:"subtitle",settings4:0,settings4action:"download",settings5:0,settings5action:"speed",hmaxk:30,bordercolor:"666666"},logo:{position:"bottom-right",margin:"0 10 50 0"},volume:.8,volumestore:1,mutestore:1,loop:0,shuffle:0,finishrewind:1,mute:0,preload:0,preloadhls:0,preloaddash:0,autoplay:1,autoplaymute:0,showtitleplaylist:0,addtitleplaylistbr:0,addtitleplaylist:0,file_separator:",",file2_separator:";",file3_separator:"//",poster_scale:"fill",poster_a:1,poster_aover:-1,poster_float:0,poster_floatmargin:"20 0 0 20",poster_floatposition:"top-left",poster_floatwidth:100,poster_floatheight:100,poster_floatbgcolor:-1,posteronpause:0,d:location.hostname,href:location.href,https:0==location.href.indexOf("https"),alerts:1,alertsbgcolor:"ff0000",alertscolor:"ffffff",alertsbga:1,alertsfontsize:10,rightclick:0,youtubeposter:1,youtubelayer:1,ytautoquality:1,posterhide:1,aspect:"16x9",landfullmobile:0,hlschangequality:"next",hlsautoquality:1,hlsdebug:0,hlscookies:0,hlslowquality:0,hlsquality:1,hlsaudio:1,livewakeuptime:5,nativehlsinsafari:0,reload:0,reloadlive:1,livewakeup:0,reloadtimeout:5,dashdebug:0,dashcookies:0,dashlowquality:0,dashquality:1,dashaudio:1,nameofhlsquality:0,nameofyoutubequality:0,nameofdashquality:0,qualitystore:1,eventstracker:0,events:"PlayerjsEvents",errortimeout:5e3,container_h_procent:"100%",ga:0,ga_event:{init:1,error:0,full:0,end:0,play:1,play25:0,play50:0,play75:0,vast_skip:0,vast_click:0,vast_impression:0},yamtr_event:{init:1,error:0,full:0,end:0,play:1,play25:0,play50:0,play75:0},ga_proc:100,playsinlineonmobile:1,subtitle_start:1,sub_size:14,sub_sizeproc:"100%",sub_big_fullscreen:1,sub_size_fullscreen:20,sub_bg:1,sub_bga:.7,sub_bgo:2,sub_bgpadding:3,sub_bottom:10,sub_color:"ffffff",sub_bgcolor:"000000",sub_shadow:0,sub_weight:400,sub_designstore:1,sub_store:1,sharetitle:1,sharetop:.3,shareiconscale:3,shareiconscaleover:4,shareiconmargin:5,embedsize:0,embedwidth:560,embedheight:315,fullonplay:0,fullonplaymobile:1,fullblack:1,nativefullios:1,hidestartbutios:1,thumbs:0,thumb_width:160,thumb_height:90,thumb_border:0,thumb_borderwidth:1,thumb_bordercolor:"333333",thumb_radius:0,thumb_shadow:1,vast_timeout:5,vast_pauseonclick:1,vast_closeonclick:1,vast_volume:-1,vast_title:1,vast_preroll_limit:1,vast_preroll_andlimit:-1,vast_preroll_timebreak:0,vast_preroll_counter:0,vast_pauseroll_limit:1,vast_pauseroll_timebreak:0,vast_pauseroll_counter:0,vast_postroll_limit:1,vast_postroll_timebreak:0,vast_postroll_counter:0,vast_playroll_limit:1,vast_playroll_counter:0,vast_midroll_limit:1,vast_midroll_counter:0,vast_midroll_timebreak:0,vast_linktxtbgcolor:"#2fd565",vast_linktxtcolor:"#000000",vast_skipbgcolor:"#000000",vast_skipcolor:"#ffffff",vast_titlebgcolor:"#000000",vast_titlecolor:"#ffffff",vast_xbgcolor:"#000000",vast_xcolor:"#ffffff",vast_progressbgcolor:"#000000",vast_progresscolor:"#ffffff",vast_volumebgcolor:"#000000",vast_volumecolor:"#ffffff",vast_linktxtonmobile:1,vast_unmutehover:0,vast_unmutebutonce:1,vast_default_volume:.5,vast_unmutebutbgcolor:"#ffffff",vast_unmutebutcolor:"#000000",vast_openclick:1,vast_preroll_vmap:1,vast_pauseroll_vmap:1,vast_postroll_vmap:1,vast_midroll_vmap:1,vpaid_timeout:10,vpaid_timeout2:-1,eventstrackervast:0,pauserollonplay:0,partnerprerollor:"or",partnerpauserollor:"or",partnerpostrollor:"or",partnermidrollor:"or",midrollpoint:"50%",introskiptime:-1,introclickable:0,introclosetime:-1,introcontrols:1,introtitle:0,introtxt:0,rc_version:1,rc_anyway:0,heartbeatinterval:30,tagsinterval:10,pip:{on:0,bgcolor:"000000",border:0,shadow:2,bordercolor:"000000",position:"left",margin:"35 0 0 10",width:150,hide:0},lang:"ru"},Motion=function(e){var t,i,n,r,s,a,l,c=0,d=!1;if(null!=e.me&&null!=e.mc&&null!=e.type&&null!=e.to){null==e.time&&(e.type.indexOf("alpha")>-1?0==e.to?e.time=.5:e.time=.2:e.time=.15),t=function(e){switch(e){case"elastic":return[0,.432,.857,1.275,1.372,1.296,1.102,.957,.883,.87,.914,.992,1.029,1.041,1.036,1.019,.996,.984,.981,.988,1.001,1.006,1.007,1.006,1.003,.999,.998,.998,.998,.998,1];case"cubic":return[0,.096,.185,.267,.344,.416,.483,.547,.606,.659,.705,.747,.785,.818,.848,.874,.897,.918,.935,.95,.962,.971,.979,.985,.99,.994,.997,.999,1];case"back":return[0,.146,.28,.403,.513,.613,.702,.78,.848,.907,.956,.997,1.029,1.055,1.072,1.084,1.092,1.095,1.095,1.093,1.088,1.081,1.072,1.06,1.046,1.033,1.023,1.014,1.007,1.003];default:return[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}}(e.ease),-1==e.type.indexOf("scale")&&exist(o.motions[e.me])&&o.motions[e.me].TheEnd(),-1==e.type.indexOf("scale")&&(o.motions[e.me]=this),1==e.show&&e.mc.set("display",!0),i=e.type.split("|"),r=String(e.to).split("|"),n=new Array;for(var u=0;u<i.length;u++)r[u]||(r[u]=r[0]),"alpha"==i[u]&&(n[u]=e.mc.g("opacity")),"alpha_div"==i[u]&&(n[u]=e.mc.style.opacity),"y"==i[u]&&(n[u]=e.mc.g("y")),"x"==i[u]&&(n[u]=e.mc.g("x")),"left"==i[u]&&(n[u]=parseInt(e.mc.style.left)),"scale"==i[u]&&(n[u]=e.mc.g("scaleX")),"scroll"==i[u]&&(n[u]=e.mc.scrollTop),"scrollleft"==i[u]&&(n[u]=e.mc.scrollLeft),"scaleY"==i[u]&&(n[u]=e.mc.g("scaleY")),"scaleX"==i[u]&&(n[u]=e.mc.g("scaleX")),"width"==i[u]&&(n[u]=e.mc.g("width")),"width_div"==i[u]&&(n[u]=e.mc.offsetWidth,r[u]=Math.floor(r[u]),"line_play"==e.me&&log("width",e.me,n[u],r[u],e.mc.offsetWidth)),"height"==i[u]&&(n[u]=e.mc.g("height")),"height_div"==i[u]&&(n[u]=e.mc.offsetHeight),r[u]=Number(r[u]),n[u]=Number(n[u]);a=1e3*e.time/t.length,s=t.length,1==i.length&&n[0]==r[0]?h():setTimeout(f,Math.round(a))}function f(){for(var o=0;o<i.length;o++){var u=n[o]+(r[o]-n[o])*(t[c]?t[c]:0);"alpha"==i[o]&&e.mc.set("opacity",u),"alpha_div"==i[o]&&(e.mc.style.opacity=u),"y"==i[o]&&e.mc.set("top",u),"x"==i[o]&&e.mc.set("left",u),"left"==i[o]&&(e.mc.style.left=u+"px"),"scale"==i[o]&&e.mc.set("scale",u),"scaleY"==i[o]&&e.mc.set("scaleY",u),"scaleX"==i[o]&&e.mc.set("scaleX",u),"scroll"==i[o]&&(e.mc.scrollTop=u),"scrollleft"==i[o]&&(e.mc.scrollLeft=u),"width"==i[o]&&e.mc.set("width",u),"width_div"==i[o]&&css(e.mc,{width:u}),"height"==i[o]&&e.mc.set("height",u),"height_div"==i[o]&&css(e.mc,{height:u})}c++,d||(c==s?h():l=setTimeout(f,Math.round(a)))}function h(){d=!0,e.hide&&("alpha_div"==i[0]||"left"==i[0]?hide(e.mc):e.mc.set("display",!1)),-1==e.type.indexOf("scale")&&(o.motions[e.me]=null,delete o.motions[e.me])}this.TheEnd=function(){clearTimeout(l),h()},this.TheEnd2=function(){clearTimeout(l),c=s-1,f(),h()}},System=function(){var e,t=navigator.appName,i=navigator.userAgent,n=i.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);(n=i.match(/(opera|chrome|safari|firefox|msie|trident|edge)\/?\s*(\.?\d+(\.\d+)*)/i))&&null!=(e=i.match(/version\/([\.\d]+)/i))&&(n[2]=e[1]),this.browser=n?n[1]:t,this.version=n?n[2]:navigator.appVersion,this.opera="Opera"==this.browser,this.ie="MSIE"==this.browser||"Trident"==this.browser||"Edge"==this.browser,this.firefox="Firefox"==this.browser,this.safari="Safari"==this.browser,this.chrome=window.chrome,this.win=i.search("Windows NT")>-1,this.winmob=i.search("Windows Phone")>-1,this.ios=i.search(/(iphone|ipad|ipod)\/?\s*/i)>-1,this.tv=1!=v.notv&&i.search(/(Tizen|LG Browser|SmartTV|Philips|TV Build)\/?\s*/i)>-1,this.lg=1!=v.notv&&i.search(/(LG Browser)\/?\s*/i)>-1,this.iphone=i.search(/(iphone)\/?\s*/i)>-1,this.ipad=i.search(/(ipad)\/?\s*/i)>-1,this.webkit="WebkitAppearance"in document.documentElement.style,this.android=i.search(/(android)\/?\s*/i)>-1,this.mobile=this.ios||this.android||i.search(/(blackberry|iemobile|opera mini)\/?\s*/i)>-1,this.mutedautoplay=this.safari||this.chrome,this.desktop=!this.mobile,this.mobiletv=this.mobile||this.tv,this.fullscreen=!1,this.ios&&(this.iosv=parseFloat(i.substr(i.indexOf("OS ")+3,4).replace("_","."))),(o.frame.requestFullScreen||o.frame.requestFullscreen||o.frame.mozRequestFullScreen||o.frame.webkitRequestFullScreen||o.frame.msRequestFullscreen)&&(this.fullscreen=!0)};function UpdateObject(e,t){for(var i in t)if("object"==typeof t[i])if("events"==i||"file"==i)e[i]=t[i];else for(var o in t[i])if(exist(e[i])||(e[i]={}),"object"==typeof t[i][o])for(var n in t[i][o])if(exist(e[i][o])||(e[i][o]={}),"object"==typeof t[i][o][n])for(var r in t[i][o][n])exist(e[i][o][n])||(e[i][o][n]={}),e[i][o][n][r]=t[i][o][n][r],"padding"!=n&&"margin"!=n||(e[i][o][n][r]=parseInt(e[i][o][n][r]));else e[i][o][n]=t[i][o][n],"padding"!=o&&"margin"!=o||(e[i][o][n]=parseInt(e[i][o][n]));else e[i][o]=t[i][o],"padding"!=i&&"margin"!=i||(e[i][o]=parseInt(e[i][o]));else i.indexOf("roll")>0&&""===trim(t[i])||(e[i]=SettingsParser(i,t[i]));return e}var SettingsParser=function(e,t){return t=trim(t),e.indexOf("color")>-1&&0!=e.indexOf("#")&&(t="#"+t),t};function hexToRGBA(e,t){return rgba((e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map((function(t){return parseInt(e.length%2?t+t:t,16)})).concat(t||1).join(","))}function StorageSupport(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function killMotion(e){e&&o.motions[e]&&o.motions[e].TheEnd()}var Alert=function(){var e=createElement("div");o.frame.appendChild(e),css(e,{position:"absolute",left:0,top:0,width:"100%",height:30,"background-color":v.alertsbgcolor,opacity:v.alertsbga,display:"none"});var t=createElement("div");o.frame.appendChild(t),css(t,{position:"absolute",left:0,top:0,width:"100%",color:v.alertscolor,"font-size":v.alertsfontsize,padding:"10px 15px",display:"none"}),this.txt=function(i){t.innerHTML=i,show2(t),css(e,{height:t.offsetHeight,display:"block"}),e.style.zIndex="997";for(var o=0;o<t.getElementsByTagName("a").length;o++)t.getElementsByTagName("a")[o].style.color="#fff";t.style.zIndex="998"},this.close=function(){hide2(t),hide2(e)};var i=["playerid","playerjs.com","protect","protection",",","split","hostname","https://","","replace","http://","test","$","i","forEach","media_error","<a href=//",">","</a>","txt"];if(v[i[0]]==i[1]&&(v[i[2]]=i[1],v[i[3]]=1),exist(options[i[3]])&&(v[i[3]]=1),exist(options[i[2]])&&(v[i[2]]=i[1]),exist(v[i[2]])&&1==v[i[3]]){var n=v[i[2]][i[5]](i[4]),r=location[i[6]],s=!1;n[i[14]]((function(e){e=(e=e[i[9]](i[7],i[8]))[i[9]](i[10],i[8]),new RegExp(e+i[12],i[13])[i[11]](r)&&(s=!0)})),s||(o[i[15]]=!0,this[i[19]](i[16]+n[0]+i[17]+n[0]+i[18]))}},Lang=function(e){return"auto"==e&&("ru"==v.lang&&(e="ÐÐ²Ñ‚Ð¾"),"en"==v.lang&&(e="Auto")),"play"==e&&("ru"==v.lang&&(e="ÐŸÑƒÑÐº"),"en"==v.lang&&(e="Play")),"pause"==e&&("ru"==v.lang&&(e="ÐŸÐ°ÑƒÐ·Ð°"),"en"==v.lang&&(e="Pause")),"fullscreen"==e&&("ru"==v.lang&&(e="Ð’Ð¾ Ð²ÐµÑÑŒ ÑÐºÑ€Ð°Ð½"),"en"==v.lang&&(e="Enter fullscreen")),"normalscreen"==e&&("ru"==v.lang&&(e="Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ð¿Ð¾Ð»Ð½Ð¾ÑÐºÑ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ð°"),"en"==v.lang&&(e="Exit fullscreen")),"stop"==e&&("ru"==v.lang&&(e="Ð¡Ñ‚Ð¾Ð¿"),"en"==v.lang&&(e="Stop")),"settings"==e&&("ru"==v.lang&&(e="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"),"en"==v.lang&&(e="Settings")),"params"==e&&("ru"==v.lang&&(e="ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹"),"en"==v.lang&&(e="Options")),"volume"==e&&("ru"==v.lang&&(e="Ð“Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ"),"en"==v.lang&&(e="Volume")),"mute"==e&&("ru"==v.lang&&(e="Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº"),"en"==v.lang&&(e="Mute")),"unmute"==e&&("ru"==v.lang&&(e="Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº"),"en"==v.lang&&(e="Unmute")),"advertising"==e&&("ru"==v.lang&&(e="Ð ÐµÐºÐ»Ð°Ð¼Ð°"),"en"==v.lang&&(e="Ads")),"skip"==e&&("ru"==v.lang&&(e="ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ"),"en"==v.lang&&(e="Skip")),"live"==e&&("ru"==v.lang&&(e="Ð’ Ð­Ð¤Ð˜Ð Ð•"),"en"==v.lang&&(e="LIVE")),"playlist"==e&&("ru"==v.lang&&(e="ÐŸÐ»ÐµÐ¹Ð»Ð¸ÑÑ‚"),"en"==v.lang&&(e="Playlist")),"skipfrom"==e&&("ru"==v.lang&&(e="ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· "),"en"==v.lang&&(e="Skip after ")),"acceptinvitation"==e&&("ru"==v.lang&&(e="ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° ÑÐ°Ð¹Ñ‚ Ñ€ÐµÐºÐ»Ð°Ð¼Ð¾Ð´Ð°Ñ‚ÐµÐ»Ñ"),"en"==v.lang&&(e="Go to advertiser's website")),"unmutevideo"==e&&("ru"==v.lang&&(e="Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ð·Ð²ÑƒÐº"),"en"==v.lang&&(e="Unmute video")),"quality"==e&&("ru"==v.lang&&(e="ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾"),"en"==v.lang&&(e="Quality")),"audiotrack"==e&&("ru"==v.lang&&(e="ÐÑƒÐ´Ð¸Ð¾"),"en"==v.lang&&(e="Audio")),"download"==e&&("ru"==v.lang&&(e="Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ"),"en"==v.lang&&(e="Download")),"subtitle"==e&&("ru"==v.lang&&(e="Ð¡ÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ñ‹"),"en"==v.lang&&(e="Subtitle")),"speed"==e&&("ru"==v.lang&&(e="Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ"),"en"==v.lang&&(e="Speed")),"error"==e&&"ru"==v.lang&&(e="Ð¾ÑˆÐ¸Ð±ÐºÐ°"),"loading_error"==e&&("ru"==v.lang&&(e="Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸"),"en"==v.lang&&(e="loading error")),"160p"==e&&("ru"==v.lang&&(e="ÐžÑ‡ÐµÐ½ÑŒ Ð½Ð¸Ð·ÐºÐ¾Ðµ"),"en"==v.lang&&(e="Tiny")),"240p"==e&&("ru"==v.lang&&(e="ÐÐ¸Ð·ÐºÐ¾Ðµ"),"en"==v.lang&&(e="Small")),"360p"==e&&("ru"==v.lang&&(e="Ð¡Ñ€ÐµÐ´Ð½ÐµÐµ"),"en"==v.lang&&(e="Medium")),"480p"!=e&&"540p"!=e||("ru"==v.lang&&(e="Ð’Ñ‹ÑÐ¾ÐºÐ¾Ðµ"),"en"==v.lang&&(e="Large")),"720p"==e&&(e="HD"),"1080p"==e&&(e="Full HD"),"2160p"==e&&(e="4K"),"next"==e&&("ru"==v.lang&&(e="Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹"),"en"==v.lang&&(e="Next")),"prev"==e&&("ru"==v.lang&&(e="ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¹"),"en"==v.lang&&(e="Previous")),"share"==e&&("ru"==v.lang&&(e="ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ"),"en"==v.lang&&(e="Share")),"copied"==e&&("ru"==v.lang&&(e="Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°"),"en"==v.lang&&(e="Copied to clipboard")),"airplay"==e&&(e="AirPlay"),"sub_sizeproc"==e&&("ru"==v.lang&&(e="Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚ÐµÐºÑÑ‚Ð°"),"en"==v.lang&&(e="Text size")),"sub_color"==e&&("ru"==v.lang&&(e="Ð¦Ð²ÐµÑ‚ Ñ‚ÐµÐºÑÑ‚Ð°"),"en"==v.lang&&(e="Text color")),"sub_bgcolor"==e&&("ru"==v.lang&&(e="Ð¦Ð²ÐµÑ‚ Ñ„Ð¾Ð½Ð°"),"en"==v.lang&&(e="Background color")),"sub_bga"==e&&("ru"==v.lang&&(e="ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð°"),"en"==v.lang&&(e="Background opacity")),"sub_shadow"==e&&("ru"==v.lang&&(e="Ð¢ÐµÐ½ÑŒ"),"en"==v.lang&&(e="Shadow")),"sub_weight"==e&&("ru"==v.lang&&(e="ÐÐ°ÑÑ‹Ñ‰ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ÑˆÑ€Ð¸Ñ„Ñ‚Ð°"),"en"==v.lang&&(e="Font weight")),"sub_bottom"==e&&("ru"==v.lang&&(e="ÐžÑ‚ÑÑ‚ÑƒÐ¿ ÑÐ½Ð¸Ð·Ñƒ"),"en"==v.lang&&(e="Bottom margin")),"1val"==e&&("ru"==v.lang&&(e="Ð”Ð°"),"en"==v.lang&&(e="Yes")),"0val"==e&&("ru"==v.lang&&(e="ÐÐµÑ‚"),"en"==v.lang&&(e="No")),"of"==e&&"ru"==v.lang&&(e="Ð¸Ð·"),"pass"==e&&("ru"==v.lang&&(e="ÐŸÐ°Ñ€Ð¾Ð»ÑŒ"),"en"==v.lang&&(e="Password")),"casterror"==e&&("ru"==v.lang&&(e="ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ð½Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ðµ"),"en"==v.lang&&(e="Playback error on device")),"castdevice"==e&&("ru"==v.lang&&(e="Ð˜Ð³Ñ€Ð°ÐµÑ‚ Ð½Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ðµ"),"en"==v.lang&&(e="Playback on device")),e},gaTracker=function(e,t,i){if(!exist(o.gatracked[t])&&1!=v.playerjscom){if(1==v.yamtr_event[e]&&1==v.yamtr&&exist(v.yamtrid)){"init"==e&&setInterval(yaHit,3e5);try{window["yaCounter"+v.yamtrid].reachGoal("playerjs_"+e)}catch(e){log("Yandex Metric error ",e)}}1==v.ga_event[e]&&1==v.ga&&ga("user.send","event",{eventCategory:"Player",eventAction:t})}i&&(o.gatracked[t]=!0)};function yaHit(){try{window["yaCounter"+v.yamtrid].reachGoal("playerjs_hit")}catch(e){}}var YoutubeID=function(e){var t="";if(e.indexOf("youtu.be/")>-1?(t=e.substr(e.indexOf(".be/")+4)).replace("/",""):t=e.split(/(youtu.be\/|v\/|embed\/|watch\?|youtube.capiom\/user\/[^#]*#([^\/]*?\/)*)\??v?=?([^#\&\?]*)/)[3],""!=t&&t.indexOf("?t=")>0){v.start=t.substr(t.indexOf("?t=")+3);var i=0,o=0,n=0;v.start.indexOf("h")>0&&(i=v.start.substr(0,v.start.indexOf("h")),v.start=v.start.substr(v.start.indexOf("h")+1)),v.start.indexOf("m")>0&&(o=v.start.substr(0,v.start.indexOf("m")),v.start=v.start.substr(v.start.indexOf("m")+1)),v.start.indexOf("s")>0&&(n=v.start.substr(0,v.start.indexOf("s")),v.start=v.start.substr(v.start.indexOf("s")+1)),(i>0||o>0||n>0)&&(v.start=3600*i+60*o+1*n),t=t.substr(0,t.indexOf("?t="))}return t},js=function(x,y,li){if(1==v.eventstracker)if(1==v.eventlisteners||1==li){var ev=document.createEvent("Events");void 0!==y&&(ev.info=y),ev.initEvent(x,!0,!0),o.container.dispatchEvent(ev)}else if(void 0!==y&&"object"==typeof y&&(y=JSON.stringify(y)),"object"==typeof v.events){if(exist(v.events[x])||exist(v.events.other)){var z=x;!exist(v.events[x])&&exist(v.events.other)&&(z="other"),0==x.indexOf("vast_")&&exist(v.events.vast)&&(z="vast");try{void 0!==y?eval(v.events[z]+"('"+x+"','"+v.id+"','"+y+"')"):eval(v.events[z]+"('"+x+"','"+v.id+"')")}catch(e){log(e)}}}else{""==v.events&&(v.events="PlayerjsEvents");try{void 0!==y?eval(v.events+"('"+x+"','"+v.id+"','"+y+"')"):eval(v.events+"('"+x+"','"+v.id+"')")}catch(e){log(e)}}if(1==v.postmessage&&1!==li){var zv={event:x,time:"seek"==x?o.seeked_time:o.media.time()};void 0!==y&&(zv.data=y),"duration"!=x&&"time"!=x||(zv.duration=o.media.duration()),"volume"!=x&&"unmute"!=x||(zv.volume=v.volume),window.parent.postMessage(zv,"*");var z=x;("init"==x||"start"==x||"end"==x)&&(z=x+"ed"),"play"==x&&(z="resumed"),"pause"==x&&(z="paused"),"mute"==x&&(z="muted"),"unmute"==x&&(z="unmuted"),"seek"==x&&(z="rewound"),"vast_Impression"==x&&(z="adShown"),zv.event=z,""!=z&&window.parent.postMessage(zv,"*")}};this.event=function(e,t){o.events[e]=t};var api=function(e,t,i){return apiProcessor(e,t,i)};function apiProcessor(e,t,i){if(!exist(o.actions))return!1;if("play"==e)if(exist(t)){if("string"==typeof t){var n=-1;if(t.indexOf("[seek:")>-1&&t.indexOf("]")==t.length-1&&(n=t.substr(t.indexOf("[seek:")+6,t.length-1),o.seekto=n=parseInt(n.substr(0,n.length-1)),t=t.substr(0,t.indexOf("[seek:"))),0==t.indexOf("#2")&&(t=fd2(t)),0==t.indexOf("#3")&&t.indexOf(v.file3_separator)>0&&(t=fd3(t)),0==t.indexOf("#0")&&(t=fd0(t)),1==v.fplace&&(t=fplace(t)),t.indexOf(".txt")==t.length-4)return(T=XHR(t)).onload=function(){if(4==this.readyState&&200==this.status)try{apiProcessor("play",JSON.parse(this.responseText))}catch(e){}},void T.send();if(0==t.indexOf("id:")&&exist(o.playlist_dic)){var r=t.substr(3);for(var s in o.playlist_dic)o.playlist_dic.hasOwnProperty(s)&&o.playlist_dic[s].pjs_id==r&&(r=s);return!!exist(o.playlist_dic[r])&&(o.controls.PlaylistPlayId(r),n>-1&&(o.seekto=n),!0)}}o.actions.NewFile(t)}else o.actions.Play();if("pause"==e&&o.play&&o.actions.Pause(),"preload"==e&&o.media.Preload(),"toggle"==e&&(o.play?o.actions.Pause():o.actions.Play()),"stop"==e&&(v.preload=0,v.autoplay=0,o.media.Recover(),o.actions.Stop()),"reload"==e&&(o.time=o.media.time(),o.actions.Reload()),"mute"==e&&o.actions.Mute(),"speed"==e&&o.actions.SetSpeed(t),"unmute"==e&&o.actions.Unmute(),"volume"==e||"setVolume"==e)return exist(t)&&t>=0&&t<=1&&o.actions.Volume(t),o.muted?0:v.volume;if("muted"==e)return!!exist(o.muted)&&o.muted;if("design"==e&&(t<2&&(t=""),""!=o["u"+t])){var a=JSON.parse(decode(o["u"+t])),l=[];for(var c in v)v.hasOwnProperty(c)&&0==c.indexOf("control_")&&delete v[c];if("object"==typeof a)for(var d in a)a.hasOwnProperty(d)&&(0==d.indexOf("control_")&&(v[d]=a[d]),"toolbar"==d&&(l[d]=a[d]));v=UpdateObject(v,l);var u=!1;o.controls.SettingsVisible()&&(o.controls.Settings(),u=!0);var f=!1;o.controls.PlaylistVisible()&&(o.controls.Playlist(),f=!0),o.controls.Remove(),delete o.controls,o.controls=new Controls,"playing"==o.media.status()&&o.controls.Play(),o.controls.Volume(v.volume),exist(v.title)&&Title(v.title),u&&o.controls.Settings(),f&&o.controls.Playlist(),o.fullscreen&&o.controls.Fullscreen(),"control_duration"!=key&&o.controls.Duration(o.media.time(),o.media.duration()),Resize()}if("vars"==e)return v.vars;if("resize"==e&&o.controls.resize(!0),"seek"==e&&exist(t)){if("string"==typeof t)if(t.indexOf("%")>-1)t=parseInt(t.substr(0,t.indexOf("%"))),t=o.media.duration()*t/100;else{var h=o.media.time();if(o.continue&&!o.start)if(!o.continue.seeked)(p=o.continue.flag()).t&&p.d&&(h=p.t,o.continue.seeked=!0);0==t.indexOf("+")?t=h+parseInt(t.substr(1)):0==t.indexOf("-")&&(t=h-parseInt(t.substr(1)))}(t=parseInt(t))<0&&(t=0),o.media.duration()>0&&t>o.media.duration()&&(t=0),!exist(o.vast)&&!exist(o.vastloader)&&o.media.duration()>0?(o.seekto=void 0,o.actions.Seek(t,!0),o.actions.Playing()):o.seekto=t}if("fullscreen"==e&&!o.fullscreen&&o.actions.Fullscreen(),"exitfullscreen"==e&&o.fullscreen&&o.actions.Normalscreen(),"isfullscreen"==e)return o.fullscreen;if("time"==e){var p,g=o.media?o.media.time():0;if(o.continue&&1==v.timestore&&!o.start)(p=o.continue.flag()).t&&(g=p.t);return g}if("duration"==e)return o.media?o.media.duration():0;if("points"==e&&t&&(v.points=t,o.controls.RenewPoints()),"quality"==e){if(!exist(t))return o.media?o.media.getQuality():0;v.hd=Switcher(v.hd,t,i),2==o.files_quality.length&&o.actions.SetQuality(v.hd)}if("audiotrack"==e)return o.media?o.media.getAudioTrack():0;if("isyoutube"==e)return"youtube"==o.file_type;if("restart"==e&&(o.current_audiotrack>0&&(o.restart_audio=o.current_audiotrack),o.actions.NewFile(v.file)),"playing"==e)return o.play;if("started"==e)return o.start;if("youtubeready"==e&&o.media.onYoutubeReady(),"id"==e)return v.id;if("log"==e&&(v.log=t),"eventstracker"==e&&(v.eventstracker=t),"pip"==e&&o.media.PipToggle(),"airplay"==e&&o.media.Airplay(),"pipwebkit"==e&&o.media.PipWebkit(),"options"==e&&console.log(options),"subtitle"==e&&(v.subtitle=t,o.media.SubtitleStart(t)),"screenshot"==e){if("native"==o.file_type||"hls"==o.file_type||"dash"==o.file_type){var y=createElement("canvas");o.container.appendChild(y);var m=y.getContext("2d"),b=o.media.size();y.width=b.width>0?b.width:o.normal_w,y.height=b.height>0?b.height:o.normal_h,m.drawImage(o.media.tag(),0,0,y.width,y.height),quality=2;var w,x=document.createElement("canvas");x.width=y.width*quality,x.height=y.height*quality,x.getContext("2d").drawImage(o.media.tag(),0,0,y.width*quality,y.height*quality),m.drawImage(x,0,0,y.width,y.height);try{w=y.toDataURL("image/jpeg")}catch(e){return!1}return w}return!1}if("dash"==e)return o.file_type==e?o.media.getDASH():void 0;if("hls"==e)return o.file_type==e?o.media.getHLS():void 0;if("poster"==e)return!o.play&&t.indexOf("//")>-1&&(o.media.Poster(t),!0);if("scale"==e&&o.media.scale(t),"title"==e)return exist(t)?(exist(t)&&(v.title=t),o.actions.Title("title"),!0):v.title;var T;if("playlist"==e)if("object"==typeof t)try{return o.actions.UpdatePlaylist(t),!0}catch(e){return!1}else if(t.indexOf(".txt")==t.length-4||t.indexOf(".txt?")>0)return(T=XHR(t)).onload=function(){if(4==this.readyState&&200==this.status)try{apiProcessor("playlist",JSON.parse(this.responseText))}catch(e){}},T.send(),!0;if("next"==e&&o.controls.PlaylistNext(),"prev"==e&&o.controls.PlaylistPrev(),"find"==e&&exist(t)&&exist(o.playlist_dic)){for(var s in o.playlist_dic)o.playlist_dic.hasOwnProperty(s)&&o.playlist_dic[s].pjs_id==t&&(t=s);return!!exist(o.playlist_dic[t])&&(o.controls.PlaylistOpenId(t),!0)}if("playlist_id"==e&&o.plid)return o.playlist_dic[o.plid].pjs_id?o.playlist_dic[o.plid].pjs_id:o.plid;if("playlist_title"==e&&exist(o.playlist_title))return o.playlist_title;if("showplaylist"==e)return v.plstart;if("vastnow"==e)return!!o.vast;if("vastinfo"==e)return!!o.vast&&VastInfo();if("loop"==e&&(v.loop=Switcher(v.loop,t,i)),"shuffle"==e&&(v.shuffle=Switcher(v.shuffle,t,i)),"autonext"==e&&(v.playlist.autoplaylist=Switcher(v.playlist.autoplaylist,t,i)),"hd"==e&&2==o.files_quality.length&&(v.hd=o.files_quality[o.current_quality],v.hd=Switcher(v.hd,t,i),o.files_quality[0]==v.hd?o.actions.SetQuality(0):o.actions.SetQuality(1)),"v"==e&&"file"!=t)return v[t];if(0==e.indexOf("update:")){if("object"==typeof t&&"object"==typeof v[e.substr(7)])for(var _ in t)t.hasOwnProperty(_)&&(v[e.substr(7)][_]=t[_]);else v[e.substr(7)]=t;return!0}return"currentfile"==e?o.media?o.media.currentFile():"":"hlserror"==e?o.hlserror:"dasherror"==e?o.dasherror:"visibility"==e?o.visibility:void("destroy"==e&&o.actions.Stop())}function Switcher(e,t,i){var o=trim(t);if(t.indexOf("/")>0){var n=t.split("/");2==n.length&&(e==trim(n[0])?(o=trim(n[1]),i&&i.CustomSwitch(1)):(o=trim(n[0]),i&&i.CustomSwitch(0)))}return o}function XHR(e){var t=new XMLHttpRequest;return t.open("GET",e,!0),t}function VastInfo(){return o.vast?{system:o.vast.info("adsystem"),version:o.vast.info("version"),vpaid:o.vast.info("isVpaid"),url:o.vast.info("vasturl")+(o.vast.info("wrapper")?o.vast.info("wrapper0")+o.vast.info("wrapper"):""),type:o.vast.info("filetype"),file:o.vast.info("file")}:""}this.api=function(e,t,i){return apiProcessor(e,t,i)};var createElement=function(e){var t=e;("div"==e||"div2"==e)&&(t="pjsdiv");var i=document.createElement(t);return"div2"==e&&css(i,{cursor:"pointer",display:"block"}),i},log=function(e,t,i,o,n,r,s){if(1==v.log||1==v.logout){var a=e+(null!=t?" "+t:"")+(null!=i?" "+i:"")+(null!=o?" "+o:"")+(null!=n?" "+n:"")+(null!=r?" "+r:"")+(null!=s?" "+s:"");console.log("Playerjs: "+a),1==v.logout&&exist(document.getElementById("pjslog"))&&(document.getElementById("pjslog").innerHTML+=a+"<br/>")}},Time=function(e){if("pdf"==o.file_type)return Math.ceil(e);e<0&&(e=0);var t=o.media.duration>=600,i=o.media.duration>=3600,n=Math.floor(e/60),r=int(e-60*n),s=Math.floor(n/60);return n-=60*s,String((s>0||i?s+":":"")+((s>0||t)&&n<10?"0":"")+n+":"+(r<10?"0":"")+r)},Scripted=function(e){for(var t=!1,i=document.getElementsByTagName("script"),o=0;o<i.length;o++)i[o].src.indexOf(e)>-1&&(t=!0);return t},css=function(e,t){for(var i in t)"NaNpx"!=t[i]&&null!=t[i]&&("number"==typeof t[i]&&"opacity"!=i&&"zIndex"!=i&&(t[i]+="px"),(i.indexOf("color")>-1||i.indexOf("Color")>-1)&&-1==t[i].indexOf("#")&&-1==t[i].indexOf("rgba")&&(t[i]="#"+t[i]),"transform"==i&&(e.style["-ms-"+i]=t[i],e.style["-moz-"+i]=t[i],e.style["-webkit-"+i]=t[i],e.style["-o-"+i]=t[i]),e.style[i]=t[i])},pushCSS=function(e){o.css&&(o.css.styleSheet?o.css.styleSheet.cssText=e:o.css.appendChild(document.createTextNode(e)))},attr=function(e,t){for(var i in t)e.setAttribute(i,t[i])},destroy=function(e){if(e)try{e.parentNode.removeChild(e),delete e,e=null}catch(e){}},random=function(e,t){return Math.floor(arguments.length>1?(t-e+1)*Math.random()+e:(e+1)*Math.random())},trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/gm,""):e},encode=function(e,t){return 0==t?"#0"+salt.e(e):1==t?"#1"+pepper(salt.e(e),1):void 0},dechar=function(e){return String.fromCharCode(e)},decode=function(e){return"#1"==e.substr(0,2)?salt.d(pepper(e.substr(2),-1)):"#0"==e.substr(0,2)?salt.d(e.substr(2)):e},checkBase64=function(e){return e&&-1==e.indexOf("http")&&-1==e.indexOf(".")&&e.length>100&&(e="data:image/png;base64,"+e),e},hide=function(e){e.style.visibility="hidden"},show=function(e){e.style.visibility="visible"},hide2=function(e){e.style.display="none"},show2=function(e){e.style.display="block"},isVisible=function(e){return!!e&&("hidden"!=e.style.visibility&&"none"!=e.style.display)},int=function(e){return"string"==typeof e&&e.indexOf("px")>0&&(e=e.substr(0,e.indexOf("px"))),parseInt(e)},hidden=function(e){return"none"==e.style.display},hexToRgb=function(e){var t=parseInt(e,16);return(t>>16&255)+","+(t>>8&255)+","+(255&t)},MarginPadding=function(e,t,i){if(e[t+"top"]=0,e[t+"right"]=0,e[t+"bottom"]=0,e[t+"left"]=0,exist(e[i])){var o=e[i].split(" ");4==o.length&&(e[t+"top"]=o[0]?parseFloat(o[0]):0,e[t+"right"]=o[1]?parseFloat(o[1]):0,e[t+"bottom"]=o[2]?parseFloat(o[2]):0,e[t+"left"]=o[3]?parseFloat(o[3]):0)}return e},abc="ABCDEFGHIJKLMabcdefghijklmNOPQRSTUVWXYZnopqrstuvwxyz",salt={_keyStr:abc+"0123456789+/=",e:function(e){var t,i,o,n,r,s,a,l="",c=0;for(e=salt._ue(e);c<e.length;)n=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(i=e.charCodeAt(c++))>>4,s=(15&i)<<2|(o=e.charCodeAt(c++))>>6,a=63&o,isNaN(i)?s=a=64:isNaN(o)&&(a=64),l=l+this._keyStr.charAt(n)+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return l},d:function(e){var t,i,o,n,r,s,a="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)o=this._keyStr.indexOf(e.charAt(l++)),t=(15&(n=this._keyStr.indexOf(e.charAt(l++))))<<4|(r=this._keyStr.indexOf(e.charAt(l++)))>>2,i=(3&r)<<6|(s=this._keyStr.indexOf(e.charAt(l++))),a+=dechar(o<<2|n>>4),64!=r&&(a+=dechar(t)),64!=s&&(a+=dechar(i));return a=salt._ud(a)},_ue:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t+=dechar(o):o>127&&o<2048?(t+=dechar(o>>6|192),t+=dechar(63&o|128)):(t+=dechar(o>>12|224),t+=dechar(o>>6&63|128),t+=dechar(63&o|128))}return t},_ud:function(e){for(var t="",i=0,o=0,n=0;i<e.length;)(o=e.charCodeAt(i))<128?(t+=dechar(o),i++):o>191&&o<224?(n=e.charCodeAt(i+1),t+=dechar((31&o)<<6|63&n),i+=2):(n=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=dechar((15&o)<<12|(63&n)<<6|63&c3),i+=3);return t}},pepper=function(e,t){e=(e=e.replace(/\+/g,"#")).replace(/#/g,"+");var i=sugar(o.y)*t;t<0&&(i+=abc.length/2);var n=abc.substr(2*i)+abc.substr(0,2*i);return e.replace(/[A-Za-z]/g,(function(e){return n.charAt(abc.indexOf(e))}))},sugar=function(e){e=e.split(dechar(61));var t,i="",o=dechar(120);for(var n in e)if(e.hasOwnProperty(n)){var r="";for(var s in e[n])e[n].hasOwnProperty(s)&&(r+=e[n][s]==o?dechar(49):dechar(48));t=parseInt(r,2),i+=dechar(t.toString(10))}return i.substr(0,i.length-1)},exist=function(e){return null!=e&&void 0!==e},int=function(e){return parseInt(e)},findLeft=function(e){var t=0;if(e.offsetParent)for(t=e.offsetLeft+e.clientLeft;e=e.offsetParent;)t+=e.offsetLeft+e.clientLeft;var i=0;return"relative"==window.getComputedStyle(document.body,null).position&&(i=document.body.getBoundingClientRect().left),t+i},findTop=function(e){var t=0;if(e.offsetParent)for(t=e.offsetTop+e.clientTop;e=e.offsetParent;)t+=e.offsetTop+e.clientTop;return t},redirect=function(e){""!=e&&(1==v.redirectblank?window.open(e):window.location.href=e,e="")},timeFormat=function(e){e=Math.round(e);var t=Math.floor(e/60),i=Math.floor(t/60);return t=Math.floor(t%60),i>0&&t<10&&(t="0"+t),(i>0?i+":":"")+t+":"+(e=(e=Math.floor(e%60))>=10?e:"0"+e)},Actions=function(){var e,t=!1,n=!0;function r(e){return exist(v.prefile)&&-1==e.indexOf("//")&&(e=v.prefile+e),e}function s(){o.current_subtitle=-1,o.subtitle_on=!1,o.thumbs_on=!1,delete v.subtitle,delete v.thumbnails,delete o.sub,delete o.subs,exist(o.controls)&&o.controls.SubtitleChanged(),delete o.files_subtitle,exist(o.subtitle)&&(o.mediacontainer.removeChild(o.subtitle),delete o.subtitle),delete o.current_subtitle,o.subtitle_on=!1}function a(e,t,i,n){exist(o.gatracked[t])||i>n&&gaTracker(e,t,!0)}o.system.tv&&log("tv"),this.Title=function(e){o.controls&&o.controls.title(e)},this.File=function(e){if(e&&"string"==typeof e&&0==e.indexOf("[{"))try{e=e.replace(/pjs'qt/gi,'"'),e=JSON.parse(e)}catch(t){e="incorrect JSON"}if("object"==typeof e){o.playlist_dic=[],o.playlist=L(e);var t=function(){var e=[];if(exist(v.plstart)){if(0!=v.plstart.indexOf("x-"))for(var t in o.playlist_dic)o.playlist_dic.hasOwnProperty(t)&&o.playlist_dic[t].pjs_id==v.plstart&&(v.plstart=t);exist(o.playlist_dic[v.plstart])?e=o.playlist_dic[v.plstart]:(e=o.playlist[0],v.plstart==o.plcontinue&&(o.seekto=void 0))}else e=o.playlist[0];for(var i=0;i<10&&exist(e.folder);i++)e=e.folder[0];v.plstart=e.id,v.plstart==o.plcontinue&&(e.start=void 0);return e}();e=t.file,o.titlestore=t.title,exist(t.poster)&&(o.media?o.media.Poster(t.poster):v.poster=t.poster),exist(t.sub)&&(t.subtitle=t.sub),exist(t.start)&&(o.seekto=t.start),exist(t.end)&&(v.end=t.end),exist(t.points)&&(v.points=t.points),exist(t.id)&&(o.plid=t.id);var i=["subtitle","vars","embed","url","heartbeat","thumbnails"];exist(v.control_title)&&1==v.control_title.showfrom1file&&1==v.control_title.showtitleplaylist&&i.push("title");for(var n=0;n<i.length;n++)exist(t[i[n]])&&(v[i[n]]=t[i[n]]);i.indexOf("title")>0&&o.actions.Title("title"),o.controls&&o.controls.UpdatePlaylist(o.playlist)}if("string"==typeof e){if(0==e.indexOf("#2")&&(e=fd2(e)),0==e.indexOf("#3")&&e.indexOf(v.file3_separator)>0&&(e=fd3(e)),0==e.indexOf("#0")&&(e=fd0(e)),1==v.fplace&&(e=fplace(e)),""==e&&(log("empty file"),o.media_error=!0,js("error","empty")),o.files_quality=[],o.files_audiotrack=[],o.current_file=0,o.current_quality=0,o.current_audiotrack=0,o.files=e.split(v.file_separator),o.audiotracks=[],exist(v.qualities))var s=v.qualities.split(v.file_separator);if(o.files.length>0){var a=0;for(n=0;n<o.files.length;n++)o.files[n]=trim(o.files[n]),0==o.files[n].indexOf("[")&&o.files[n].indexOf("]")>1?(o.files_quality[n]=o.files[n].substr(o.files[n].indexOf("[")+1,o.files[n].indexOf("]")-1),o.files[n]=o.files[n].substr(o.files[n].indexOf("]")+1)):exist(v.qualities)?o.files_quality[n]=exist(s[n])?s[n]:"":o.files_quality[n]=n+1,exist(v.default_quality)&&0==a&&v.default_quality==o.files_quality[n]&&(o.current_file=n,o.current_quality=n),exist(o.default_quality)&&o.default_quality==o.files_quality[n]&&(o.current_file=n,o.current_quality=n,a=n),o.files[n]=r(o.files[n])}else o.files[0]=r(o.files[0]);return o.files[o.current_file]}},this.UpdatePlaylist=function(e){"object"==typeof e&&(o.playlist_dic=[],o.playlist=L(e),o.controls&&o.controls.UpdatePlaylist(o.playlist))},this.NewFile=function(e,t){if(!exist(t)&&(v.autoplay=1),v.preload=0,v.duration=void 0,v.end=void 0,o.media_error=!1,o.metadata=!1,o.pipwebkit=!1,o.reloadTimer=0,o.gatracked=[],s(),v.vast_midroll_limit>1&&exist(o.midrollo)&&1==v.midrolls){for(var i in o.midrollo)o.midrollo[i].worked=void 0;v.vast_midroll_limit--}"playing"==o.media.status()&&this.Stop(),exist(o.share)&&o.share.Remove(),exist(o.reloadErrorTimeout)&&clearTimeout(o.reloadErrorTimeout),js("new"),o.actions.VastRecover(),e=this.File(e),1==t&&(o.file_type=""),o.media.File(e),!o.system.mobile&&!o.system.safari||exist(t)||o.actions.Play(),exist(o.custom_aspect)&&o.media.normalscale(),o.media.NativeControls(),o.controls.QualityChangedNoHand(),o.controls.AudioTrackChangedNoHand(),o.controls.refresh()},this.RemoveSubtitles=function(){s()},this.MediaReady=function(){1==v.autoplay&&(1==v.observer?setTimeout((function(){o.actions.Play()}),500):this.Play(),v.autoplayed=1),1==v.thumbs&&function(){if(!w&&exist(v.thumbnails)&&""!=v.thumbnails){w=!0;var e=XHR(v.thumbnails);e.onload=function(){w=!1,4==this.readyState&&200==this.status?function(e){try{var t=e.responseText,n=Array();if(n=t.split("\n"),o.thumbs=[],n[0].indexOf("WEBVTT")>-1){for(i=0;i<n.length;i++)n[i].indexOf("--\x3e")>-1&&n[i].indexOf(":")>-1&&(t1=x(n[i].substr(0,n[i].indexOf("--\x3e"))),t2=x(n[i].substr(n[i].indexOf("--\x3e")+4,12)),x_url="",i<n.length-1&&(x_url=n[i+1],0!=x_url.indexOf("http")&&(x_url=v.thumbnails.substr(0,v.thumbnails.lastIndexOf("/")+(0==x_url.indexOf("/")?0:1))+x_url)),o.thumbs.push({t1:t1,t2:t2,url:x_url}));o.thumbs_on=!0}}catch(e){log("Thumbnails Error")}}(this):v.thumbnails=""},e.onerror=function(e){w=!1,v.thumbnails=""},e.send()}}()},this.NativeControls=function(){var e=!1;return o.system.mobile&&(e=!0,1==v.nativenotiphone&&o.system.iphone&&(e=!1),1==v.nativenotipad&&o.system.ipad&&(e=!1),1==v.nativenotios&&o.system.ios&&(e=!1),1==v.nativenotandroid&&o.system.android&&(e=!1)),1==v.nativeontv&&o.system.tv&&(e=!0),e},this.Metadata=function(){o.media.Volume(v.volume),o.muted&&o.media.Mute(),o.metadata=!0,o.controls.refresh(),o.casting&&o.tagvideo&&o.chromecast.Go()},this.Play=function(e){var t=!1;if("youtube"==o.file_type&&(o.media.YoutubeReady()||1==v.autoplay||1!=v.preload||(t=!0,window.YT&&(v.autoplay=1,o.media.onYoutubeReady()))),1==v.pass&&0==v.passontime&&(o.actions.Password(),t=!0),o.media_error||t);else if(function(e){if(1==v.stopotherplayers)for(var t=0;t<pljssglobal.length;t++)pljssglobal[t].api("id")!=v.id&&pljssglobal[t].api("pause");pljssglobalid=v.id}(o.start),o.alert.close(),o.start?gaTracker("resume","Resume"):(js("start"),o.start=!0,js("new"),gaTracker("play","Play",!0)),1!=v.fullonplay||o.fullscreen||(1==v.fullonplaymobile?o.system.mobile&&this.Fullscreen():this.Fullscreen()),T("preroll")||T("intro"))datetime(2);else if(1==v.redirect&&exist(v.redirectonplay)&&!exist(options.redirect)&&(redirect(v.redirectonplay),t=!0),!t){log("Play"),"pdf"!=o.file_type&&o.media.duration()>0&&o.controls.Duration(o.media.time(),o.media.duration());var i=!1;if(o.media.time()>1&&1==v.pauserollonplay&&1!=e&&(i=T("pauseroll")),i);else{if(o.controls&&o.controls.SettingsVisible()&&o.controls.Settings(),exist(o.lunchfileonstart)){var n=o.lunchfileonstart.valueOf();o.lunchfileonstart=void 0,o.actions.NewFile(n)}else o.media.Play();o.controls.Play(),o.system.mobile&&o.controls.HideInterval(),exist(o.share)&&o.share.isOpen()&&o.share.Hide(),1==v.filters&&o.tagvideo&&css(o.media.tag(),{filter:"none"}),1==v.heartbeats&&exist(v.heartbeat)&&o.dt&&(""==v.heartbeat||exist(o.heartbeatInterval)||(o.heartbeatInterval=setInterval(I,1e3*v.heartbeatinterval),I()))}}},this.Pause=function(){o.play&&(log("Pause"),o.media.Pause(),o.controls.Pause(),js("pause"),v.posteronpause&&D(),1==v.filters&&o.tagvideo&&css(o.media.tag(),{filter:"grayscale(100%)"}),exist(o.vast)||0!=v.pauserollonplay||T("pauseroll"))},this.YoutubePauseroll=function(){o.play&&(js("pause"),exist(o.vast)||0!=v.pauserollonplay||T("pauseroll"))},this.Mute=function(){o.media.Mute(),o.controls.Mute(),o.muted=!0,js("mute")},this.Unmute=function(){o.media.Unmute(),o.muted=!1,o.controls.Unmute(),js("unmute")},this.Volume=function(e,t){e<.02&&(e=0),e>1&&(e=1),e<=0?this.Mute():(o.muted&&this.Unmute(),v.volume=e),js("volume",e),o.controls.Volume(e,t),o.media.Volume(e)},this.Waiting=function(){o.controls.Waiting()},this.StopWaiting=function(){o.controls.StopWaiting()},this.Progress=function(){this.StopWaiting()},this.Seeked=function(){o.actions.UpdatePlay(),this.StopWaiting()},this.Duration=function(e,t){if(o.continue&&!o.start){var i=o.continue.flag();i.t&&i.d&&(e=i.t)}o.controls.Duration(e,t)},this.LoadedData=function(e,t){exist(o.seekto)&&"youtube"!=o.file_type&&(o.actions.Seek(o.seekto,!1),o.seekto=void 0)},this.ScreenClick=function(){var e=new Date;o.clicktime=e.getTime();var t=!1;o.controls.SettingsVisible()&&1!=v.settings.always&&(o.controls.Settings(),t=!0),0==v.playlist.always&&o.controls.PlaylistVisible()&&1==v.playlist.autohide&&(o.controls.Playlist(),t=!0),1==v.redirect&&exist(v.redirectonclick)&&!exist(options.redirect)&&(redirect(v.redirectonclick),t=!0),t||this.Toggle()},this.ControlsBgClick=function(){o.controls.SettingsVisible()&&o.controls.Settings()},this.Toggle=function(){"playing"==o.media.status()?this.Pause():this.Play(),f(o.media.time())},this.Seek=function(e,t){e<o.media.duration()&&(o.seeked_time=e,o.media.Seek(e),t&&o.controls.Seek(e,o.media.duration()),o.seeking=!0,o.seeking_time=o.media.time(),f(o.seeking_time))},this.Open=function(e,t,i){"playing"==o.media.status()&&"audio"!=o.mode&&(Pause(),o.fullscreen&&i&&o.controls.Normalscreen()),window.open(e,t)},this.Download=function(){var e=o.media.currentFile();(exist(v.download)&&(e=v.download),""!=e)&&window.open(e,"_blank").focus()},this.UpdatePlay=function(){var e=o.media.time(),t=o.media.duration();o.controls.Played(e,t)},this.Playing=function(){var e=o.media.time(),t=o.media.duration();if(o.seeking?o.media.time()!=o.seeking_time&&(o.seeking=!1):o.controls.Played(e,t),(1==v.ga||1==v.yamtr)&&t>0){var i=e/t;a("play25","Play 25%",i,.25),a("play50","Play 50%",i,.5),a("play75","Play 75%",i,.75)}if(1==v.reload&&o.play&&e>0){var n=!1;1==v.reloadlive&&(o.media.isLive()||(n=!0)),e!=o.time||n?o.reloadTimer=0:(o.reloadTimer++,o.reloadTimer==v.reloadtimeout*(1e3/o.timerTime)&&o.actions.Reload()),o.time=e}1==v.vast&&1!=v.nomidroll&&function(e,t){if(exist(o.midrollo)&&1==v.midrolls)for(var i in o.midrollo)if(o.midrollo.hasOwnProperty(i)&&!exist(o.midrollo[i].worked)&&exist(o.midrollo[i].time)&&exist(o.midrollo[i].vast)){var n=o.midrollo[i].time.toString();if(n&&e>=(n=n.indexOf("%")>0?t>0?parseInt(n.substr(0,n.indexOf("%")))*t/100:-1:parseInt(n))&&(v.vast_midrollrest>0&&n>-1&&e-n>=v.vast_midrollrest&&(n=-1),n>-1&&(o.midrollo[i].vast,v.midroll=o.midrollo[i].vast,T("midroll")))){o.midrollo[i].worked=!0;break}}}(e,t),1==v.pass&&v.passontime>-1&&PasswordTime(e,t),o.subtitle_on&&f(e),o.storage&&1==v.timestore&&o.continue.write(e,t),exist(v.end)&&v.end>0&&e>v.end&&("youtube"==o.file_type?(o.media.Pause(),o.media.Seek(v.start>0?v.start:0)):(o.media.Recover(),o.actions.Stop()),v.start>0&&(o.seekto=v.start),o.actions.Ended())},this.Reload=function(){!o.media.isLive()&&(o.seekto=o.media.time());var e=o.controls.PlaylistVisible();o.reloadTimer=0,js("reload"),o.media.reload(),e&&1==v.playlist.autohide&&o.controls.PlaylistShow()},this.Stopped=function(){o.controls.Played(0,0),o.controls.Loaded(0,0),o.actions.Duration(0,0),o.controls.StopWaiting()},this.Loading=function(){var e=o.media.loaded(),t=o.media.duration();o.controls&&o.controls.Loaded(e,t)},this.Ended=function(){js("fileend"),1==v.loop?("youtube"==o.file_type&&this.Stop(),v.start>0&&o.actions.Seek(v.start),this.Play()):(o.media.isLive()||"youtube"==o.file_type?this.Stop():1==v.finishrewind&&o.actions.Seek(v.start>0?v.start:0,!0),o.controls.onEnded(),1==v.intros&&(v.outros=1),T("postroll")||T("outro")||P())},this.Fullscreen=function(){o.frameresize.contentWindow.onresize=Resize;var e=!1,t=!1;for(var i in o.fullscreen_process=!0,setTimeout((function(){o.fullscreen_process=!1}),3e3),o.motions)o.motions.hasOwnProperty(i)&&o.motions[i].TheEnd2();try{if(o.fullscreen_start=!0,o.frame.requestFullScreen?(o.frame.requestFullScreen(),o.realfullscreen=!0):o.frame.requestFullscreen?(o.frame.requestFullscreen(),o.realfullscreen=!0):o.frame.mozRequestFullScreen?(o.frame.mozRequestFullScreen(),o.realfullscreen=!0):o.frame.webkitRequestFullScreen?(o.frame.webkitRequestFullScreen(),o.realfullscreen=!0):o.frame.msRequestFullscreen&&(o.frame.msRequestFullscreen(),o.realfullscreen=!0),o.system.ios&&1==v.nativefullios&&o.tagvideo&&!o.realfullscreen)(i=o.media.tag())&&i.webkitSupportsFullscreen&&(i.webkitEnterFullScreen(),i.addEventListener("webkitendfullscreen",d),o.media.nativeSubtitle(),e=!0)}catch(e){t=!0,log(e)}o.realfullscreen||e||this.FullscreenUI(),t||(o.ispipkit&&o.media.PipWebkit(),1==v.hotkey.volumewheelfull&&(u(!0),o.volumewheel=!0),js("fullscreen"),gaTracker("full","Fullscreen",!0))};var l={x:0,y:0};function c(t){o.hidden_volume_over=!0,clearInterval(e),e=setInterval((function(){o.hidden_volume_over=!1,o.controls.resize(),l={x:0,y:0},clearInterval(e)}),2e3),o.controls.resize(),t.preventDefault(),0!=t.deltaX?l.x++:l.x--,0!=t.deltaY?l.y++:l.y--,0!=t.wheelDelta&&(l.x>l.y?t.deltaX>0?o.actions.Volume(parseFloat(v.volume)-v.hotkey.wheelstep/10,"no"):o.actions.Volume(parseFloat(v.volume)+v.hotkey.wheelstep/10,"no"):t.deltaY>0?o.actions.Volume(parseFloat(v.volume)+(o.system.win?-v.hotkey.wheelstep/10:v.hotkey.wheelstep/10),"no"):o.actions.Volume(parseFloat(v.volume)-(o.system.win?-v.hotkey.wheelstep/10:v.hotkey.wheelstep/10),"no"),o.controls.volumescroll())}function d(){o.system.ios&&(o.media.removeNativeSubtitle(),js("exitfullscreen"))}function u(t){l={x:0,y:0},t?window.addEventListener("wheel",c,!0):(clearInterval(e),window.removeEventListener("wheel",c,!0))}function f(e){if(o.subtitle_on&&exist(o.subs)){var t=o.media.sub();if(t){var i=o.current_subtitle;if(exist(t[i])&&exist(t[i][1])){var r=parseInt(10*e);if(exist(t[i][1][r])){var s;s=t[i][0][t[i][1][r]],exist(o.subtitle)||(o.subtitle=createElement("div"),o.mediacontainer.appendChild(o.subtitle),h()),o.controls.ToolbarHidden()?css(o.subtitle,{position:"absolute",bottom:1*v.sub_bottom}):css(o.subtitle,{position:"absolute",bottom:1*v.sub_bottom+1*v.toolbar.h}),o.subtitle.innerHTML='<span style="',o.subtitle.innerHTML+=1==v.sub_bg?"background-color:"+hexToRGBA(v.sub_bgcolor,v.sub_bga):"",o.subtitle.innerHTML+="-webkit-box-decoration-break: clone;",o.subtitle.innerHTML+="color:"+(-1==v.sub_color.indexOf("#")?"#":"")+v.sub_color+";",o.subtitle.innerHTML+="padding:"+v.sub_bgpadding+"px "+2*v.sub_bgpadding+"px;",o.subtitle.innerHTML+="border-radius:"+v.sub_bgo+"px;margin:0 0;line-height:1.8;font-weight:"+v.sub_weight+'">'+trim(s)+"</span>",1==v.sub_big_fullscreen&&(o.fullscreen?css(o.subtitle,{"font-size":v.sub_size_fullscreen+(parseInt(v.sub_sizeproc)-100)*v.sub_size/100+"px"}):css(o.subtitle,{"font-size":v.sub_size+(parseInt(v.sub_sizeproc)-100)*v.sub_size/100+"px"})),n=!1}else!n&&exist(o.subtitle)&&(o.subtitle.innerHTML="",n=!0)}}}}function h(){o.subtitle&&(css(o.subtitle,{position:"absolute",width:"100%","padding-left":"10%","padding-right":"10%",left:0,color:v.sub_color,"text-align":"center","box-sizing":"border-box"}),o.subtitle.draggable="true",1==v.sub_shadow?css(o.subtitle,{"text-shadow":"1px 1px 2px black"}):css(o.subtitle,{"text-shadow":"none"}))}this.FullscreenUI=function(){if(o.fullscreen_start){if(o.fullscreen=!0,o.controls.Fullscreen(),!o.realfullscreen){if(exist(o.parentIframe))try{css(o.parentIframe,{width:"100%",height:"100%",position:"fixed",left:0,top:0,zIndex:"100000"})}catch(e){}css(o.frame,{width:"100%",height:"100%",position:"fixed",left:0,top:0,zIndex:"100000"}),o.screen_w=o.frame.offsetWidth,o.screen_h=o.frame.offsetHeight;try{document.body.style.overflow="hidden",exist(o.playlist)||(document.ontouchmove=function(e){e.preventDefault()})}catch(e){}}1==v.fullblack&&css(o.frame,{backgroundColor:"#000000"}),o.oo&&hide(o.oo),f(o.media.time()),o.fullscreen_start=!1}},this.Normalscreen=function(){t=!0,document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen?document.exitFullscreen():document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),o.realfullscreen||this.NormalscreenUI(!1)},this.changeAspect=function(e){var t=!1,i=o.container_w/e;if(exist(o.parentIframe))try{css(o.parentIframe,{height:i})}catch(e){t=!0,log("iframe crossdomain issue")}t||(o.aspect=e,o.container_h=i,o.aspect>0&&css(o.container,{height:i}),js("height",i)),o.vast&&!o.fullscreen&&(o.screen_h=i,o.vast.Resize())},this.NormalscreenUI=function(e){if(t||e){if(o.fullscreen=!1,!o.realfullscreen){if(exist(o.parentIframe))try{css(o.parentIframe,{position:"static",left:0,top:0,zIndex:"unset"}),css(o.parentIframe,o.parentIframe_style),css(o.parentIframe,{width:o.normal_w,height:o.normal_h})}catch(e){}css(o.frame,{width:o.normal_w,height:o.normal_h,position:"absolute",left:0,top:0,zIndex:"unset"});try{document.body.style.overflow="auto",document.ontouchmove=function(e){return!0}}catch(e){}}o.controls.Normalscreen(),o.oo&&show(o.oo),1==v.fullblack&&(css(o.frame,{backgroundColor:v.screencolor}),1==v.transparent?o.frame.style.backgroundColor="transparent":css(o.frame,{backgroundColor:v.screencolor})),1==v.hotkey.volumewheelfull&&(u(!1),o.volumewheel=!1),f(o.media.time()),t=!1,js("exitfullscreen"),o.realfullscreen=!1,o.fullscreen_process=!1}},this.volumewheel=function(e){u(e)},this.Stop=function(){v.preload=0,o.controls.Pause(),o.actions.Stopped(),o.media.Volume(v.volume),o.controls.SettingsVisible()&&o.controls.Settings(),o.muted&&this.Mute(),exist(o.heartbeatInterval)&&(clearInterval(o.heartbeatInterval),delete o.heartbeatInterval),f(0),log("stop"),js("stop")},this.SetQuality=function(e){exist(o.current_quality)&&o.current_quality!=e&&(o.current_quality=e,1==v.qualitystore&&(o.default_quality=o.files_quality[e],o.storage&&localStorage.setItem("pljsquality",o.default_quality)),o.media.SetQuality(e),js("quality",o.files_quality[e]),o.controls.QualityChanged(e))},this.AirplayChanged=function(){o.controls&&o.controls.AirplayChanged()},this.SetAudioTrack=function(e){exist(o.current_audiotrack)&&o.current_audiotrack!=e&&(o.current_audiotrack=e,o.media.SetAudioTrack(e),js("audiotrack",e),o.controls.AudioTrackChanged(e))},this.SetSubtitle=function(e){exist(o.current_subtitle)&&(o.current_subtitle!=e?(o.current_subtitle=e,o.subtitle_on=!0,o.media.SetSubtitle(e),js("subtitle",o.files_subtitle[e]),o.controls.SubtitleChanged()):(o.current_subtitle=-1,v.subtitle_start=0,o.subtitle_on=!1,o.controls.SubtitleChanged(),exist(o.subtitle)&&o.mediacontainer.removeChild(o.subtitle),delete o.subtitle))},this.SetSpeed=function(e){o.media.SetSpeed(e==o.speed1?1:o.files_speed[e]),o.current_speed=e},this.RenewSubtitle=function(){f(o.media.time()),h()};var p,g,y,m,b,w=!1;function x(e){var t=e.split(":"),i=0;return 2==t.length&&t.unshift("00"),"00"!=t[0]&&(i+=3600*t[0]),"00"!=t[1]&&(i+=60*t[1]),i+=1*t[2].substr(0,2),i+=1*t[2].substr(2)}function T(e){if(v["vast_"+e+"_timebreak"]>0&&o.storage){var t=localStorage.getItem("pljs"+e+"_"+v.d);if(t){var i=new Date;if(o.clicktime=i.getTime(),(i.getTime()-t)/36e5<v["vast_"+e+"_timebreak"])return!1}}if(-1==o.compilations.indexOf("VAST")||1!=v.vast||o.noads||1!=v[e+"s"])return!1;if("intro"==e&&exist(v.intro)&&""!=v.intro){if(o.dt){log("preroll"),js("preroll_start"),b=[],o.vasttype="preroll";var n=v.intro.split(" or ");n.length>1&&(v.intro=n[Math.floor(Math.random()*n.length)]);var r=v.intro.split(" and ");o.adsinchain=r.length,o.adscounter=1;var s={adsystem:"intro",click:(a=(1==v.introclickable&&exist(v.introclick)?v.introclick:"").split(" and "))[0],events:[],extensions:{isClickable:v.introclickable,skipTime:v.introskiptime,skipTime2:v.introclosetime,controls:1==v.introcontrols?0:1,linkTxt:1==v.introtxt&&""!=a[0]?Lang("acceptinvitation"):""},file:r[0],isVpaid:!1,introtitle:v.introtitle};return delete v[e],v[e]=void 0,o.vast=new VastVideo,o.vast.Go(s),r.length>0&&(r.shift(),v.intro=r.join(" and ")),a.length>0&&(a.shift(),v.introclick=a.join(" and ")),!0}delete v[e],v[e]=void 0}if("outro"==e&&exist(v.outro)&&""!=v.outro){if(o.dt){log("postroll"),js("postroll_start"),b=[],o.vasttype="postroll";var a;s={adsystem:"outro",click:a=1==v.introclickable&&exist(v.outroclick)?v.outroclick:"",events:[],extensions:{isClickable:v.introclickable,skipTime:v.introskiptime,skipTime2:v.introclosetime,controls:v.introcontrols,linkTxt:1==v.introtxt&&""!=a?Lang("acceptinvitation"):""},file:v.outro,isVpaid:!1,introtitle:v.introtitle};return delete v[e],v[e]=void 0,o.vast=new VastVideo,o.vast.Go(s),!0}delete v[e],v[e]=void 0}if(exist(o.vast)||exist(o.vastloader))return js("vast_init",e),!0;if(exist(v[e])){if(v[e].toString().indexOf(".")>-1){js("vast_init",e),o.actions.Waiting(),"midroll"!=e&&A(),p=0,g=0,y=e,b=v[e].split(" and "),m=[],o.adsinchain=b.length,o.adscounter=1;for(var l=0;l<b.length;l++)b[l]=b[l].split(" or ");if(v[e+"_recover"]=v[e],delete v[e],o.vasttype=e,o.vast=new VastVideo,o.vastloader=new VastLoader,1==v.vast_preload)for(l=0;l<b.length;l++){var c=0==l?1:0;if(b[l].length>c)for(var d=c;d<b[l].length;d++){var u=trim(b[l][d]);m[u]=new VastLoader(!0),m[u].Load(u,e)}}return o.vastloader.Load(trim(b[0][0]),e),!0}return!1}return!1}function _(){if(b.length>0)if(g<b[p].length-1){o.vast&&o.vast.RemoveForNextAd(),g++;var e=trim(b[p][g]),t=E(e);"skip"==t&&(o.vastloader=new VastLoader,o.vastloader.Load(e,o.vasttype)),"error"==t&&_()}else S();else S()}function E(e){var t="skip";if(1==v.vast_preload&&m[e]){var i=m[e].Status();stop=!0,"ready"==i?(o.vastloader=m[e],log("VAST preloaded"),m[e].Ready()):(""==i&&(t="ok",o.vastloader=m[e],m[e].disablePreload()),"error"==i&&(t="error"))}return t}function k(e){1==v.vast_preload&&m&&(m[e]=new VastLoader(!0),m[e].Load(trim(e),o.vasttype))}function S(e){var t=!1;if("preroll"==y&&v.vast_preroll_andlimit>0&&o.vast_starts>0&&o.vast_impressions>=v.vast_preroll_andlimit&&(t=!0),b.length>p+1&&!t){o.vast.RemoveForNextAd(),p++,o.adscounter++,g=0;var i=trim(b[p][0]),n=E(i);"skip"==n&&(o.vastloader=new VastLoader,o.vastloader.Load(i,y)),"error"==n&&S(e)}else R(),o.controls.StopWaiting(),exist(o.vast)&&(o.vast.Remove(),delete o.vast),delete o.vastloader,b=[],g=0,p=0,js("vast_finish",o.vasttype),1==v.vast_ima&&o.ima&&(o.ima.Destroy(),o.ima=void 0),y="",o.vast_impressions=0,o.vast_starts++,("preroll"==o.vasttype||"pauseroll"==o.vasttype&&1==v.pauserollonplay||"midroll"==o.vasttype)&&"?"!=v.file&&(o.media.AfterVast(),"youtube"==o.file_type&&!o.vastclick&&o.system.ios||"dontplay"==e||o.actions.Play(1)),"postroll"==o.vasttype&&P(),o.vastclick=!1,delete o.vasttype}function A(){o.curtain=createElement("div"),o.frame.appendChild(o.curtain),css(o.curtain,{width:"100%",height:"100%",position:"absolute",top:0,left:0,background:"#000000",opacity:.1}),o.curtain.style.zIndex=1e3}function D(){exist(o.poster)&&(show(o.poster),css(o.poster,{opacity:v.poster_a}),o.controls.refresh())}function R(){o.curtain&&(o.frame.removeChild(o.curtain),delete o.curtain)}function L(e){var t=Object.keys(e).length;return t>0&&(e=C(e,t,"",-1)),e}function C(e,t,i,n){exist(e.playlist)&&(t=(e=e.playlist).length);for(var r=0;r<t;r++){if(exist(e[r].id)&&(e[r].pjs_id=e[r].id),e[r].id="x"+i+"-"+r+(exist(e[r].id)?"-"+e[r].id:""),-1==n&&0==r&&!exist(e[r].folder)&&(o.pl_first_id=e[r].id),exist(o.pl_first_id)||0==n&&!exist(e[r].folder)&&(o.pl_first_id=e[r].id),e[r].pjs_parent=i,e[r].pjs_parent_i=n,e[r].pjs_i=r,exist(e[r].comment)){e[r].title=e[r].comment;var s=e[r].file?e[r].file.indexOf("["):0,a=e[r].file?e[r].file.indexOf("]"):0;if(s>0&&a>0){for(var l=e[r].file.substr(s+1,a-s-1),c=l.split(","),d="",u=0;u<c.length;u++)d+="["+c[u]+"]"+e[r].file.replace("["+l+"]",c[u])+(u<c.length-1?",":"");e[r].file=d}}if(o.playlist_dic[e[r].id]=e[r],exist(e[r].playlist)&&(e[r].folder=e[r].playlist),exist(e[r].folder)){var f=Object.keys(e[r].folder).length;f>0&&(e[r].folder=C(e[r].folder,f,e[r].id,r))}}return e}function P(){gaTracker("end","End",!0),o.actions.VastRecover(),o.storage&&1==v.timestore&&o.continue.write(0,o.media.duration()),o.controls.PlaylistExist()?1==v.playlist.autoplaylist&&o.controls.PlaylistNextExist()?(o.controls.PlaylistNext(),o.play&&o.system.ios&&o.file_type):(1!=v.playlist.playlistrewind||o.controls.PlaylistNextExist()||(o.media.Remove(),o.controls.PlaylistRewind()),1==v.playlist.openplaylistafter&&!o.controls.PlaylistVisible()&&o.controls.Playlist(),D(),js("finish")):(D(),js("finish"))}function I(){var e=Math.floor(Date.now()/1e3),t=(exist(v.livets)?v.livets:0)+parseInt(o.media.time()),i=0;o.system.desktop&&(i=1),o.system.ios&&(i=2),o.system.android&&(i=3),o.system.winmob&&(i=4),o.system.tv&&(i=5);var n=v.heartbeat.replace("[vts]",e);n=(n=n.replace("[fts]",t)).replace("[dvtp]",i);var r=document.createElement("img");r.setAttribute("src",n),r.setAttribute("height","1px"),r.setAttribute("width","1px"),o.frame.appendChild(r)}this.VastReady=function(e){delete o.vastloader,log("VAST ready"),js("vast_ready",o.vasttype),exist(o.vast)?(o.play&&(o.media.Pause(),o.controls.Pause()),0==v.preload&&1==v.vastbgpreload&&0==o.media.time()&&0==o.media.duration()&&(v.preload=1,o.media.Preload()),(!o.vast.tagLive()||e.isVpaid)&&o.vastgo>0&&(log("VAST renew"),o.vast.Remove(),delete o.vast,o.vast=new VastVideo),o.vastgo++,o.vast.Go(e)):log("VAST alarm")},this.VastError=function(){js("vast_error",o.vasttype),log("VAST error"),o.adsinchain--,_()},this.VastNext=function(){_()},this.VastRemoveUrl=function(e){if(v[o.vasttype+"_recover"])for(var t=0;t<3;t++)v[o.vasttype+"_recover"]=v[o.vasttype+"_recover"].replace(e+(0==t?" and ":1==t?" or ":""),"")},this.VastInsertAnd=function(e){b.splice(p+1,0,[e]),k(e)},this.VastInsertOr=function(e){b[p].push(e),k(e)},this.VastRemoveAndPlay=function(e){S(e)},this.VastRecover=function(){for(var e=["preroll","pauseroll","postroll"],t=0;t<e.length;t++)exist(v[e[t]+"_recover"])&&(v["vast_"+e[t]+"_limit"]--,v["vast_"+e[t]+"_limit"]>0&&(v[e[t]]=v[e[t]+"_recover"]))},this.Password=function(){A(),exist(o.pass)&&(o.pass.Remove(),o.pass=null),o.pass=new Pass},this.RemovePassword=function(){R(),o.pass.Remove(),o.pass=null},this.HidePoster=function(){exist(o.poster)&&(hide(o.poster),css(o.poster,{opacity:0}))},this.ShowPoster=function(){D()}},Media=function(e){var t,n,r,s,a,l,c,d="",u=!1;o.mediascale=1;var f=[];if("string"==typeof e){if(0==(e=trim(e)).indexOf("[{"))try{e=e.replace(/pjs'qt/gi,'"'),e=JSON.parse(e)}catch(t){console.log(t),e="incorrect JSON"}if(0==e.indexOf("#2")&&(e=fd2(e)),0==e.indexOf("#3")&&e.indexOf(v.file3_separator)>0&&(e=fd3(e)),0==e.indexOf("#0")&&(e=fd0(e)),1==v.fplace&&(e=fplace(e)),e.indexOf(".txt")>0||e.indexOf("googleapis.com")>0){e.indexOf("//.txt//")>0&&(e=e.replace("//.txt//",""),v.file=e);var h=XHR(e);h.onload=function(){4==this.readyState&&200==this.status?function(t){if(t.responseText){var i=t.responseText;0==i.indexOf("#2")&&(i=fd2(i)),0==i.indexOf("#3")&&i.indexOf(v.file3_separator)>0&&(i=fd3(i)),i=i.replace(/(\r\n\t|\n|\r\t)/gm,"");try{e=JSON.parse(i)}catch(e){g("playlists JSON")}exist(e.items)&&(e=YoutubePlaylist(e)),o.controls&&1==v.playlist.openplaylistbefore&&(o.controls.PlaylistVisible()||o.controls.PlaylistShow()),p(),Resize(),js("playlist")}}(this):g("playlist not found or access denied")},h.onerror=function(e){g("playlist not found or access denied")},h.send(),c=!0}}function p(){(e=o.actions.File(e))&&"?"!=e&&T(e)}function g(e){log("Error: "+e);var i=!0;if(t&&t.length>0)if(i=++r>t.length-1)1==v.reload&&(i=!1,log("Error Reload Timeout"),exist(o.reloadErrorTimeout)&&clearTimeout(o.reloadErrorTimeout),o.reloadErrorTimeout=setTimeout((function(){o.actions.Reload()}),1e3*v.reloadtimeout));else{o.file_type==_(t[r])&&"native"==o.file_type||o.play&&(o.actions.Stop(),!0),log("Alternative source"),T("or"),a.Play()}i&&(1==v.ga&&gaTracker("error","Error",!0),v.alerts&&!o.media_error&&(1==v.alert404&&"not found"==e?o.alert.txt(v.alert404text):o.alert.txt("Error: "+e)),o.media_error=!0,o.play&&o.controls.Pause(),exist(o.poster)&&o.actions.ShowPoster(),js("error",e))}function y(){var e=!1;return"youtube"==o.file_type&&(e=a.auto()),"hls"==o.file_type&&1==v.hlsquality&&m()>1&&1==v.hlsautoquality&&(e=a.auto()),"dash"==o.file_type&&1==v.dashquality&&b()>1&&(e=a.auto()),e}function m(){return"hls"==o.file_type?a.HlsLevelsLength():0}function b(){return"dash"==o.file_type?a.DashLevelsLength():0}function w(){("playing"==(d=a?a.status():"")||o.casting)&&o.actions.Playing(),""!=d&&o.actions.Loading()}function x(){if(o.poster&&o.frame.removeChild(o.poster),o.poster=createElement("div"),css(o.poster,{"pointer-events":"none",opacity:v.poster_a,transition:"opacity 0.5s"}),1==v.poster_float){1==v.posterontop&&(o.poster.style.zIndex=100),css(o.poster,{width:v.poster_floatwidth,height:v.poster_floatheight});var e={margin:v.poster_floatmargin};e=MarginPadding(e,"margin","margin"),v.poster_floatposition.indexOf("right")>-1?(rightside=1,css(o.poster,{position:"absolute",right:e.marginright-e.marginleft})):css(o.poster,{position:"absolute",left:e.marginleft-e.marginright}),v.poster_floatposition.indexOf("top")>-1&&css(o.poster,{top:e.margintop-e.marginbottom}),v.poster_floatposition.indexOf("bottom")>-1&&css(o.poster,{bottom:e.marginbottom-e.margintop}),"right"!=v.poster_floatposition&&"left"!=v.poster_floatposition||css(o.poster,{top:"50%","margin-top":-v.poster_floatheight/2+e.margintop-e.marginbottom}),v.poster_floatrounding>0&&css(o.poster,{"border-radius":v.poster_floatrounding}),-1!=v.poster_floatbgcolor&&css(o.poster,{background:v.poster_floatbgcolor})}else css(o.poster,{position:"absolute",left:0,top:0,width:"100%",height:"100%"});o.frame.appendChild(o.poster)}function T(i,s){if(i.indexOf("{")>-1&&i.indexOf("}")>-1&&i.indexOf(v.file2_separator)>-1){var l=i.split(v.file2_separator);o.audiotracks=[];for(var c=0;c<l.length;c++)o.files_audiotrack[c]=l[c].substr(l[c].indexOf("{")+1,l[c].indexOf("}")-1),o.audiotracks[c]=l[c].substr(l[c].indexOf("}")+1),exist(v.default_audio)&&v.default_audio==o.files_audiotrack[c]&&(o.current_audiotrack=c);i=o.audiotracks[o.current_audiotrack]}i&&i.length>2&&function(e){t=e.split(" or ");for(var i=0;i<t.length;i++)t[i].indexOf(" and ")>-1&&(n=t[i].split(" and "),t[i]=n[random(0,n.length-1)]);r=0}(i);var d=o.file_type;if(t.length>0){o.file_type=_(t[r]);var u=!1;exist(s)&&(u=!0),e=t[r],u||"x"==i||!a||o.file_type!=d||"native"!=d&&"vimeo"!=d&&"hls"!=d||o.system.tv?(log("new"),E(),function(e){o.file_type=_(e),o.reverse_quality=!1,o.tagvideo&&(a=new MediaVideo(e,o.mediacontainer,!1));"youtube"==o.file_type&&(a=new MediaYoutube(e,o.mediacontainer));1==v.vimeo&&"vimeo"==o.file_type&&(a=new MediaVimeo(e,o.mediacontainer));"pdf"==o.file_type&&(a=new MediaPdf(e));o.controls&&o.controls.UpdateSettings();var t=0;exist(v.duration)&&(o.continue&&1==v.timestore&&!o.start&&(t=o.continue.flag().t),setTimeout((function(){o.actions.Duration(t,v.duration)}),100))}(t[r])):(a.src(t[r]),log("src")),o.speed1&&o.current_speed!=o.speed1&&a.setSpeed(o.files_speed[o.current_speed])}clearInterval(o.timerInterval),o.timerInterval=setInterval(w,o.timerTime),exist(v.subtitle)&&""!=v.subtitle&&S(v.subtitle)}function _(e){var t="native";if(e)if(e.indexOf(".m3u8")>0)t="hls";else if(e.indexOf(".mpd")>0)t="dash";else if(e.indexOf(".pdf")==e.length-4)t="pdf";else if(e.indexOf("youtube.com/")>-1||e.indexOf("youtu.be/")>-1){if(t="youtube",1==v.youtubeposter){var i="https://img.youtube.com/vi/"+YoutubeID(e)+"/";!function(e,t){var i=new Image;i.onload=function(){t(this.height)},i.src=e}(i+"maxresdefault.jpg",(function(e){v.poster=e>100?i+"maxresdefault.jpg":i+"hqdefault.jpg",o.playlist_dic&&(o.playlist_dic[o.plid].poster=v.poster),1!=v.autoplay&&!u&&Poster(v.poster,o.poster,v.poster_scale)}))}}else e.indexOf("vimeo.com/")>-1&&(t="vimeo");return o.tagvideo="native"==t||"hls"==t||"dash"==t,t}function E(){a&&(a.Remove(),delete a,a=null,d="ended"),l&&(l.Remove(),delete l,l=void 0,o.frame.removeChild(o.media2),o.media2=void 0)}function k(e){e.stopPropagation(),window.event&&(window.event.cancelBubble=!0);var t=a;a.ChangePip(!0,o.media2),l.ChangePip(!1,o.mediacontainer),a=l,l=t,a.Play(),l.Play(),js("pip")}function S(e){if(""!=e){var t=0,i="";o.subs=e.split(","),o.files_subtitle=[],o.current_subtitle=-1,StorageSupport()&&1==v.sub_store&&null!=localStorage.getItem("pljssubtitle")&&(i=localStorage.getItem("pljssubtitle"));for(var n=0;n<o.subs.length;n++)0==o.subs[n].indexOf("[")&&o.subs[n].indexOf("]")>1?(o.files_subtitle[n]=o.subs[n].substr(o.subs[n].indexOf("[")+1,o.subs[n].indexOf("]")-1),o.subs[n]=o.subs[n].substr(o.subs[n].indexOf("]")+1)):(o.files_subtitle[n]=o.subs[n].substr(o.subs[n].lastIndexOf("/")+1),o.files_subtitle[n]=o.files_subtitle[n].substr(0,o.files_subtitle[n].lastIndexOf("."))),0==o.subs[n].indexOf("#2")&&(o.subs[n]=fd2(o.subs[n])),exist(v.default_subtitle)&&v.default_subtitle==o.files_subtitle[n]&&(t=n,o.current_subtitle=n),""!=i&&i==o.files_subtitle[n]&&(t=n,o.current_subtitle=n);exist(o.controls)&&o.controls.SubtitleChanged(),1==v.subtitle_start&&(o.current_subtitle=t,A())}else o.actions.RemoveSubtitles()}function A(){if(exist(o.subs[o.current_subtitle])&&o.subs[o.current_subtitle].indexOf(".")>-1){var e=o.subs[o.current_subtitle],t=XHR(e);t.onload=function(){4==this.readyState&&200==this.status?(o.subtitle_on=!0,function(e,t){if(e.indexOf(".srt")>-1||e.indexOf(".ass")>-1||e.indexOf(".ssa")>-1||e.indexOf(".vtt")>-1){var n=o.current_subtitle;f[n]=Object(),f[n][0]=Array(),f[n][1]=Array();var r=Array();r=t.split(/\r|\n/);var s=1,a=0,l=0;try{var c=exist(v.subshift)?v.subshift:0;for(e.indexOf("shift=")>0&&(c=1*e.substr(e.indexOf("shift=")+6)),i=0;i<r.length;i++){if(e.indexOf(".srt")>-1||e.indexOf(".vtt")>-1)if(r[i].indexOf("--\x3e")>-1&&r[i].indexOf(":")>-1){a=1*TimeSub(r[i].substr(0,r[i].indexOf("--\x3e")))+c,l=1*TimeSub(r[i].substr(r[i].indexOf("--\x3e")+4,12))+c,f[n][0][a]="";for(var d=a;d<l;d++)f[n][1][d]=a;s++}else""!=r[i]&&r[i].length>1&&r[i]!=s&&(f[n][0][a]+=(""!=f[n][0][a]?"<br>":"")+r[i]);if((e.indexOf(".ass")>-1||e.indexOf(".ssa")>-1)&&r[i].indexOf("Dialogue:")>-1){a=1*TimeSub(r[i].substr(e.indexOf(".ssa")>-1?r[i].indexOf("=0")+3:12,12))+c,l=1*TimeSub(r[i].substr(e.indexOf(".ssa")>-1?r[i].indexOf("=0")+14:23,10))+c;var u="";r[i].indexOf("0,,")>0?u=r[i].substr(r[i].indexOf("0,,")+3):r[i].indexOf("ffect,")>0&&(u=r[i].substr(r[i].indexOf("ffect,")+6)),null!=f[n][0][a]?f[n][0][a]+="\n"+u:f[n][0][a]=u,f[n][0][a]=f[n][0][a].replace(/{.*?}/,""),f[n][0][a]=f[n][0][a].replace(/\\\\N/,"<br>"),f[n][0][a]=f[n][0][a].replace(/\\N/,"<br>");for(d=a;d<l;d++)f[n][1][d]=a}}o.controls.SubtitleChanged()}catch(e){D("error")}}else D("error")}(e,this.responseText)):D("loading_error")},t.onerror=function(e){D("loading_error")},t.send()}}function D(e){log("subtitle not found or access denied"),-1==o.files_subtitle[o.current_subtitle].indexOf(Lang("loading_error"))&&(o.files_subtitle[o.current_subtitle]=o.files_subtitle[o.current_subtitle]+" ("+Lang(e)+")"),o.current_subtitle=-1,o.subtitle_on=!1,o.constrols&&o.controls.SubtitleChanged(),exist(o.subtitle)&&(o.mediacontainer.removeChild(o.subtitle),delete o.subtitle)}function R(){var e=XHR(v.tagsurl+"?url="+t[r]);e.onload=function(){4==this.readyState&&200==this.status&&this.responseText&&(v.title=this.responseText,o.actions.Title("title"))},e.send()}o.mediacontainer=createElement("div"),css(o.mediacontainer,{position:"absolute",width:"100%",height:"100%"}),o.frame.appendChild(o.mediacontainer),1==v.hidevideo&&(1==v.nativecontrolsmobile&&o.system.mobile||(hide2(o.mediacontainer),v.toolbar.hide=0)),c||p(),this.onError=function(){g(a.errorMessage())},this.onEnded=function(){log("Ended");var e=!1;if(a.duration()>0&&!o.casting){var t=o.current_time;t+10<a.duration()&&(log("Break (recovery)"),js("recovery"),a.Play(),a.Seek(t),e=!0)}e||(o.actions.Ended(),js("end"))},this.onPlay=function(){1==v.posterhide&&o.actions.HidePoster(),o.controls.Play(),u||(u=!0,setTimeout((function(){o.media.NativeControls()}),500)),1==v.tags&&exist(v.tagsurl)&&v.tagsurl.length>5&&(R(),clearInterval(s),s=setInterval(R,1e3*v.tagsinterval)),js("play")},this.NativeControls=function(){1==v.nativecontrolsmobile&&o.actions.NativeControls()&&(o.nativecontrols=a.nativeControls(),o.controls.refresh())},this.onPause=function(){o.controls.Pause()},this.onTimeupdate=function(){},this.onSeeking=function(){log("Seeking")},this.onSeeked=function(){log("Seeked"),o.actions.Seeked(),o.seeking_time&&js("seek",o.seeking_time)},this.onMeta=function(){log("Metadata"),o.actions.Metadata()},this.onDuration=function(){a&&(log("Duration",a.duration()),o.actions.Duration(a.time(),a.duration()),js("duration",a.duration()),exist(o.restart_audio)&&(o.actions.SetAudioTrack(o.restart_audio),delete o.restart_audio))},this.onVolume=function(){},this.onWaiting=function(){log("Waiting"),o.actions.Waiting(),js("waiting")},this.onProgress=function(){},this.onTimeupdate=function(){o.actions.StopWaiting(),js("time",a.time()),1==v.pip.on&&exist(v.file2)&&a.time()>0&&(exist(o.media2)||(o.media2=createElement("div"),v.pip=MarginPadding(v.pip,"margin","margin"),css(o.media2,{background:"#"+v.pip.bgcolor,border:v.pip.border+"px solid #"+v.pip.bordercolor,cursor:"pointer",position:"absolute",width:v.pip.width}),v.pip.pip_shadow>0&&css(o.media2,{"box-shadow":"0px 1px "+v.pip.pip_shadow+"px rgba(0,0,0,0.5)"}),"top-left"!=v.pip.position&&"left"!=v.pip.position||css(o.media2,{top:v.pip.margintop-v.pip.marginbottom,left:v.pip.marginleft-v.pip.marginright}),"top-right"!=v.pip.position&&"right"!=v.pip.position||css(o.media2,{top:v.pip.margintop-v.pip.marginbottom,right:v.pip.marginright-v.pip.marginleft}),"bottom-left"==v.pip.position&&css(o.media2,{bottom:v.pip.marginbottom-v.pip.margintop,left:v.pip.marginleft-v.pip.marginright}),"bottom-right"==v.pip.position&&css(o.media2,{bottom:v.pip.marginbottom-v.pip.margintop,right:v.pip.marginright-v.pip.marginleft}),!o.mouseHere&&1==v.pip.hide&&hide(o.media2),o.frame.appendChild(o.media2)),exist(l)||(l=new MediaVideo(v.file2,o.media2,!0),o.media2.addEventListener("click",k,!1)))},this.onYoutubeReady=function(){"youtube"==o.file_type&&a.YoutubeReady()},this.YoutubeReady=function(){return"youtube"!=o.file_type||!a||a.ready()},this.getHLS=function(){return a.getHLS()},this.getDASH=function(){return a.getDASH()},this.SetQuality=function(e){if(log("Quality",e),("native"==o.file_type||"hls"==o.file_type&&(0==v.hlsquality||m()<2)||"dash"==o.file_type&&(0==v.dashquality||b()<2))&&exist(o.files[e])){var t=this.time();o.seekto=t,o.actions.Seek(t,!1),T(o.files[e]),o.actions.Play()}"hls"==o.file_type&&1==v.hlsquality&&m()>1?a.setHlsQuality(e):"dash"==o.file_type&&1==v.dashquality&&b()>1?a.setDashQuality(e):"youtube"==o.file_type&&a.setQuality(e)},this.SetSubtitle=function(e){exist(o.subs[e])&&(log("Subtitle",e),o.current_subtitle=e,o.storage&&1==v.sub_store&&exist(o.files_subtitle[e])&&localStorage.setItem("pljssubtitle",o.files_subtitle[e]),A())},this.SetSpeed=function(e){log("Speed",e),a.setSpeed(e)},this.nativeSubtitle=function(){o.tagvideo&&o.subtitle_on&&a.addTrack(o.subs[o.current_subtitle],o.files_subtitle[o.current_subtitle])},this.removeNativeSubtitle=function(){a.removeTrack()},this.SetAudioTrack=function(e){if(log("Audiotrack",e),o.audiotracks.length>0){var t=this.time();o.seekto=t,o.actions.Seek(t,!1),T(o.audiotracks[e]),o.actions.Play()}else"hls"==o.file_type&&1==v.hlsaudio?a.setHlsAudioTrack(e):"dash"==o.file_type&&1==v.dashaudio&&a.setDashAudioTrack(e)},this.getQuality=function(){var e=o.files_quality[o.current_quality];return null==e&&(e=""),(y()&&1==v.hlsautoquality&&1==v.hlsquality?Lang("auto")+" ":"")+e},this.getAudioTrack=function(){var e=o.files_audiotrack[o.current_audiotrack];return null==e&&(e=""),e},this.autoQuality=function(){return y()},this.resize=function(e){"youtube"==o.file_type&&a.resize()},this.size=function(){return a.size()},this.reload=function(){log("reload"),o.reloadTimer=0,v.autoplay=1,T(e)},exist(o.poster)||x(),exist(v.poster)&&(""!=v.poster?Poster(v.poster,o.poster,v.poster_scale):delete v.poster),this.Remove=function(){E()},this.File=function(e,t){T(e,t)},this.Poster=function(e){Poster(e,o.poster,v.poster_scale)},this.Play=function(){a?(o.casting?o.chromecast.Play():(a.Play(),1==v.posterhide&&o.actions.HidePoster()),exist(l)&&l.Play()):setTimeout(this.Play,500)},this.ToolbarHide=function(){exist(o.media2)&&(1==v.pip.hide?hide(o.media2):v.pip.position.indexOf("bottom")>-1&&css(o.media2,{bottom:v.pip.marginbottom-v.pip.margintop-v.toolbar.h}))},this.ToolbarShow=function(){exist(o.media2)&&(1==v.pip.hide?show(o.media2):v.pip.position.indexOf("bottom")>-1&&css(o.media2,{bottom:v.pip.marginbottom-v.pip.margintop})),v.toolbar.resizeme&&(v.toolbar.resizeme=!1,o.controls.resizeFromText(1))},this.PipToggle=function(){exist(o.media2)&&(isVisible(o.media2)?hide(o.media2):show(o.media2))},this.Airplay=function(){o.tagvideo&&o.airplay&&a.airplay()},this.PipWebkit=function(){o.tagvideo&&o.pipwebkit&&a.pipwebkit()},this.BeforeVast=function(){a&&(datetime(0),a.BeforeVast())},this.AfterVast=function(){a.AfterVast()},this.Pause=function(){o.casting?o.chromecast.Pause():a?a.Pause():log("nomedia"),exist(o.media2)&&l.Pause()},this.Recover=function(){o.actions.Seek(0,!1),exist(o.poster)&&o.actions.ShowPoster(),T("x")},this.Toggle=function(){a&&a.Toggle()},this.Seek=function(e){a&&(o.casting?o.chromecast.Seek(e):a.Seek(e))},this.Mute=function(){a&&(a.Mute(),o.casting&&o.chromecast.Mute())},this.Unmute=function(){a&&(a.Unmute(),o.casting&&o.chromecast.Unmute())},this.Volume=function(e){a&&a.Volume(e),o.casting&&o.chromecast.Volume(e)},this.isPlaying=function(){return!!a&&a.isPlaying()},this.isLive=function(){return!!a&&a.isLive()},this.status=function(){return d},this.ended=function(){var e=!1;return a&&a.time()>0&&(e=a.time()==a.duration()),e},this.time=function(){var e=0;if(a){if(e=a.time(),o.casting){var t=o.chromecast.Time();t&&(e=t)}else a.duration()>0&&e!=a.duration()&&(o.current_time=e+1e-4);return e}return 0},this.duration=function(){var e=0;if(a&&(0==(e=a.duration())&&exist(v.duration)&&(e=1*v.duration),o.casting)){var t=o.chromecast.Duration();t&&(e=t)}return e},this.loaded=function(){return a?a.loaded():0},this.createposter=function(){x()},this.Preload=function(){o.tagvideo&&a.preload()},this.scale=function(e){if(String(e).indexOf(":")>0){var t=e.split(":"),i=o.screen_w/o.screen_h,n=t[0]/t[1];if(i!=n){o.tagvideo&&(1==v.covervideo?css(a.tag(),{"object-fit":"cover"}):css(a.tag(),{"object-fit":"fill"}));var r=o.screen_h*n/o.screen_w,s=o.screen_w/n/o.screen_h;r<1?(o.mediascale=parseFloat(r),css(o.mediacontainer,{transform:"scaleX("+o.mediascale+")"})):(o.mediascale=parseFloat(s),css(o.mediacontainer,{transform:"scaleY("+o.mediascale+")"})),o.custom_aspect=e}}else o.mediascale+=parseFloat(e),css(o.mediacontainer,{transform:"scale("+o.mediascale+")"})},this.normalscale=function(){o.tagvideo&&css(a.tag(),{"object-fit":"contain"}),o.mediascale=1,css(o.mediacontainer,{transform:"scale(1)"}),delete o.custom_aspect},this.currentSubtitle=function(){var e=void 0;return exist(o.subs)&&(exist(o.subs[o.current_subtitle])&&(e=o.subs[o.current_subtitle])),e},this.currentFile=function(){return t.length>0&&t[r]?t[r]:""},this.tag=function(){return a.tag()},this.SubtitleStart=function(e){S(e)},this.sub=function(){return f}};function TimeSub(e){var t=e.split(":"),i=0;return 2==t.length&&t.unshift("00"),"00"!=t[0]&&(i+=3600*t[0]),"00"!=t[1]&&(i+=60*t[1]),i=10*(i+=1*t[2].substr(0,2))+1*t[2].substr(3,1)}var MediaVideo=function(url,container,pip){var pjstg=createElement("video"),hls;if(1==v.taginframe){var tagframe=createElement("iframe");attr(tagframe,{scrolling:"no",allowfullscreen:"true",allowtransparency:"true",src:""}),css(tagframe,{position:"absolute",width:"100%",height:"100%",border:0}),container.appendChild(tagframe);var framei=window.setInterval((function(){"complete"===tagframe.contentWindow.document.readyState&&(window.clearInterval(framei),css(tagframe.contentDocument.body,{padding:0,margin:0}),tagframe.contentDocument.body.appendChild(pjstg))}),100)}else container.appendChild(pjstg);var is_hls=!1,hls_started=!1,hls_created=!1,dash,dash_created=!1,is_dash=!1,is_live=!1,is_sleep=0,error,error_time,unmute=!1,onplay=!1,pip_quality=-1,pause_before_vast=-1,sleep_timeout;if(css(pjstg,{width:"100%",height:"100%","object-fit":"contain",transition:"filter 0.1s linear","min-height":"auto","max-height":"none","min-width":"auto","max-width":"none"}),1==v.covervideo&&(1==v.fillvideo?css(pjstg,{"object-fit":"fill"}):css(pjstg,{"object-fit":"cover"})),1==v.playsinlineonmobile&&o.system.mobile&&attr(pjstg,{playsinline:"1"}),attr(pjstg,{src:url,"x-webkit-airplay":"allow"}),o.system.tv||attr(pjstg,{preload:1==v.preload&&0==v.autoplay?"metadata":"none"}),tagSrc(),pip&&(pjstg.autoplay=!0,pjstg.muted=!0),v.loop,1==v.filters&&css(pjstg,{transition:"filter 0.3s linear"}),url.indexOf(".mpd")>0&&-1!=o.compilation.indexOf("DASH")){is_dash=!0;var dash_init=!1,dash_play=!1;MseIsSupported()?(1==v.preload||1==v.autoplay||1==v.preloaddash)&&CreateDASH(!1):log("DASH not supported")}else if(url.indexOf(".m3u8")>0&&-1!=o.compilation.indexOf("HLS")){is_hls=!0;try{exist(Hls)?!Hls.isSupported()||o.system.safari&&1==v.nativehlsinsafari?is_hls=!1:(1==v.preload||1==v.autoplay||1==v.preloadhls)&&CreateHLS(!1):is_hls=!1}catch(error){is_hls=!1}}function CreateDASH(e){log("DASH"),v.preloaddash=1;var t={bufferLength:60};if(exist(v.dashconfig)&&(exist(v.dashconfig.bufferLength)&&v.dashconfig.bufferLength>600&&(v.dashconfig.bufferLength=600),"object"==typeof v.dashconfig))for(var i in v.dashconfig)t[i]=v.dashconfig[i];dash=dashjs.MediaPlayer().create(),js("dash",dash,1),dash.getDebug().setLogToBrowserConsole(1==v.dashdebug&&!pip),dash.initialize(pjstg,url,1==v.autoplay||pip||e),dash.setStableBufferTime(t.bufferLength),dash.setBufferTimeAtTopQualityLongForm(t.bufferLength),dash.enableLastBitrateCaching(!1),dash.enableLastMediaSettingsCaching(!1),1==v.dashcookies&&dash.setXHRWithCredentialsForType(void 0,!0),1==v.dashlowquality&&(dash.setAutoSwitchQualityFor("audio",!1),dash.setAutoSwitchQualityFor("video",!1)),dash.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,(function(e){if(!dash_init){log("DASH attached");var t=DashQualityLevels();DashAudioTracks(),(is_live=dash.isDynamic())&&log("Live"),1==v.dashquality&&(1==v.dashlowquality||t>0?(o.current_quality=t,dash.setAutoSwitchQualityFor("audio",!1),dash.setAutoSwitchQualityFor("video",!1)):o.current_quality=dash.getBitrateInfoListFor("video").length-1,o.controls.QualityChangedNoHand(o.current_quality),dash.setQualityFor("video",o.current_quality),dash.setQualityFor("audio",o.current_quality)),o.actions.MediaReady(),dash_init=!0}})),dash.on(dashjs.MediaPlayer.events.PLAYBACK_PLAYING,(function(e){if(!dash_play){var t=parseInt(o.current_audiotrack);t>0&&1==v.dashaudio&&dash.setCurrentTrack(dash.getTracksFor("audio")[t]),dash_play=!0}})),dash.on(dashjs.MediaPlayer.events.PLAYBACK_TIME_UPDATED,(function(e){is_live&&o.actions.Duration(dash.time(),dash.duration())})),dash.on(dashjs.MediaPlayer.events.TEXT_TRACKS_ADDED,(function(e){dash.setTextTrack(-1)})),dash.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,(function(e){"video"==e.mediaType&&e.oldQuality!=e.newQuality&&1==v.dashquality&&(o.current_quality=e.newQuality,o.controls.QualityChangedNoHand(o.current_quality),log("DASH Level "+o.current_quality))})),dash.on(dashjs.MediaPlayer.events.FRAGMENT_LOADING_COMPLETED,(function(e){exist(e.request)&&"MediaSegment"==e.request.type&&js("fragment",e.request.url)})),dash.on(dashjs.MediaPlayer.events.ERROR,(function(e){console.log(e),o.dasherror=e,"manifestError"==e.error?(error="DASH "+e.error+": "+e.event.message+", "+e.event.event,log(error),o.media.onError()):"capability"==e.error||"mediasource"==e.error||"key_session"==e.error||"key_message"==e.error?(error="DASH "+e.error+" error: "+e.event,log(error),o.media.onError()):"download"==e.error&&(log(error="DASH fatal network error encountered"),o.media.onError())})),dash_created=!0}function CreateHLS(e){log("HLS");var t={debug:1==v.hlsdebug&&!pip,autoStartLoad:1==v.preload||1==v.autoplay||pip||e,maxBufferLength:60,maxMaxBufferLength:60,manifestLoadingMaxRetry:3,manifestLoadingTimeOut:6e4,fragLoadingTimeOut:6e4,enableWorker:!1};if(1==v.hlscookies&&(t.xhrSetup=function(e,t){e.withCredentials=!0}),exist(v.hlsconfig)&&(exist(v.hlsconfig.maxBufferLength)&&(v.hlsconfig.maxBufferLength>600&&(v.hlsconfig.maxBufferLength=600),v.hlsconfig.maxMaxBufferLength=v.hlsconfig.maxBufferLength),exist(v.hlsconfig.customBuffer)&&(v.hlsconfig.maxMaxBufferLength=v.hlsconfig.maxBufferLength=v.hlsconfig.customBuffer),"object"==typeof v.hlsconfig))for(var i in v.hlsconfig)t[i]=v.hlsconfig[i];hls=new Hls(t),js("hls",hls,1),hls.loadSource(url),hls.attachMedia(pjstg),hls.on(Hls.Events.MEDIA_ATTACHED,(function(){log("HLS attached")})),hls.on(Hls.Events.MANIFEST_LOADED,(function(e,t){!pip&&o.actions.MediaReady()})),hls.on(Hls.Events.MANIFEST_PARSED,(function(e,t){!pip&&1==v.hlsquality&&HlsLevelsLength()>1&&(HlsQualityLevels(),o.controls.QualityChangedNoHand(o.current_quality))})),hls.on(Hls.Events.LEVEL_SWITCH,(function(e,t){!pip&&1==v.hlsquality&&HlsLevelsLength()>1&&(o.current_quality=hls.loadLevel,o.controls.QualityChangedNoHand(o.current_quality),log("HLS Level "+o.current_quality))})),hls.on(Hls.Events.LEVEL_LOADED,(function(e,t){pip||(t.details.live!=is_live&&(is_live=t.details.live,o.controls.refresh()),(is_live=t.details.live)&&(log("Live"),pjstg.duration>0&&pjstg.currentTime>0&&pjstg.duration-pjstg.currentTime<10&&(o.hls_stuck_time>0?o.hls_stuck_time==pjstg.currentTime&&o.hls_stuck_duration==pjstg.duration?(o.stuck++,o.stuck>2&&(o.stuck=0,o.hls_stuck_time=-1,hls.destroy(),CreateHLS(!0),onEnded())):o.hls_stuck_time=-1:(o.hls_stuck_time=pjstg.currentTime,o.hls_stuck_duration=pjstg.duration)))),1==v.hlsquality&&(o.current_quality=hls.loadLevel,o.controls.QualityChangedNoHand(o.current_quality))})),hls.on(Hls.Events.FRAG_CHANGED,(function(e,t){exist(t.frag)&&!pip&&js("fragment",t.frag.relurl),hls_started=!0})),hls.on(Hls.Events.FRAG_PARSING_METADATA,(function(e,t){js("fragdata",t,1)})),hls.on(Hls.Events.AUDIO_TRACKS_UPDATED,(function(e,t){!pip&&1==v.hlsaudio&&HlsAudioTracks()})),hls.on(Hls.Events.AUDIO_TRACK_SWITCHING,(function(e,t){!pip&&1==v.hlsaudio&&HlsAudioTrack()})),hls.on(Hls.Events.ERROR,(function(e,t){if(1==v.log&&console.log(t),o.hlserror=t,t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:if(1==v.livewakeup){log("sleep");var i=o.play;!pip&&i&&o.actions.Pause(),o.actions.ShowPoster(),is_sleep=1,HlsSleep(i)}else error=t.details,hls.destroy(),pip||o.media.onError();break;case Hls.ErrorTypes.MEDIA_ERROR:HlsRecoverMediaError();break;default:error="HLS fatal error, destroy",hls.destroy(),!pip&&o.media.onError()}else log("HLS ",t.type,t.details,t.response?t.response.code:""),js("hls_error",t.response?t.response.code:""),is_sleep>0&&(is_sleep=2,HlsSleep())})),hls_created=!0}function HlsSleep(e){(e||o.play||1==v.autoplay||1==v.autoplayed)&&(clearTimeout(sleep_timeout),sleep_timeout=setTimeout(HlsLiveWaiting,1e3*v.livewakeuptime))}function HlsLiveWaiting(){is_sleep>0&&log("watching"),1==is_sleep&&hls.loadSource(url),2==is_sleep&&(hls.destroy(),CreateHLS(!0),pjstg.play())}!o.system.tv||1!=v.autoplay||is_hls||is_dash||setTimeout((function(){o.actions.MediaReady()}),100);var recover_decoding_error_date=0,recover_swap_audio_codec_date=0,playtry;function HlsRecoverMediaError(){var e=performance.now();!recover_decoding_error_date||e-recover_decoding_error_date>3e3?(recover_decoding_error_date=performance.now(),log("HLS fatal media error, try to recover"),hls.recoverMediaError(),hls.startLoad(),TagPlay()):!recover_swap_audio_codec_date||e-recover_swap_audio_codec_date>3e3?(recover_swap_audio_codec_date=performance.now(),log("HLS fatal media error, try to recover"),hls.swapAudioCodec(),hls.recoverMediaError()):log("HLS fatal media error, recovery failed")}function onLoadStart(){is_hls||is_dash||!pip&&o.actions.MediaReady()}function onTagError(){if(!is_hls&&!is_dash){if(pjstg.error){log(pjstg.error,pjstg.error.code,pjstg.error.message);var e,t=pjstg.error.code;1==t&&(e="aborted"),2==t&&(e="network"),3==t&&(e="decode"),4==t&&(e="not found"),log("Video Error: ",e)}onError()}}function onError(){!pip&&o.media.onError()}function onEnded(){!pip&&o.media.onEnded()}function onPlay(){is_hls&&is_sleep>0||!pip&&-1==pause_before_vast&&o.media.onPlay()}function onPause(){!pip&&o.media.onPause()}function onTimeupdate(){!pip&&o.media.onTimeupdate(),pause_before_vast>-1&&Time()>pause_before_vast&&(pjstg.pause(),pause_before_vast=-1)}function onSeeking(){!pip&&o.media.onSeeking()}function onSeeked(){!pip&&o.media.onSeeked()}function onMeta(){pip?PipSize():(o.media.onMeta(),PlayerSize(),is_hls&&is_sleep>0&&(is_sleep=0,log("wake up"),o.media.onPlay()))}function PipSize(){pjstg.videoHeight>0&&css(container,{height:container.offsetWidth/(pjstg.videoWidth/pjstg.videoHeight)-parseInt(v.pip.border)})}function PlayerSize(){pjstg.videoHeight>0&&1==v.changeheight&&o.actions.changeAspect(pjstg.videoWidth/pjstg.videoHeight)}function onDuration(){!pip&&o.media.onDuration()}function onVolume(){!pip&&o.media.onVolume()}function onWaiting(){is_hls&&is_sleep>0||!pip&&o.media.onWaiting()}function onProgress(e){!pip&&o.media.onProgress()}function onLoadedData(){o.actions.LoadedData()}function MseIsSupported(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,i=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4;codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return i&&o}function DashQualityLevels(){var e=0;if(!pip&&1==v.dashquality){var t=dash.getBitrateInfoListFor("video");if(t.length>1){for(var i="",n=0;n<t.length;n++)o.files_quality[n]=exist(t[n].height)?MseRenameQualities(t[n],v.nameofdashquality):n,o.files_quality[n]==i?(i=o.files_quality[n],exist(t[n].bitrate)&&(o.files_quality[n]+=" "+parseInt(t[n].bitrate/1e3)+"kbps",o.files_quality[n-1]+=" "+parseInt(t[n-1].bitrate/1e3)+"kbps",i="")):i=o.files_quality[n],exist(v.default_quality)&&0==e&&v.default_quality==o.files_quality[n]&&(e=n),exist(o.default_quality)&&o.default_quality==o.files_quality[n]&&(e=n);o.files_quality[t.length]=Lang("auto")}o.reverse_quality=!0}return e}function DashAudioTracks(){if(!pip&&1==v.dashaudio){o.current_audiotrack=0;var e=dash.getTracksFor("audio");if(e.length>1)for(var t=0;t<e.length;t++)o.files_audiotrack[t]=t,exist(e[t].lang)?o.files_audiotrack[t]=RenameTracks(e[t].lang):exist(e[t].index)&&(o.files_audiotrack[t]=Lang("audiotrack")+" "+e[t].index),exist(v.default_audio)&&v.default_audio==o.files_audiotrack[t]&&(o.current_audiotrack=t);log("DASH AudioTrack ",o.current_audiotrack),o.controls.AudioTrackChangedNoHand(o.current_audiotrack)}}function HlsQualityLevels(){if(!pip&&1==v.hlsquality){var e=hls.levels,t=0;if(e.length>1){for(var i=0;i<e.length;i++)o.files_quality[i]=exist(e[i].height)?MseRenameQualities(e[i],v.nameofhlsquality):i,exist(v.default_quality)&&0==t&&v.default_quality==o.files_quality[i]&&(t=i),exist(o.default_quality)&&o.default_quality==o.files_quality[i]&&(t=i);1==v.hlsautoquality&&(o.files_quality[e.length]=Lang("auto")),1==v.hlslowquality||t>0?(hls.autoLevelCapping=0,"next"==v.hlschangequality||!o.start&&0==v.preload?hls.nextLevel=t:"current"==v.hlschangequality&&(hls.currentLevel=t)):1==v.hlsautoquality?o.current_quality=hls.levels.length-1:o.current_quality=hls.firstLevel}o.reverse_quality=!0}}function HlsAudioTracks(){if(!pip&&1==v.hlsaudio){var e=hls.audioTracks;if(e.length>1)for(var t=0;t<e.length;t++)o.files_audiotrack[t]=exist(e[t].name)?RenameTracks(e[t].name):t,exist(v.default_audio)&&v.default_audio==o.files_audiotrack[t]&&(o.current_audiotrack=t,hls.audioTrack=t)}}function HlsAudioTrack(){pip||(o.current_audiotrack=hls.audioTrack,log("HLS AudioTrack ",o.current_audiotrack),o.controls.AudioTrackChangedNoHand(o.current_audiotrack))}function RenameTracks(e){var t=e.toLowerCase();return"eng"==t||"en"==t?e="English":"rus"!=t&&"ru"!=t||(e="Ð ÑƒÑÑÐºÐ¸Ð¹"),e}function MseRenameQualities(e,t){var i=e.height+"p";return e.height<200?i="160p":e.height>=200&&e.height<=300?i="240p":e.height>300&&e.height<=400?i="360p":e.height>400&&e.height<=500?i="480p":e.height>500&&e.height<=600?i="540p":e.height>600&&e.height<=900?i="720p":e.height>900&&e.height<=1200?i="1080p":e.height>1200&&e.height<=1800?i="1440p":e.height>1800&&(i="2160p"),426==e.width&&e.height<=240?i="240p":640==e.width&&e.height<=360?i="360p":854==e.width&&e.height<=480?i="480p":1280==e.width&&e.height<=720?i="720p":1920==e.width&&e.height<=1080?i="1080p":2560==e.width&&e.height<=1440?i="1440p":3840==e.width&&e.height<=2160&&(i="2160p"),1==t&&(i=Lang(i)),2==t&&exist(e.bitrate)&&(i=parseInt(e.bitrate/1e3)+" kbps"),i}function Time(){return is_dash?dash_created?dash.time():0:pjstg.currentTime}function TagPlay(){var e=pjstg.play();void 0!==e&&e.then((function(){o.system.safari&&0==pjstg.currentTime&&o.actions.Seek(1.5)})).catch((function(e){log("playError",e.message),-1==e.message.indexOf("source")&&-1==e.message.indexOf("interrupted by")&&(-1==e.message.indexOf("user denied permission")?1!=v.autoplaymute||o.muted?(o.controls.Pause(),o.actions.ShowPoster()):(o.actions.Mute(),pjstg.play()):(o.controls.Pause(),o.actions.ShowPoster(),js("autoplay_denied")))}))}function tagSrc(){if(o.system.safari){var e=pjstg.textTracks;if(e)for(var t=0;t<e.length;t++)e[t].mode="disabled";if(e=pjstg.audioTracks)for(t=0;t<e.length;t++)e[t].enabled=0==t?1:0;o.system.ios&&(iostracks=[]),window.WebKitPlaybackTargetAvailabilityEvent&&pjstg.addEventListener("webkitplaybacktargetavailabilitychanged",(function(e){o.airplay="available"==e.availability,!pip&&o.actions.AirplayChanged()}))}o.system.webkit&&(exist(pjstg.webkitSupportsPresentationMode)&&(o.pipwebkit=!0),document.pictureInPictureEnabled&&!pjstg.disablePictureInPicture&&(o.pipwebkit=!0))}function PipWebkit(){o.system.safari?"picture-in-picture"===pjstg.webkitPresentationMode?(pjstg.webkitSetPresentationMode("inline"),o.ispipkit=!1):(pjstg.webkitSetPresentationMode("picture-in-picture"),o.ispipkit=!0):document.pictureInPictureElement?eval("document.exitPictureInPicture().then(ok => { o.ispipkit = false; }).catch(error => {} );"):eval("pjstg.requestPictureInPicture().then(p => { o.ispipkit = true; }).catch(error =>{o.ispipkit = false;});")}function onPipEnter(){o.ispipkit=!0}function onPipLeave(){o.ispipkit=!1}function HlsLevelsLength(){var e=0;return hls_created&&hls.levels&&(e=hls.levels.length),e}function DashLevelsLength(){var e=0;return dash_created&&(e=dash.getBitrateInfoListFor("video").length),e}pjstg.addEventListener("loadstart",onLoadStart),pjstg.addEventListener("error",onTagError),pjstg.addEventListener("ended",onEnded),pjstg.addEventListener("play",onPlay),pjstg.addEventListener("pause",onPause),pjstg.addEventListener("timeupdate",onTimeupdate),pjstg.addEventListener("seeking",onSeeking),pjstg.addEventListener("seeked",onSeeked),pjstg.addEventListener("loadedmetadata",onMeta),pjstg.addEventListener("volumechange",onVolume),pjstg.addEventListener("waiting",onWaiting),pjstg.addEventListener("durationchange",onDuration),pjstg.addEventListener("progress",onProgress),pjstg.addEventListener("loadeddata",onLoadedData),pjstg.addEventListener("enterpictureinpicture",onPipEnter),pjstg.addEventListener("leavepictureinpicture",onPipLeave),this.Play=function(){var e=!0;is_hls&&!hls_started&&(hls_created||CreateHLS(!0),hls.startLoad()),is_dash&&!dash_created&&(CreateDASH(!0),e=!1),"-2000px"==pjstg.style.top&&this.AfterVast(),e&&TagPlay()},this.BeforeVast=function(){o.ispipkit&&PipWebkit(),(o.system.mobile||o.system.safari)&&(pjstg.muted||(pjstg.muted=!0,unmute=!0),css(pjstg,{position:"absolute",left:-2e3,top:-2e3}),pause_before_vast=Time(),TagPlay())},this.AfterVast=function(){(o.system.mobile||o.system.safari)&&(unmute&&(pjstg.muted=!1,unmute=!1),pause_before_vast=-1,css(pjstg,{position:"static",left:0,top:0}))},this.Pause=function(){pjstg.pause()},this.Toggle=function(){pjstg.paused?TagPlay():pjstg.pause()},this.Seek=function(e){is_dash&&dash_created?dash.seek(e):pjstg.currentTime=e},this.Mute=function(){pjstg.muted=!0},this.Unmute=function(){pjstg.muted=!1},this.Volume=function(e){pjstg.volume=e},this.isPlaying=function(){return!pjstg.paused},this.isLive=function(){return 1==v.live||is_live},this.tag=function(){return pjstg},this.nativeControls=function(){return attr(pjstg,{controls:"1"}),!0},this.preload=function(){attr(pjstg,{preload:"metadata"}),is_hls&&!hls_created&&CreateHLS(!1),is_dash&&!dash_created&&CreateDASH(!1)},this.status=function(){var e="playing";return pjstg.paused&&(e="paused"),pjstg.ended&&(e="ended"),e},this.ChangePip=function(e,t){pip=e,t.appendChild(pjstg),container=t,e?(pjstg.muted=!0,PipSize(),o.files_quality.length>0&&is_hls&&(pip_quality=o.current_quality,hls.autoLevelCapping=0,hls.currentLevel=0)):(o.muted||(pjstg.muted=!1),pjstg.volume=v.volume,PlayerSize(),o.files_quality.length>0&&is_hls&&(hls.autoLevelCapping=-1,pip_quality>-1&&(hls.nextLevel=pip_quality)))},this.time=function(){return Time()},this.duration=function(){var e=pjstg.duration;return is_dash&&dash_created&&(e=dash.duration()),exist(v.end)&&(e=v.end),e==1/0||isNaN(e)?0:e},this.loaded=function(){var e=0;if(pjstg.buffered&&pjstg.buffered.length>0){for(var t=Time(),i=0;i<pjstg.buffered.length;i++)(t>=pjstg.buffered.start(i)||t>=pjstg.buffered.start(i)-100)&&t<=pjstg.buffered.end(i)&&(e=pjstg.buffered.end(i));0==e&&(e=pjstg.buffered.end(pjstg.buffered.length-1))}return e},this.auto=function(){var e=!1;return is_hls?hls_created&&(e=hls.autoLevelEnabled):is_dash&&dash_created&&(e=dash.getAutoSwitchQualityFor("video")),e},this.size=function(){return{width:pjstg.videoWidth,height:pjstg.videoHeight}},this.src=function(e){url=e,onplay=!1,o.media_error=!1,is_hls?(is_hls&&hls&&hls.destroy(),CreateHLS(!0)):(attr(pjstg,{src:e,autoplay:0}),tagSrc(),pjstg.pause())},this.airplay=function(){pjstg.webkitShowPlaybackTargetPicker()},this.pipwebkit=function(){PipWebkit()},this.setDashQuality=function(e){dash_created&&((e=parseInt(e))==dash.getBitrateInfoListFor("video").length?(o.current_quality=dash.getQualityFor("video"),dash.setAutoSwitchQualityFor("audio",!0),dash.setAutoSwitchQualityFor("video",!0)):(dash.setAutoSwitchQualityFor("audio",!1),dash.setAutoSwitchQualityFor("video",!1),dash.setQualityFor("video",e),dash.setQualityFor("audio",e)))},this.setDashAudioTrack=function(e){dash_created&&pjstg.buffered.length>0&&dash.setCurrentTrack(dash.getTracksFor("audio")[parseInt(e)])},this.setHlsQuality=function(e){if(hls_created){var t=parseInt(e);e==hls.levels.length&&(t=-1,hls.autoLevelCapping=-1),"current"==v.hlschangequality&&(setTimeout(onWaiting,500),hls.currentLevel=t),"next"==v.hlschangequality&&(log("HLS next level "+t),hls.nextLevel=t),-1==t&&(o.current_quality=hls.loadLevel)}},this.getHLS=function(){return hls},this.getDASH=function(){return dash},this.HlsLevelsLength=function(){return HlsLevelsLength()},this.DashLevelsLength=function(){return DashLevelsLength()},this.setHlsAudioTrack=function(e){hls_created&&(hls.audioTrack=parseInt(e))},this.setSpeed=function(e){pjstg.playbackRate=e},this.removeTrack=function(){for(var e=pjstg.textTracks,t=0;t<e.length;t++)e[t].mode="disabled"};var iostracks=[];this.addTrack=function(e,t){var i=!1;if(exist(iostracks[e])&&iostracks[e]==t){i=!0;for(var o=pjstg.textTracks,n=0;n<o.length;n++)o[n].label==t&&(o[n].mode="showing")}if(!i){var r=document.createElement("track");r.setAttribute("src",e),r.setAttribute("label",t),r.setAttribute("default","true"),pjstg.appendChild(r),iostracks[e]=t}},this.errorMessage=function(){return error},this.Remove=function(){is_hls&&hls&&hls.destroy(),is_dash&&dash&&dash.reset(),pjstg.removeEventListener("error",onTagError),pjstg.removeEventListener("ended",onEnded),pjstg.removeEventListener("play",onPlay),pjstg.removeEventListener("pause",onPause),pjstg.removeEventListener("timeupdate",onTimeupdate),pjstg.removeEventListener("seeking",onSeeking),pjstg.removeEventListener("seeked",onSeeked),pjstg.removeEventListener("loadedmetadata",onMeta),pjstg.removeEventListener("volumechange",onVolume),pjstg.removeEventListener("waiting",onWaiting),pjstg.removeEventListener("durationchange",onDuration),pjstg.removeEventListener("progress",onProgress),pjstg.removeEventListener("enterpictureinpicture",onPipEnter),pjstg.removeEventListener("leavepictureinpicture",onPipLeave),pjstg.src="","IFRAME"==container.tagName?container.contentDocument.body.removeChild(pjstg):container.removeChild(pjstg),delete pjstg,pjstg=null}},MediaYoutube=function(e,t){var i=!1;0==e.indexOf("intro")&&(i=!0,e=e.substr(5));var n,r,s,a,l=YoutubeID(e),c=!1,d=!1,u=!1,f=!1,h=!0,p=[],g=1,y=0,m=!1,b="pljs_yt_"+v.id+(i?"intro":""),w=createElement("div");if(w.setAttribute("id",b),t.appendChild(w),o.airplay=!1,!i&&o.actions.AirplayChanged(),o.system.mobile&&(v.preload=1),1!=v.youtubecontrols){var x=createElement("div");t.appendChild(x),css(x,{position:"absolute",top:0,left:0,"background-color":"#ff0000",height:"100%",width:"100%",opacity:0}),x.addEventListener("dblclick",(function(e){e.cancelBubble=!0})),o.system.mobile?(x.addEventListener("touchstart",(function(e){e.cancelBubble=!0})),x.addEventListener("click",(function(e){e.cancelBubble=!0})),x.addEventListener("touchend",(function(e){e.cancelBubble=!0,ScreenClick(e),1==v.screenclick&&(setTimeout(_,100),setTimeout(T,1e3))}))):x.addEventListener("mousemove",(function(e){var t=!0;1==v.vast&&(exist(v.preroll)&&!u&&(t=!1),exist(v.playroll)&&"paused"==O()&&F()>0&&(t=!1)),t&&1==v.screenclick&&1==v.youtubelayer&&(hide2(this),setTimeout(T,2e3))})),1==v.screenclick&&hide2(x)}function T(){show2(x)}function _(){hide2(x)}if(1==v.preload&&0==v.autoplay&&P(),window.YT)S();else if(window.onYouTubeIframeAPIReady=function(){S();for(var e=0;e<pljssglobal.length;e++)pljssglobal[e].api("id")!=v.id&&pljssglobal[e].api("isyoutube")&&pljssglobal[e].api("youtubeready")},!Scripted("youtube.com/iframe_api")){var E=document.createElement("script");E.src="https://www.youtube.com/iframe_api",E.name="youtube_iframe_api";var k=document.getElementsByTagName("script")[0];k.parentNode.insertBefore(E,k)}function S(){1==v.preload||i?!c&&A():o.actions.MediaReady()}function A(){if("YT"in window)if(exist(YT.Player)&&!c){log("Youtube Init");var e=0;1==v.youtubecontrols&&(e=1),r=new YT.Player(b,{height:o.container_h,width:o.container_w,videoId:l,playerVars:{enablejsapi:1,playerapiid:b,html5:1,start:o.seekto>0?parseInt(o.seekto):0,disablekb:1,autohide:1,playsinline:1,iv_load_policy:3,controls:e,showinfo:0,modestbranding:1,rel:0,autoplay:0,loop:0},events:{onReady:D,onStateChange:L,onError:C,onPlaybackQualityChange:I}}),o.seekto>0&&(o.seekto=void 0),U(),c=!0}else setTimeout(A,500);else setTimeout(A,500)}function D(){log("Youtube Ready"),d=!0,clearTimeout(s),o.actions.StopWaiting(),i?(o.system.mutedautoplay&&o.actions.Mute(),r.playVideo(),o.vast.ytReady()):(1==v.autoplay&&o.system.mutedautoplay&&!o.acted&&(o.actions.Mute(),o.system.mobile&&(clearInterval(a),a=setInterval(R,300))),0==v.preload?r.playVideo():o.actions.MediaReady(),o.media.onDuration(),1!=g&&W(g),o.media.onMeta(),o.actions.LoadedData(),U())}function R(){var e=r.getPlayerState();2!=e&&-1!=e||(o.controls.Pause(),o.controls.StopWaiting(),clearInterval(a)),1==e&&clearInterval(a)}function L(e){if(i)e.data==YT.PlayerState.ENDED&&o.vast.ytEnded(),e.data,YT.PlayerState.PLAYING;else{if(e.data==YT.PlayerState.PLAYING)if(o.start||o.actions.Play(),y>0&&(r.seekTo(y,!0),y=0),T(),u=!0,d=!0,f?r.pauseVideo():(o.media.onPlay(),o.media.onTimeupdate()),function(){if(!m){var e=r.getAvailableQualityLevels()+"";if(""!=e&&null!=e){if(o.files_quality=e.split(","),0==v.ytautoquality){var t=o.files_quality.indexOf("auto");t>-1&&o.files_quality.splice(t,1)}for(var i=0;i<o.files_quality.length;i++)o.files_quality[i]=j(o.files_quality[i]);m=!0,M(r.getPlaybackQuality())}}}(),exist(v.default_quality)){for(var t=0;t<o.files_quality.length;t++)v.default_quality==o.files_quality[t]&&V(t);delete v.default_quality}else if(exist(o.default_quality)){for(t=0;t<o.files_quality.length;t++)o.default_quality==o.files_quality[t]&&V(t);delete o.default_quality}e.data==YT.PlayerState.PAUSED&&(o.actions.YoutubePauseroll(),o.media.onPause()),e.data==YT.PlayerState.ENDED&&(v.start>0&&(y=v.start),o.media.onEnded(),o.media.onDuration()),e.data==YT.PlayerState.BUFFERING&&P(),e.data,YT.PlayerState.CUED}}function C(e){i?o.vast.ytError():(2==e.data&&(n="wrong youtube id"),5==e.data&&(n="network empty"),101!=e.data&&150!=e.data&&100!=e.data||(n="this video is unavailable"),o.media.onError())}function P(){o.media?o.media.onWaiting():s=setTimeout(P,100)}function I(e){M(e.data)}function M(e){o.current_quality=o.files_quality.indexOf(j(e+"")),o.controls.QualityChanged(o.current_quality)}function O(){var e=-1;d&&(e=r.getPlayerState());var t="";return-1==e&&(t="paused",o.play&&(o.controls.Pause(),o.actions.StopWaiting())),1!=e&&3!=e||(t="playing"),2==e&&(t="paused"),5==e&&(t="paused"),0==e&&(t="ended"),t}function U(){r&&r.setSize(o.screen_w,o.screen_h)}function j(e){var t=e;return"tiny"==e&&(t="160p"),"small"==e&&(t="240p"),"medium"==e&&(t="360p"),"large"==e&&(t="480p"),"hd720"==e&&(t="720p"),"hd1080"==e&&(t="1080p"),1==v.nameofyoutubequality&&(t=Lang(t)),"auto"==e&&(t=Lang("auto")),p[t]=e,t}function F(){return d?r.getCurrentTime():0}function W(e){r&&r.setPlaybackRate(e),g=e}function V(e){if(d&&exist(o.files_quality[e])){var t=p[o.files_quality[e]];h="auto"==t;F();r.setPlaybackQuality(t)}}this.size=function(){return{width:0,height:0}},this.YoutubeReady=function(){S()},this.Play=function(){d?r.playVideo():c||A()},this.Pause=function(){d&&r.pauseVideo()},this.Toggle=function(){d&&("playing"==O()?r.pauseVideo():r.playVideo())},this.Seek=function(e){d&&r.seekTo(e,!0)},this.tag=function(){return!1},this.Mute=function(){d&&r.mute()},this.Unmute=function(){d&&r.unMute()},this.Volume=function(e){d&&r.setVolume(100*e)},this.isPlaying=function(){return"playing"==O()},this.isLive=function(){return!1},this.setQuality=function(e){V(e)},this.setSpeed=function(e){W(e)},this.ready=function(){return d},this.status=function(){return O()},this.time=function(){return F()},this.duration=function(){var e=d?r.getDuration():0;return exist(v.end)&&(e=v.end),e},this.loaded=function(){var e=0;return d&&(e=r.getVideoLoadedFraction()*r.getDuration()),e},this.resize=function(){U()},this.errorMessage=function(){return n},this.auto=function(){return 1==v.ytautoquality&&h},this.BeforeVast=function(){o.system.mobile&&o.system.android?(this.Play(),f=!0):"playing"==O()&&this.Pause()},this.AfterVast=function(){f=!1},this.nativeControls=function(){return!0},this.Remove=function(){d&&r.destroy(),d=!1,m=!1;try{w&&t.removeChild(w),t.removeChild(x)}catch(e){}}},Controls=function(){var b=[],butNames=[],butPosition=[],waiting=!1,toolbarHidden=!1,settings,playlist;o.files_speed=[.25,.5,.75,1,1.25,1.5,2],1==v.settings.customspeeds&&exist(v.settings.speeds)&&(o.files_speed=v.settings.speeds.split(",")),o.speed1=o.files_speed.indexOf("1")>-1?o.files_speed.indexOf("1"):o.files_speed.indexOf(1),3==o.current_speed&&(o.current_speed=o.speed1);var resizeonwidth=!1,stretch_width=0,stretch_width_last=0,stretch_with_volume=!1,firstly=!0,bg=new ControlsBg,settings,order=[],_rights=!1,_move_rights=!1,_max_order=0,_rb=[];for(var y in"controls-right"==v.control_line.position&&(v.control_line.position="controls"),v)v.hasOwnProperty(y)&&0==y.indexOf("control_")&&(exist(v[y].order0)?v[y].order=v[y].order0:v[y].order0=v[y].order,order[v[y].order]=y,"controls"!=v.control_line.position&&("controls-right"==v[y].position?(_rb.push([y,v[y].order]),_rights=!0):"controls"!=v[y].position&&null!=v[y].position||_rights&&(_move_rights=!0)),_max_order<v[y].order&&(_max_order=v[y].order));if(_move_rights){_rb.sort((function(e,t){return e[1]-t[1]}));for(var i=0;i<_rb.length;i++)delete order[v[_rb[i][0]].order],v[_rb[i][0]].order=_max_order+1,_max_order++,order[v[_rb[i][0]].order]=_rb[i][0]}v.hotkey.seeksides;var bg2=createElement("div");o.frame.appendChild(bg2),css(bg2,{position:"absolute",left:0,bottom:0,width:"100%",height:v.toolbar.h}),bg2.onclick=function(){!o.system.mobile&&o.actions.ControlsBgClick()};for(var i=1;i<order.length;i++)if(order[i]){var y=order[i];if(y&&(o.system.mobile&&("volume"==v[y].action||"fullscreen"==v[y].action&&v.nativemobile)&&(v[y].on=0),1==v[y].on)){var action=v[y].action;"line"==action||"volume"==action?(b[y]=new ControlLine(y,action),b[y].Resize(b[y].s("w"))):b[y]=new Control(y),butNames.push(y),"title"==b[y].g("action")&&""==b[y].s("text")&&(""!=b[y].s("var")&&exist(v[b[y].s("var")])||b[y].set("display",!1)),b[y].set("scale",b[y].s("scale"))}}function ControlX(e){var t=0;if(e)if("line"==e.g("action"))t=butPosition.left+e.s("marginleft"),null!=butPosition.rightbs||(butPosition.rightbs=[]);else if(null!=butPosition.rightbs){var i=e.g("width")+e.s("marginright")+e.s("marginleft");ControlNoSpace(e)&&(i=0),1!=e.s("hidden")||e.g("show")||(i=0),e.s("vertical")>0&&(i=0),t=bg.g("w")-1*v.toolbar.leftandrightpadding-i+e.g("width")/2+e.s("marginleft");var n=0;for(butPosition.right-=i,n=0;n<butPosition.rightbs.length;n++){var r=b[butPosition.rightbs[n]];r.s("vertical")>0?css(r.c(),{left:r.g("x0")-i}):css(r.c(),{left:r.g("x")-i}),r.set("x0",r.g("x"))}butPosition.rightbs.push(e.g("key")),e.set("rightside",1)}else if(1!=e.s("hidden")||e.g("show"))if(e.s("vertical")>0)t=butPosition.left+e.s("marginleft")+e.s("marginright");else{var s=!1;"volume"==e.g("action")&&1==e.s("hide")&&1==e.s("hideoutmute")&&(o.hidden_volume_over_process||o.hidden_volume_over)&&(stretch_with_volume||(stretch_width-=e.g("width")+e.s("marginleft")+e.s("marginright"),stretch_with_volume=!0)),ControlNoSpace(e)&&(s=!0),s?t=butPosition.left:(butPosition.left+=e.g("width")/2+e.s("marginleft"),t=butPosition.left,butPosition.left+=e.g("width")/2+e.s("marginright"))}else"volume"==e.g("action")&&1==e.s("hide")&&1==e.s("hideoutmute")&&stretch_with_volume&&(stretch_width+=e.g("width")+e.s("marginleft")+e.s("marginright"),stretch_with_volume=!1);return t}function ControlCoordinate(e){var t=o.fullscreen&&0==v.toolbar.stretchonfullscreen?o.normal_w:o.screen_w,i=o.screen_h,n=0;e!=bg&&(n=t/2+e.s("marginleft")-e.s("marginright"));var r=i/2,s=e.g("width"),a=e.g("height"),l=e.s("position");if(l.indexOf("center")>-1&&(n=o.screen_w/2+e.s("marginleft")-e.s("marginright")),l.indexOf("top")>-1&&(r=a/2+e.s("marginproctop")*o.screen_h/100),l.indexOf("bottom")>-1&&(r=o.screen_h-(e==bg?a:a/2)-e.s("marginprocbottom")*o.screen_h/100),l.indexOf("right")>-1&&(n=o.screen_w-s/2+e.s("marginleft")-e.s("marginright")-e.s("marginprocright")*o.screen_w/100),l.indexOf("left")>-1&&(n=s/2+e.s("marginleft")-e.s("marginright")+e.s("marginprocleft")*o.screen_w/100),"timeline"==l&&(n=-o.timeline_w/2+e.s("marginprocleft")*o.timeline_w/100+e.s("marginleft")-e.s("marginright"),r=-o.timeline_h/2-e.s("marginprocbottom")*o.timeline_h/100+e.s("marginproctop")*o.timeline_h/100),l.indexOf("controls")>-1){var c=ControlX(e);n=int(bg.c().offsetLeft)+c,"controls-right"==l&&(n+=stretch_width),r="top"==v.toolbar.position?v.toolbar.h/2:i-v.toolbar.h/2}return{x:n,y:r+e.s("margintop")-e.s("marginbottom")}}function Resize(e){var t=o.fullscreen&&0==v.toolbar.stretchonfullscreen?o.normal_w:o.screen_w;o.screen_h;css(bg.c(),{top:("top"==v.toolbar.position?0:o.screen_h-v.toolbar.h)-v.toolbar_margintop}),bg.set("y0",o.screen_h-v.toolbar.h-v.toolbar_margintop),0==v.toolbar.stretchonfullscreen&&bg&&(css(bg.c(),{width:t,left:0,"margin-left":0}),bg.set("w",t),o.fullscreen&&css(bg.c(),{left:"50%","margin-left":-t/2})),butPosition={left:1*v.toolbar.leftandrightpadding,right:bg.g("w")-1*v.toolbar.leftandrightpadding};var i,n=!1;bg.g("show")||(bg.set("display",!0),n=!0);for(var r=0;r<butNames.length;r++)if(i=butNames[r],b[i]){var s=ControlCoordinate(b[i]);s&&(b[i].set("x0",s.x),b[i].set("y0",s.y),1!=b[i].s("hidden")||b[i].g("show")||e?css(b[i].c(),{position:"absolute",left:b[i].g("x0"),top:b[i].g("y0")}):HidePositionControl(b[i]))}for(i in n&&bg.set("display",!1),stretch_width=0,b){var a;if(b.hasOwnProperty(i))if("controls-right"==b[i].s("position")&&"line"!=b[i].g("action")&&stretch_width>-1&&(stretch_width=butPosition.right-butPosition.left),"line"==b[i].g("action"))1==b[i].s("customwidth")?a=b[i].s("w"):b[i].s("position").indexOf("controls")>-1?(a=butPosition.right-butPosition.left-b[i].s("marginleft")-b[i].s("marginright"),css(b[i].c(),{left:int(bg.c().offsetLeft)+butPosition.left+b[i].s("marginleft")+a/2}),stretch_width=-1):(a=bg.g("w")-b[i].s("marginleft")-b[i].s("marginright"),css(b[i].c(),{left:int(bg.c().offsetLeft)+b[i].s("marginleft")+a/2})),b[i].set("x0",b[i].g("x")),b[i].Resize(a)}settings&&ResizeSettings(settings),exist(v.playlist)&&ResizeSettings(playlist),(resizeonwidth||o.fullscreen||stretch_width_last!=stretch_width)&&ShowOrHide()}function HidePositionControl(e){var t=0,i=0;e.s("position").indexOf("right")>-1&&-1==e.s("position").indexOf("controls")&&(t=o.screen_w+e.g("width")+10),e.s("position").indexOf("left")>-1&&(t=-e.g("width")-10),e.s("position").indexOf("top")>-1&&(i=2*-e.g("height")),(e.s("position").indexOf("bottom")>-1||e.s("position").indexOf("controls")>-1)&&(i=o.screen_h+e.g("height")+e.g("width")+10),t>0&&css(e.c(),{left:t}),i>0&&css(e.c(),{top:i})}function ResizeSettings(e){var t=-2e3;e.resizePlaylist();var i=o.screen_h-v.toolbar.h*(e.s("position").indexOf("top")>-1?1:2)-(o.fullscreen&&!o.system.mobile?100+1*e.s("hmaxk"):e.s("hmaxk"));i<100&&(i=100),css(e.c(),{"max-height":i}),e.co()&&css(e.co(),{"max-height":i}),e.g("show")&&(t=o.screen_h/2-e.g("height")/2+e.s("margintop")-e.s("marginbottom"),e.s("position").indexOf("top")>-1&&(t=e.s("margintop")-e.s("marginbottom")),e.s("position").indexOf("bottom")>-1&&(t=o.screen_h-v.toolbar.h-e.g("height")+e.s("margintop")-e.s("marginbottom")),t<0&&(t=0)),e.s("position").indexOf("right")>-1?css(e.c(),{position:"absolute",right:e.s("marginright")-e.s("scrollwidth"),top:t}):e.s("position").indexOf("left")>-1?css(e.c(),{position:"absolute",left:e.s("marginleft"),top:t}):"playlist"==e.g("key")&&1==e.s("floatleft")?css(e.c(),{position:"absolute",left:o.screen_w/2-e.g("width")/2+e.s("marginleft")/2-e.s("marginright")/2,top:t}):css(e.c(),{position:"absolute",left:o.screen_w/2-e.g("width")/2+e.s("marginleft")-e.s("marginright"),top:t}),e.Arrows()}function Action(but){o.acted=!0;var a=but.g("action");if("play"==a?o.actions.Play():("pause"==a&&o.actions.Pause(),"stop"==a&&(v.preload=0,v.autoplay=1,o.media.Recover(),o.actions.Stop())),"back"==a&&o.actions.Seek(0,!1),"fullscreen"==a?!o.casting&&o.actions.Fullscreen():"normalscreen"==a&&o.actions.Normalscreen(),"line"==a&&(o.actions.Seek(but.g("click")*o.media.duration(),!0),o.continue&&(o.continue.write(but.g("click")*o.media.duration(),o.media.duration()),o.seekto>0&&(o.seekto=void 0),log("o.seekto 5",o.seekto))),"volume"==a){var x=but.g("click");x<.02&&(x=0),x>1&&(x=1),o.storage&&1==v.volumestore&&(localStorage.setItem("pljsvolume",x),but.g("click")>0||o.system.iphone||0==v.mutestore?localStorage.removeItem("pljsmute"):localStorage.setItem("pljsmute",1)),o.actions.Volume(x)}if("mute"==a?(o.storage&&!o.system.iphone&&1==v.mutestore&&localStorage.setItem("pljsmute",1),o.actions.Mute()):"unmute"==a&&(o.storage&&localStorage.removeItem("pljsmute"),o.actions.Unmute()),0==a.indexOf("time")&&(but.isOn()?but.Off():but.On()),"rotate"==a&&o.media.Rotate(),"scale+"==a&&o.media.Scale(.1),"scale-"==a&&o.media.Scale(-.1),"scale"==a&&o.media.Scale(0),"live"==a&&(api("restart"),but.set("iconopacity",1),but.set("saturate",1)),"share"==a&&exist(o.share)&&(o.share.Show(),PlaylistClose(),SettingsClose()),"settings"==a&&settings&&(settings.g("show")?settings.hide():settings.show()),"playlist"==a&&exist(v.playlist)&&(playlist.g("show")?playlist.hide():setTimeout((function(){playlist.show()}),100)),"next"==a&&o.controls.PlaylistNext(),"prev"==a&&o.controls.PlaylistPrev(),"custom"==a&&1==but.s("link")&&""!=but.s("linkurl")){var x=but.s("linkurl");x.indexOf("{time}")>-1&&(x=x.replace("{time}",exist(o.continue)?o.continue.flag().t:o.media.time())),x.indexOf("{file}")>-1&&(x=x.replace("{file}",o.media.currentFile())),x.indexOf("{title}")>-1&&(x=x.replace("{title}",v.title.replace(/,/gi," "))),"airplay"==x&&o.media.Airplay(),"seektome"==x&&(o.actions.Seek(but.s("marginprocleft")*o.media.duration()/100),!o.play&&o.actions.Play()),1==but.s("linkpause")&&o.actions.Pause();var y=x.split(",");if(0==x.indexOf("api:"))for(var z=x.substr(4).split(";"),i=0;i<z.length;i++)y=z[i].split(","),y.length>1?api(y[0],y[1],but):api(y[0]);else 0==x.indexOf("js:")&&eval(y[0].substr(3)+"("+(exist(y[1])?'"'+y[1]+'"':"")+(exist(y[2])?',"'+y[2]+'"':"")+")"),0!=x.indexOf("http")&&0!=x.indexOf("/")&&0!=x.indexOf("?")&&0!=x.indexOf("url:")||(0==x.indexOf("url:")&&(x=x.substr(4)),window.open(x,but.s("linktarget"))),0==x.indexOf("download")&&o.actions.Download(),"api:pipwebkit"==x&&o.media.PipWebkit()}for(var i=0;i<10;i++)but.s("linkurl")=="settings#"+i&&settings&&(settings.g("show")&&settings.g("open")==i?settings.hide():(settings.show(),settings.open(i)))}function ShowOrHide(){for(var e in b)b.hasOwnProperty(e)&&"buffer"!=b[e].g("action")&&ShowOrHideProcessor(b[e]);ShowOrHideProcessor(bg),stretch_width_last!=stretch_width&&(stretch_width_last=stretch_width,Resize())}function ShowForce(){if(toolbarHidden&&1==v.toolbar.hidewithoutmoving){for(var e in b)b.hasOwnProperty(e)&&"buffer"!=b[e].g("action")&&ShowOrHideProcessor(b[e],!1);css(o.frame,{cursor:"default"}),ShowOrHideProcessor(bg,!1),bg.g("show")&&(toolbarHidden=!1,o.media.ToolbarShow())}}function HideForce(){if(o.play&&1==v.toolbar.hidewithoutmoving&&!o.mouseDown&&!o.controlover){for(var e in b)b.hasOwnProperty(e)&&"buffer"!=b[e].g("action")&&ShowOrHideProcessor(b[e],!0);ShowOrHideProcessor(bg,!0),bg.g("show")||(toolbarHidden=!0,o.media.ToolbarHide(),css(o.frame,{cursor:"none"}))}}function HideInterval(){1==v.toolbar.hidewithoutmoving&&(clearInterval(o.toolbarInterval),o.toolbarInterval=setInterval(HideForce,1e3*(v.toolbar.hideleavetimeout>0?v.toolbar.hideleavetimeout:v.toolbar.hidetimeout)))}function ShowOrHideProcessor(e,t){var i=!1,n=!1,r=!1;1==v.toolbar.hide?(o.mouseHere||o.fullscreen||!o.play||1==v.toolbar.hidejustfull||o.casting?(i=!1,n=!0):(i=!0,n=!1,r=!0),exist(t)&&!o.casting&&(n=!(i=t))):1!=e.s("hide")&&(n=!0),n&&css(o.frame,{cursor:"default"}),"custom"==e.s("action")&&-1==e.s("position").indexOf("controls")&&(i=!1,n=!0),o.casting&&"line"==e.s("action")&&-1==o.media.duration()&&(i=!0,n=!1);var s=!1;if(1==e.s("hide")&&(1==e.s("hideonplay")&&(o.play?(i=!0,n=!1):n=!0),1==e.s("hideonpause")&&(o.play?!i&&(n=!0):(i=!0,n=!1)),1==e.s("hideafterstart")&&o.start&&(i=!0,n=!1),1==e.s("hide0timestore")&&((o.start||!o.continue||o.media.isLive())&&(i=!0,n=!1),o.continue&&0==o.continue.flag().t&&(i=!0,n=!1)),1==e.s("hideuntilstarted")&&(o.start?!i&&(n=!0):(i=!0,n=!1)),1==e.s("hideuntilended")&&(o.media.ended()?!i&&(n=!0):(i=!0,n=!1)),1==e.s("hideonvod")&&1==e.s("hide")&&(o.media.isLive()?!i&&(n=!0):(i=!0,n=!1)),1==e.s("hideonleaveandplay")&&(r||t?(i=!0,n=!1):!i&&(n=!0)),1==e.s("hideonwidth")&&(resizeonwidth=!0),1==e.s("hideoverwidth")&&(resizeonwidth=!0),1==e.s("hideonleave")&&(o.mouseHere?!i&&(n=!0):(i=!0,n=!1)),1==e.s("hideonfullscreen")&&(o.fullscreen?(i=!0,n=!1):!i&&(n=!0)),1==e.s("hideonunmute")&&(o.muted||(i=!0,n=!1)),1==e.s("hideonlive")&&(o.media.isLive()&&-1==o.media.currentFile().indexOf("?DVR")?(i=!0,n=!1):!i&&(n=!0)),1==e.s("hidewithposter")&&isVisible(o.poster)&&(i=!0,n=!1),1==e.s("hideuntilmeta")&&(o.metadata||(i=!0,n=!1)),1==e.s("hideonyoutube")&&1==v.preload&&1==v.screenclick&&("youtube"!=o.file_type||exist(v.poster)||0!=v.youtubeposter||o.start&&"ended"!=o.media.status()||""==v.poster||(i=!0,n=!1)),"volume"==e.s("action")&&1==e.s("hide")&&1==e.s("hideoutmute")&&(i=!0,n=!1,r||!o.hidden_volume_over&&!o.hidden_volume_over_process||t?s=!0:(i=!1,n=!0))),ControlNoSpace(e)&&(i=!0,n=!1),"text"==e.g("type")&&0==e.g("length")&&(n=!1,i=!0),settings&&settings.g("show")&&1!=v.settings.always&&(i=!1,r=!1,t=!1),"share"==e.g("action")&&exist(o.share)&&o.share.empty()&&(i=!0,n=!1,e.set("animation","none")),"custom"==e.g("action")&&("api:airplay"!=e.s("linkurl")&&"airplay"!=e.s("linkurl")||o.airplay||(i=!0,n=!1)),"custom"==e.g("action")&&"api:pipwebkit"==e.s("linkurl")&&(o.pipwebkit&&(o.start||0!=v.preload)||(i=!0,n=!1)),"playlist"!=e.g("action")&&"next"!=e.g("action")&&"prev"!=e.g("action")&&1!=e.s("hidewithoutplaylist")||(playlist.empty()&&0!=e.s("hidewithoutplaylist")&&(i=!0,n=!1,e.set("animation","none")),i&&PlaylistClose()),1==e.s("hideafterclick")&&e.g("clicked")&&(i=!0,n=!1),(o.nativecontrols||!o.start&&1==v.toolbar.hide&&1==v.toolbar.hideuntilstarted||!o.metadata&&1==v.toolbar.hide&&1==v.toolbar.hideuntilmeta)&&((e.s("position").indexOf("controls")>-1||e.s("position").indexOf("bottom")>-1)&&(i=!0,n=!1),1!=v.toolbar.hidejustfull||o.fullscreen||(i=!1,n=!0)),1==e.s("customjscontrol")&&(i=!1,n=!1),s){var a=ControlCoordinate(e);a&&(a.y>0&&e.set("y0",a.y),css(e.c(),{position:"absolute",top:e.g("y0")}))}i&&HideControl(e,!!firstly),n&&ShowControl(e),e==bg&&(!i&&n&&(o.media.ToolbarShow(),show2(bg2),toolbarHidden=!1),i&&!n&&(o.media.ToolbarHide(),hide2(bg2),toolbarHidden=!0),playlist&&(1!=v.playlist.always||playlist.empty()||(n||o.nativecontrols?1==v.playlist.alwaysnotfullscreen&&o.fullscreen||playlist.g("show")||(1==v.playlist.alwaysjustpause?!o.play&&playlist.show():playlist.show()):i&&playlist.hide())))}function HideControl(e,t){e.g("show")&&(o.fullscreen_process||"none"==e.s("animation")||t?e.set("display",!1):HideAnimate(e),e.set("show",!1))}function ShowControl(e){"line"==e.g("action")&&e.s("sticking")>0&&e.set("show",!1),e.g("show")||("none"==e.s("animation")||o.fullscreen_process?(e.set("display",!0),"volume"==e.g("action")&&o.hidden_volume&&HidePositionControl(e)):ShowAnimate(e),"volume"==e.s("action")&&o.controls.Volume(o.muted?0:v.volume),"line"==e.s("action")&&o.actions.Loading(),e.set("show",!0))}function HideAnimate(e){killMotion(e.g("key"));var t="alpha|",i="0|";"scale"==e.s("animation")&&(t+="scale|",i+="0|"),"position"==e.s("animation")&&(e.s("position").indexOf("right")>-1&&-1==e.s("position").indexOf("controls")&&(t+="x|",i+=int(o.screen_w+e.g("width"))+"|"),e.s("position").indexOf("left")>-1&&(t+="x|",i+=int(-e.g("width"))+"|"),e.s("position").indexOf("top")>-1&&(t+="alpha|y|",i+="0|"+-e.g("height")+"|"),(e.s("position").indexOf("bottom")>-1||e.s("position").indexOf("controls")>-1||"timeline"==e.s("position"))&&(t+="y|","line"==e.g("action")||"volume"==e.g("action")?i+=int(o.screen_h+e.s("h")+(e.s("h")<20?20-e.s("h"):0))+"|":i+=int(o.screen_h+e.g("height"))+"|"),"center"==e.s("position")&&(t+="scale|",i+="0|"));new Motion({mc:e,me:e.g("key"),type:t.substr(0,t.length-1),to:i.substr(0,i.length-1),hide:1})}function ShowAnimate(e){killMotion(e.g("key"));var t="",i="";if(1!=e.g("opacity")&&(t="alpha|",i=("bg"==e.g("key")?v.toolbar.a:"1")+"|"),"scale"==e.s("animation")&&e.g("scaleX")!=e.s("scale")&&(e.set("scale",0),t+="scale|",i+=e.s("scale")+"|"),"position"==e.s("animation")&&("center"==e.s("position")?e.g("scaleX")!=e.s("scale")&&(t+="scale|",i+=e.s("scale")+"|"):e.s("position").indexOf("controls")>-1?e.g("y")!=e.g("y0")&&(t+="y|",i+=e.g("y0")+"|"):(t+="x|y|",i+=e.g("x0")+"|"+e.g("y0")+"|")),""!=t&&""!=i)new Motion({mc:e,me:e.g("key"),type:t.substr(0,t.length-1),to:i.substr(0,i.length-1),show:1});else e.set("display",!0)}function ControlNoSpace(e){var t=!1;if("playlist"!=e.g("action")&&"next"!=e.g("action")&&"prev"!=e.g("action")||playlist.empty()&&(t=!0),"settings"==e.g("action")&&settings.empty()&&(t=!0,e.set("animation","none")),"custom"==e.g("action")&&("api:pipwebkit"==e.s("linkurl")&&(o.pipwebkit&&(o.start||0!=v.preload)||(t=!0)),"api:airplay"!=e.s("linkurl")&&"airplay"!=e.s("linkurl")||o.airplay||(t=!0)),1==e.s("chromecast")){var i=document.getElementById("pjs_cast_button_"+v.id);(0!=o.media.duration()||0!=o.media.time())&&o.tagvideo&&isVisible(i)&&o.cast_available||(t=!0)}return"duration"==e.g("action")&&o.media.isLive()&&(t=!0),"live"==e.g("action")&&(o.media.isLive()||1!=e.s("hide")||1!=e.s("hideonvod")||(t=!0)),1==e.s("hideoverwidth")&&o.screen_w>e.s("hideoverwidthlimit")&&(t=!0),1==e.s("hideonwidth")&&o.screen_w<=e.s("hideonwidthlimit")&&(t=!0),1==e.s("hideonmobile")&&o.system.mobile&&(t=!0),e.g("settings#")&&(e.g("set#visible")||(t=!0)),1==e.s("hideondesktop")&&o.system.desktop&&(t=!0),"control_start"==e.g("key")&&o.system.mobile&&o.nativecontrols&&o.system.android&&(t=!0),t}function UpdateTime(e,t,i){var o=Time(t);"1"==e.s("inversetime")&&(o=Time(i-t)),"1"==e.s("showduration")&&("1"==e.s("showboth")?o+=i>0?" "+Lang(e.s("separator"))+" "+Time(i):"":0==t&&(o=Time(i))),e.UpdateText(o)}function Volumescrolled(){for(var e in b)b.hasOwnProperty(e)&&"volume scroll"==b[e].s("linkurl")&&(b[e].UpdateText(""),b[e].set("hide2"),clearTimeout(o.volumescroll))}function SettingsClose(){settings&&settings.g("show")&&settings.hide()}function PlaylistClose(){playlist&&playlist.g("show")&&playlist.hide(1)}function PlaylistControls(){for(var e in b)b.hasOwnProperty(e)&&("next"==b[e].g("action")&&css(b[e].c(),{opacity:playlist.PlaylistNextExist()?1:.5}),"prev"==b[e].g("action")&&css(b[e].c(),{opacity:playlist.PlaylistPrevExist()?1:.5}))}exist(v.settings)&&(settings=new Settings("settings"),1==v.settings.always?settings.show():settings.hide()),exist(v.playlist)&&(playlist=new Settings("playlist"),exist(o.playlist)?(playlist.updatePlaylist(o.playlist),0!=v.playlist.openplaylistbefore&&exist(v.playlist.openplaylistbefore)?playlist.show():0==v.playlist.always&&playlist.hide()):playlist.hide(1)),exist(v.control_share)&&1==v.control_share.on&&(o.share=new Share),PlaylistControls(),Resize(!0),ShowOrHide(),firstly=!1,this.ControlClick=function(e){var t=b[e],i=t.g("action");if(i){var n=new Date;o.clicktime=n.getTime(),i&&""!=i&&Action(t)}},this.toggleControl=function(e,t){for(var i in b)b.hasOwnProperty(i)&&b[i].g("action")==e&&b[i].set(t?"show2":"hide2")},this.title=function(e){for(var t in b)b.hasOwnProperty(t)&&("title"==b[t].g("action")&&b[t].s("var")==e&&(""!=v[e]||""!=b[t].s("icon")?b[t].set("display",!0):b[t].set("display",!1),b[t].UpdateText(v[e])),"custom"==b[t].g("action")&&"text"==b[t].s("type")&&b[t].RenewFromTitle(!0))},this.updateTitle=function(){if(""!=v.title)for(var e in b)if(b.hasOwnProperty(e)&&"title"==b[e].g("action")){var t=!1;b[e].g("show")||(t=!0,b[e].set("display",!0)),b[e].UpdateText(v.title),t&&b[e].set("display",!1)}},this.resize=function(){Resize()},this.resizeSettings=function(){ResizeSettings(settings)},this.resizePlaylist=function(){ResizeSettings(playlist)},this.Play=function(){for(var e in b)b.hasOwnProperty(e)&&"play"==b[e].g("action")&&b[e].On();this.PlaylistVisible()&&1==v.playlist.autohide&&this.Playlist(),o.play=!0,ShowOrHide()},this.Pause=function(){for(var e in b)b.hasOwnProperty(e)&&("pause"!=b[e].g("action")&&"stop"!=b[e].g("action")||b[e].Off());playlist&&(1!=v.playlist.openplaylistpause||playlist.empty()||playlist.show()),o.play=!1,ShowOrHide()},this.Mute=function(){for(var e in b)b.hasOwnProperty(e)&&("mute"==b[e].g("action")&&b[e].On(),this.Volume(0));ShowOrHide()},this.Unmute=function(){for(var e in b)b.hasOwnProperty(e)&&"unmute"==b[e].g("action")&&b[e].Off();v.volume<.1?(v.volume=.5,o.actions.Volume(v.volume)):this.Volume(v.volume),ShowOrHide()},this.Volume=function(e,t){for(var i in b)b.hasOwnProperty(i)&&("volume"==b[i].g("action")&&b[i].UpdatePlay(e,1,"no"!=t||t),"mute"==b[i].g("action")&&b[i].UpdateVolume(e));ShowOrHide()},this.Fullscreen=function(){for(var e in b)b.hasOwnProperty(e)&&"fullscreen"==b[e].g("action")&&(b[e].On(),b[e].set("scale",b[e].s("scale")));ShowOrHide(),resizeonwidth&&setTimeout(ShowOrHide,500),HideInterval()},this.Normalscreen=function(){for(var e in b)b.hasOwnProperty(e)&&"normalscreen"==b[e].g("action")&&b[e].Off();Resize(),clearInterval(o.toolbarInterval),ShowOrHide()},this.onEnded=function(){for(var e in b)b.hasOwnProperty(e)&&"play"==b[e].g("action")&&b[e].ReplayIcon()},this.Review=function(){ShowOrHide()},this.Mouse=function(e,t,i){var n=!1,r=b[e],s=r.g("action");"over"==t&&(o.hidden_volume&&("volume"!=s&&"mute"!=s&&"unmute"!=s||(o.hidden_volume_over=!0,o.hidden_volume_over_process=!0,n=!0,ShowOrHide())),1!=v.settings.showovercontrol||"settings"!=s&&0!=r.s("linkurl").indexOf("setting")||(clearTimeout(o.settingsovertimer),!settings.g("show")&&settings.show())),"out"==t&&(o.hidden_volume&&("volume"!=s&&"mute"!=s&&"unmute"!=s||(o.hidden_volume_over=!1,o.hidden_volume_over_process=!0,setTimeout((function(){if(!o.hidden_volume_over)for(var e in o.hidden_volume_over_process=!1,b)b.hasOwnProperty(e)&&"volume"==b[e].g("action")&&(HideControl(b[e]),Resize())}),500))),1!=v.settings.showovercontrol||"settings"!=s&&0!=r.s("linkurl").indexOf("setting")||(clearTimeout(o.settingsovertimer),o.settingsovertimer=setTimeout((function(){o.mouseDown||settings.g("show")&&settings.hide()}),1e3))),n&&setTimeout(Resize,10)},this.StageLeave=function(){o.volumewheel&&!o.fullscreen&&(o.actions.volumewheel(!1),o.volumewheel=!1),o.poster&&v.poster_aover>-1&&isVisible(o.poster)&&css(o.poster,{opacity:v.poster_a}),o.play&&1==v.playonhover&&o.actions.Pause(),v.toolbar.hideleavetimeout>0?(clearTimeout(o.leavetimeout),o.leavetimeout=setTimeout(ShowOrHide,1e3*v.toolbar.hideleavetimeout)):ShowOrHide()},this.StageOver=function(){o.poster&&v.poster_aover>-1&&isVisible(o.poster)&&css(o.poster,{opacity:v.poster_aover}),o.play||1!=v.playonhover||o.actions.Play(),ShowOrHide()},this.StageMove=function(e,t){for(var i in b)b.hasOwnProperty(i)&&("line"!=b[i].g("action")&&"volume"!=b[i].g("action")||b[i].StageMove(e,t))},this.StageMove2=function(){if(1==v.toolbar.hide){if(1==v.toolbar.hidejustfull&&!o.fullscreen)return;o.mouseHere||"playing"!=o.media.status()||(o.mouseHere=!0,ShowOrHide()),1==v.toolbar.hidewithoutmoving&&(ShowForce(),HideInterval())}},this.StageMouseUp=function(e,t){for(var i in b)b.hasOwnProperty(i)&&("line"!=b[i].g("action")&&"volume"!=b[i].g("action")||b[i].StageMouseUp(e,t))},this.Played=function(e,t){for(var i in b)b.hasOwnProperty(i)&&("line"==b[i].g("action")&&b[i].UpdatePlay(e,t),"time"==b[i].g("action")&&UpdateTime(b[i],e,t),1==b[i].s("rotateplaying")&&b[i].Rotate())},this.Loaded=function(e,t){for(var i in b)b.hasOwnProperty(i)&&"line"==b[i].g("action")&&b[i].UpdateLoad(e,t)},this.Waiting=function(){if(!waiting)for(var e in b)b.hasOwnProperty(e)&&"buffer"==b[e].g("action")&&(b[e].Buffer(),waiting=!0)},this.StopWaiting=function(e,t){if(waiting)for(var i in b)b.hasOwnProperty(i)&&"buffer"==b[i].g("action")&&(b[i].BufferStop(),waiting=!1)},this.volumescroll=function(){for(var e in b)b.hasOwnProperty(e)&&"volume scroll"==b[e].s("linkurl")&&(b[e].set("show2"),b[e].UpdateText(Lang("volume")+" "+(o.muted?0:Math.ceil(100*v.volume))+"%"),clearTimeout(o.volumescroll),o.volumescroll=setTimeout(Volumescrolled,1e3))},this.Seek=function(e,t){for(var i in b)b.hasOwnProperty(i)&&("line"==b[i].g("action")&&(t>0&&b[i].set("click",e/t),b[i].UpdatePlaySeek()),"time"==b[i].g("action")&&UpdateTime(b[i],e,t),"live"==b[i].g("action")&&(b[i].set("iconopacity",.5),b[i].set("saturate",0)))},this.Duration=function(e,t){for(var i in b)b.hasOwnProperty(i)&&("duration"==b[i].g("action")&&b[i].UpdateText(Time(t)),"line"==b[i].g("action")&&(b[i].UpdatePlay(e,t),b[i].PlacePoints(t)),"time"==b[i].g("action")&&UpdateTime(b[i],e,t))},this.Settings=function(){settings.g("show")?settings.hide():settings.show()},this.SettingsVisible=function(){return!!settings&&!!settings.g("show")},this.SettingsClose=function(){SettingsClose()},this.Playlist=function(){playlist&&(playlist.g("show")?playlist.hide(1):playlist.show())},this.PlaylistShow=function(){playlist&&setTimeout((function(){playlist.show()}),100)},this.PlaylistVisible=function(){return!!playlist&&!!playlist.g("show")},this.UpdatePlaylist=function(e){playlist&&playlist.updatePlaylist(e)},this.PlaylistNext=function(){playlist&&playlist.PlaylistNext()},this.PlaylistControls=function(){PlaylistControls()},this.PlaylistNextExist=function(){return!!playlist&&playlist.PlaylistNextExist()},this.PlaylistExist=function(){return!!playlist&&playlist.PlaylistExist()},this.PlaylistRewind=function(){playlist&&playlist.PlaylistRewind()},this.PlaylistPrev=function(){playlist&&playlist.PlaylistPrev()},this.PlaylistPlayId=function(e){e&&playlist&&playlist.playById(e)},this.PlaylistOpenId=function(e){e&&playlist&&playlist.openById(e)},this.ShowSettingsBut=function(){},this.QualityChanged=function(e){settings&&(settings.SetQuality(),settings.g("show")&&setTimeout((function(){settings.hide()}),200))},this.QualityChangedNoHand=function(e){settings&&settings.SetQuality()},this.AirplayChanged=function(e){settings&&settings.Airplay()},this.AudioTrackChanged=function(e){settings&&(settings.SetAudioTrack(),settings.g("show")&&settings.hide())},this.AudioTrackChangedNoHand=function(e){settings&&settings.SetAudioTrack()},this.SubtitleChanged=function(){settings&&(settings.SetSubtitle(),settings.g("show")&&setTimeout((function(){settings.hide()}),200))},this.SettingsN=function(e,t,i){for(var o in b)b.hasOwnProperty(o)&&b[o].g("action_settings")=="settings#"+e&&(b[o].set("set#visible",t),"text"==b[o].g("type")&&b[o].UpdateText(i+("text"!=b[o].s("text")?b[o].s("text"):"")),ShowOrHideProcessor(b[o]))},this.UpdateSettings=function(){settings&&(settings.SetQuality(),settings.SetAudioTrack())},this.RenewPoints=function(){for(var e in b)b.hasOwnProperty(e)&&"line"==b[e].g("action")&&b[e].RenewPoints()},this.resize=function(){Resize()},this.resizeFromText=function(e){toolbarHidden&&1!=e?v.toolbar.resizeme=!0:(Resize(),ShowOrHide())},this.refresh=function(){ShowOrHide(),Resize(),ShowOrHide(),o.nativecontrols?hide2(bg2):!toolbarHidden&&show2(bg2)},this.KeyDown=function(e){if(pljssglobalid==v.id){var t=e.which;if(null==t&&(t=e.keyCode),exist(o.vast)||exist(o.pass))return!1;if(1==v.hotkey.space&&32==t&&(o.focus||o.mouseHere))return o.actions.Toggle(),e.preventDefault(),!1;var i=v.hotkey.seek,n=.2;if("pdf"==o.file_type&&(i=1,n=.1),1==v.hotkey.nums&&o.focus&&o.media.duration()>0)for(var r=48;r<58;r++)t==r&&o.actions.Seek(o.media.duration()*(t-48)*10/100,!0);39==t&&o.focus&&("seek"==v.hotkey.leftright&&o.media.duration()>0&&o.media.time()+i<o.media.duration()&&o.actions.Seek(o.media.time()+i,!0),"volume"==v.hotkey.leftright&&(o.actions.Volume(parseFloat(v.volume)+n),e.preventDefault())),37==t&&o.focus&&("seek"==v.hotkey.leftright&&o.media.duration()>0&&o.start&&o.actions.Seek(o.media.time()-i>=0?o.media.time()-i:0,!0),"volume"==v.hotkey.leftright&&(o.actions.Volume(parseFloat(v.volume)-n),e.preventDefault())),38==t&&o.focus&&("volume"==v.hotkey.updown&&(o.actions.Volume(parseFloat(v.volume)+n),e.preventDefault()),"scale"==v.hotkey.updown&&(o.media.scale(.2),e.preventDefault())),40==t&&o.focus&&("volume"==v.hotkey.updown&&(o.actions.Volume(parseFloat(v.volume)-n),e.preventDefault()),"scale"==v.hotkey.updown&&(o.media.scale(-.2),e.preventDefault()))}},this.KeyUp=function(e){if(pljssglobalid==v.id){var t=e.which;if(null==t&&(t=e.keyCode),57==t&&v.log,o.fullscreen&&27==t&&o.actions.Normalscreen(),exist(o.vast)||exist(o.pass))return!1;1==v.hotkey.f&&70==t&&(o.focus||o.mouseHere)&&(o.fullscreen?o.actions.Normalscreen():o.actions.Fullscreen()),1==v.hotkey.m&&77==t&&(o.focus||o.mouseHere)&&(o.muted?o.actions.Unmute():o.actions.Mute())}},this.Remove=function(){clearInterval(o.toolbarInterval);for(var e=0;e<butNames.length;e++)key=butNames[e],b[key]&&b[key].Remove();settings&&settings.Remove(),playlist&&playlist.Remove(),bg.Remove(),o.frame.removeChild(bg2)},this.ShowForce=function(){ShowForce()},this.HideForce=function(){HideForce(),ShowOrHide()},this.HideInterval=function(){HideInterval()},this.ToolbarHidden=function(){return toolbarHidden}},Control=function(e){var t,i,n,r,s,a,l,c,d,u,f,h,p,g=[],y=0,m=0,b=!0,w=1,x=1,T="",_=!1,E=0,k=0,S=0,A=!1,D=!1,R=!1;g=UpdateObject(g,default_style.but);var L=[(g=UpdateObject(g,v[e])).action];d=L[0],exist(g.action2)&&(L[1]=g.action2),exist(g.opposite)&&(L[1]=g.opposite),exist(g.title)&&(g.text=g.title),exist(g.linkurl)&&0==g.linkurl.indexOf("settings#")&&(T=g.linkurl,""==g.tiptext&&(g.tiptext=Lang(v.settings["settings"+T.substr(9)+"action"])));var C,P=g.tiptext.split("///"),I=new Array,M=new Array,O=new Array,U=(new Array,0);"text"==g.type?exist(g.text)&&(I[0]=trim(g.text),g.lngth=g.text.length,0==g.text.indexOf("/")&&(g.slashfortime=1),0==g.text.indexOf("|")&&(g.linehfortime=1),1==g.inversetime&&0==g.text.indexOf("-")&&(g.minusforback=1),g.text.indexOf("///")>0&&"custom"==d&&(g.texts=g.text.split("///"),g.text=I[0]=g.texts[0])):exist(g.icon)&&(I[0]=g.icon,I[0].indexOf("///")>0&&-1==I[0].indexOf("base64")&&(I=g.icon.split("///")),exist(g.icon2)&&(I[1]=g.icon2),1==g.iconsreplay&&exist(g.icon3)&&""!=g.icon3&&(I.push(g.icon3),U=I.length-1)),"custom"==d&&1==g.link2&&exist(g.linkurl2)&&(g.linkurl0=g.linkurl);var j=createElement("div");"timeline"==g.position?o.timeline.appendChild(j):o.frame.appendChild(j);var F=createElement("div");if(j.appendChild(F),css(j,{position:"absolute",left:0,top:0,opacity:1,fontSize:"14px",lineHeight:"1em"}),exist(g.dom)&&""!=g.dom&&attr(j,{id:v.id+"_control_"+g.dom}),1==g.rotateplaying&&css(j,{transition:"transform 0.2s linear"}),I.length>0){for(G=0;G<I.length;G++){if(M[G]=createElement("div"),css(M[G],{position:"absolute",top:0,left:0,pointerEvents:"none",opacity:g.a,transition:"opacity 0.1s linear,transform 0.1s linear"}),"pic"==g.type&&""!=g.src&&(g.src.indexOf(".png")>-1||g.src.indexOf(".jpg")>-1||g.src.indexOf("base64")>-1)){-1==g.src.indexOf("//")&&-1==g.src.indexOf("base64")&&(g.src="//"+g.src);var W=createElement("img");g.loading=1,W.addEventListener("load",ie),W.src=g.src,M[G].appendChild(W),g.w=M[G].offsetWidth,g.h=M[G].offsetHeight,exist(g.dom)&&""!=g.dom&&attr(M[G],{id:v.id+"_control_"+g.dom+"_icon"})}if("text"==g.type&&(g.tip=0,css(M[G],{color:g.color,fontFamily:g.font,fontSize:g.fontsize,"letter-spacing":g.letterspacing+"px",padding:"0 3px 0 3px","white-space":"nowrap"}),1==g.click&&(g.text.indexOf("<a ")>-1||"control_title"==e)&&css(M[G],{pointerEvents:"auto"}),1==g.bold&&css(M[G],{"font-weight":"bold"}),"live"==I[G]&&(I[G]=Lang("live")),M[G].innerHTML=de(I[G]),g.w=M[G].offsetWidth,g.h=M[G].offsetHeight,exist(g.dom)&&""!=g.dom&&attr(M[G],{id:v.id+"_control_"+g.dom+"_text"})),"css"==g.type){p=random(1e5,1e6),I[G]=I[G].replace(/\(rand\)/g,p),I[G]=I[G].replace(/\(color\)/g,g.color),I[G]=I[G].replace(/\(size\)/g,g.size);var V=I[G].substr(0,I[G].indexOf("|||")),q=I[G].substr(I[G].indexOf("|||")+3);M[G].innerHTML=V,pushCSS(q)}var B=I[G].toString(),N=B.indexOf("<svg")>-1||B.indexOf("<SVG")>-1;"svg"==g.type&&(B.indexOf("<g>")>-1||N)&&(M[G].innerHTML=(N?"":"<svg width='20' height='20' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>")+B+(N?"":"</svg>"),M[G].offsetWidth>20&&(g.w=M[G].offsetWidth),M[G].offsetHeight>20&&(g.h=M[G].offsetHeight),css(M[G],{width:g.w,height:g.h}),-1!=g.iconscolor&&ue(M,g.iconscolor),exist(g.dom)&&""!=g.dom&&attr(M[G],{id:v.id+"_control_"+g.dom+"_icon"+G})),j.appendChild(M[G]),G>0&&hide(M[G])}if(J(),"chromecast"==g.linkurl?(g.chromecast=1,g.hide=1,o.chromecast&&(M[0].innerHTML=o.chromecast.button())):(n.offsetWidth*g.scale<35||n.offsetHeight*g.scale<35)&&"text"!=g.type?(Z(),K(r)):K(n),"custom"==d)if(1==g.link&&exist(g.linkurl))if(0==g.linkurl.indexOf("api:"))if(2==(z=g.linkurl.substr(4).split(",")).length){var X=z[1].split("/");2==X.length&&("hd"==z[0]&&(z[0]="default_quality"),v[z[0]]==X[1]&&(g.a=1,css(M[0],{opacity:g.a})))}0==g.click&&css(j,{"pointer-events":"none"}),1==g.loading&&hide(n),1==g.tip&&function(){s=createElement("div"),css(s,{position:"absolute",left:0,top:0,height:"auto",opacity:0,transition:"opacity 0.1s linear"}),a=createElement("div"),g=MarginPadding(g,"tippadding","tippadding"),g=MarginPadding(g,"tipmargin","tipmargin"),css(a,{position:"absolute",left:0,top:0,width:"100%",height:30,"background-color":g.tipbgcolor,opacity:g.tipbga,"border-radius":g.tipbgrounding}),l=createElement("div"),css(l,{position:"absolute",left:g.tippaddingright,top:g.tippaddingtop,color:g.tipcolor,"font-family":g.tipfont,"font-size":g.tipfontsize,"letter-spacing":g.tipletterspacing+"px",opacity:g.tipa,"line-height":"1","white-space":"nowrap"}),1==g.tippointer&&((c=createElement("div")).innerHTML='<svg width="8px" height="6px" viewBox="0 0 8 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon id="Rectangle" stroke="none" fill="#'+g.tipbgcolor.replace("#","")+'" fill-rule="evenodd" points="0 0 8 0 4 6"></polygon></svg>');1==g.tipalways?(css(s,{opacity:1}),K(s)):css(s,{"pointer-events":"none"});j.appendChild(s),l.innerHTML=""==g.tiptext?Lang(d):P[0],s.appendChild(a),s.appendChild(l),1==g.tippointer&&(s.appendChild(c),"right"==g.tippointeralign?css(c,{position:"absolute",right:10*g.scale,bottom:"-8px",opacity:g.tipbga}):"left"==g.tippointeralign?css(c,{position:"absolute",left:10*g.scale,bottom:"-8px",opacity:g.tipbga}):css(c,{position:"absolute",left:"50%","margin-left":"-4px",bottom:"-8px",opacity:g.tipbga}));re()}(),g.position.indexOf("right")>-1&&(k=1),g.position.indexOf("top")>-1&&1,(g.position.indexOf("bottom")>-1||g.position.indexOf("control")>-1)&&(S=1),Y();var H="";0!=g.rotation&&(H+="rotate("+g.rotation+"deg)"),1==g.flipx&&(H+=" scaleX(-1)"),1==g.flipy&&(H+=" scaleY(-1)"),""!=H&&css(j,{transform:H}),"buffer"==d&&(g.scale>-1&&css(j,{transform:"scale("+g.scale+") rotate("+g.rotation+"deg)"}),ce());var G,z=[];if("playlist"==d)for(z=["autoplaylist","openplaylistafter","openplaylistbefore","openplaylistpause","openplaylistroot","playlistrewind"],G=0;G<z.length;G++)exist(g[z[G]])&&!exist(v.playlist[z[G]])&&(v.playlist[z[G]]=g[z[G]]);if("title"==d)for(z=["showtitleplaylist","addtitleplaylist","addtitleplaylistbr"],G=0;G<z.length;G++)exist(g[z[G]])&&!exist(options[z[G]])&&(v[z[G]]=g[z[G]]);1==g.tipalways&&re(),"custom"==d&&0==g.on&&hide2(j)}function Z(){r&&r.parentNode.removeChild(r),r=createElement("div"),css(r,{position:"absolute",top:0,left:0,width:"pic"==g.type?n.offsetWidth:(n.offsetWidth>35?n.offsetWidth:35)*g.clickscalex,height:"pic"==g.type?n.offsetHeight:(n.offsetHeight>35?n.offsetHeight:35)*g.clickscaley}),g=MarginPadding(g,"clickmargin","clickmargin"),1!=v.toolbar.clickarea&&1!=g.clickarea||css(r,{"background-color":"#ff0000",opacity:.5}),j.appendChild(r)}function K(e){0==d.indexOf("time")&&1==L.length&&(g.click=0),"custom"==d&&0==g.link&&(g.click=0),1==g.click?(1==g.hand&&css(e,{cursor:"pointer"}),o.system.mobile?e.addEventListener("touchend",(function(e){e.stopPropagation(),ee(e)})):e.onclick=ee):css(e,{cursor:"default"}),o.system.mobile||(e.onmouseover=Q,e.onmouseout=$),1!=g.hidden&&1!=g.tip||(e.onmousemove=oe)}function J(){if(n&&n.parentNode.removeChild(n),n=createElement("div"),css(n,{position:"absolute",top:0,left:0}),exist(g.dom)&&""!=g.dom&&attr(n,{id:v.id+"_control_"+g.dom+"_bg"}),t=g.w,i=g.h,g=MarginPadding(g,"margin","margin"),"text"==(g=MarginPadding(g,"marginproc","marginproc")).type&&(t=M[0].offsetWidth,i=M[0].offsetHeight),g=MarginPadding(g,"bgpadding","bgpadding"),g=MarginPadding(g,"iconmargin","iconmargin"),o.system.safari&&(g.iconmarginleft/=g.scale,g.iconmarginright/=g.scale,g.iconmargintop/=g.scale,g.iconmarginbottom/=g.scale),exist(g.dom)&&exist(v.custom)&&"custom"==g.action&&""!=g.dom&&"object"==typeof v.custom)for(var e=0;e<Object.keys(v.custom).length;e++)if(v.custom[e][g.dom])if("off"==v.custom[e][g.dom])g.on=0;else{var r=v.custom[e][g.dom].split(":");"margin-left"==r[0]&&(r[1].indexOf("%")>0?g.marginprocleft=parseInt(r[1]):g.marginleft=parseInt(r[1]))}g.h=i,g.w=t,1==g.bg?(i=i+g.bgpaddingtop+g.bgpaddingbottom,t=t+g.bgpaddingleft+g.bgpaddingright,g.h=i,g.w=t,"text"==g.type&&(g.bgh=M[0].offsetHeight)):g.bga=0,css(n,{width:1==g.bgstretch?5e3:t,height:i,borderRadius:g.bgo*i/2,background:g.bgcolor,opacity:g.bga,transition:"opacity .1s linear, background .1s linear"}),"pic"==g.type&&css(n,{width:t,height:i,borderRadius:g.bgo*i/g.scale/2}),1==g.bgborder&&css(n,{border:"1px solid "+g.bgbordercolor}),F.appendChild(n)}function Y(){if(css(n,{top:-n.offsetHeight/2,left:-n.offsetWidth/2}),r){var e="pic"==g.type||n.offsetWidth>35?n.offsetWidth:35,t="pic"==g.type||n.offsetHeight>35?n.offsetHeight:35;css(r,{top:-t/2+g.clickmargintop-g.clickmarginbottom,left:-e/2+g.clickmarginleft-g.clickmarginright})}for(G=0;G<I.length;G++)"svg"==g.type?css(M[G],{top:-Math.round(parseInt(M[G].style.height))/2,left:-parseInt(M[G].style.width)/2}):css(M[G],{top:-Math.round(M[G].offsetHeight)/2,left:-M[G].offsetWidth/2}),n&&css(M[G],{top:int(M[G].style.top)+g.bgpaddingtop/2-g.bgpaddingbottom/2+g.iconmargintop/2+g.iconmarginbottom/2,left:int(M[G].style.left)+g.bgpaddingleft/2-g.bgpaddingright/2+g.iconmarginleft/2+g.iconmarginright/2})}function Q(){var t;if(_=!0,1==g.iconsover&&(t=h&&exist(g.icon2)?1:0,C&&O.length>2&&(t=2),O[t]&&(te(),show(M[O[t]]))),1==g.bg&&(-1!=g.bgaover&&css(n,{opacity:g.bgaover}),-1!=g.bgcolorover&&css(n,{background:g.bgcolorover})),g.aover>-1)for(t=0;t<I.length;t++)"hidden"!=M[t].style.visibility&&css(M[t],{opacity:g.aover});-1!=g.iconscolorover&&ue(M,g.iconscolorover),1==g.rotateonhover&&(E+=45,css(M[0],{transform:"rotate("+E+"deg)"})),g.scaleover>g.scale&&g.scaleover>-1&&ne(g.scaleover),"settings"==d&&o.controls.SettingsVisible()||1==g.tip&&1!=g.tipalways&&(show(s),css(s,{opacity:1})),"mute"==d&&(o.actions.volumewheel(!0),o.volumewheel=!0),o.controlover=!0,o.controls.Mouse(e,"over")}function $(){var t;if(_=!1,1==g.iconsover&&(t=h&&exist(g.icon2)?1:0,C&&O.length>2&&(t=2),te(),show(M[t])),1==g.bg&&(-1!=g.bgaover&&css(n,{opacity:g.bga}),-1!=g.bgcolorover&&css(n,{background:g.bgcolor})),g.aover>-1)for(t=0;t<I.length;t++)"hidden"!=M[t].style.visibility&&css(M[t],{opacity:g.a});g.scaleover>-1&&ne(g.scale),-1!=g.iconscolorover&&ue(M,g.iconscolor),"mute"!=d||o.fullscreen||(o.actions.volumewheel(!1),o.volumewheel=!1),1==g.tip&&1!=g.tipalways&&(hide(s),css(s,{opacity:0})),o.controlover=!1,o.controls&&o.controls.Mouse(e,"out")}function ee(t){t.cancelBubble=!0,A||(o.controls.ControlClick(e),"custom"==d&&(I&&(I.length>1&&(1==h?(show(M[0]),hide(M[1])):(show(M[1]),hide(M[0]))),1==g.tip&&P.length>1&&(l.innerHTML=1==h?P[0]:P[1],re())),exist(g.linkurl0)&&(g.linkurl=1==h?g.linkurl0:g.linkurl2),exist(g.texts)&&g.texts.length>1&&ae(1==h?g.texts[0]:g.texts[1]),h=1!=h),1==g.tip&&1!=g.tipalways&&(hide(s),css(s,{opacity:0})),1==g.rotateonclick&&(E+=45,css(M[0],{transform:"rotate("+E+"deg)"})),D=!0,(1==g.hideafterclick||"control_start"==e&&1==g.hide&&1==g.hideonplay)&&o.controls.refresh())}function te(){for(var e=0;e<I.length;e++)"hidden"!=M[e].style.visibility&&(css(M[e],{opacity:g.a}),hide(M[e]))}function ie(){g.loading=0,hide(n),M[0]&&(g.w=M[0].offsetWidth*g.scale,g.h=M[0].offsetHeight*g.scale,g.picheight>0&&(g.h=g.picheight*g.scale,css(M[0],{height:g.picheight})),ne(g.scale)),g.loaded=0,J(),Z(),K(r),show(n),Y(),o.controls.resize(),isVisible(j)||hide2(j)}function oe(){re()}function ne(e){if(e>0){for(o.system.safari?css(n,{zoom:e+""}):css(n,{transform:"scale("+e+")"}),G=0;G<I.length;G++)o.system.safari?css(M[G],{zoom:e+""}):css(M[G],{transform:"scale("+e+")"});w=e,x=e}}function re(){1==g.tip&&(css(s,{top:(1==S?-i-s.offsetHeight+3:-s.offsetHeight/2)+g.tipmargintop-g.tipmarginbottom,left:(1==k?-l.offsetWidth:1==S?-t/2:+l.offsetWidth)-(1==S?0:l.offsetWidth/2+5)+g.tipmarginleft-g.tipmarginright,height:g.tippaddingtop+g.tipfontsize+g.tippaddingbottom,width:g.tippaddingleft+l.offsetWidth+g.tippaddingright}),css(a,{height:s.offsetHeight}),s.style.zIndex="1000")}function se(){A=!1}function ae(e){if("text"==g.type){exist(e)&&(g.lngth=e.length),e=(1==g.linefortime?"| ":"")+(1==g.slashfortime?"/ ":"")+(1==g.inversetime&&1==g.minusforback?"-":"")+e;var t=M[0].offsetWidth+(1==g.bg?g.bgpaddingtop+g.bgpaddingbottom:0),i=M[0].offsetHeight+(1==g.bg?g.bgpaddingtop+g.bgpaddingbottom:0);M[0].innerHTML="custom"==d?de(e):e,1==g.triangle&&(M[0].innerHTML+='<span style="display:inline-block;width:10px"></span><span style="border-top: 3px solid #fff;border-left: 3px solid transparent;border-right: 3px solid transparent;position: absolute;right:3px;top: 50%;margin-top: -1px;"></span>'),"title"==d&&(css(M[0],{width:"auto","white-space":"nowrap"}),M[0].offsetWidth>o.screen_w&&css(M[0],{"white-space":"normal",width:o.screen_w-g.marginleft-g.marginright-g.bgpaddingleft-g.bgpaddingright})),g.w=M[0].offsetWidth+(1==g.bg?g.bgpaddingtop+g.bgpaddingbottom:0),g.h=M[0].offsetHeight+(1==g.bg?g.bgpaddingtop+g.bgpaddingbottom:0),(t!=g.w||i!=g.h||g.w>0&&0==y)&&le(),M[0].offsetWidth>0?y=g.w:""!=e&&setTimeout(le,100)}}function le(){M[0].offsetWidth>0&&(t=g.w=M[0].offsetWidth,i=g.h=M[0].offsetHeight,J(),K(n),Y(),o.controls.resizeFromText())}function ce(){hide2(j);for(var e=j.getElementsByTagName("*"),t=e.length;t--;)css(e[t],{"animation-play-state":"paused"});b=!1}function de(e){return e.indexOf("{time}")>-1&&exist(o.continue)&&(e=e.replace("{time}",timeFormat(o.continue.flag().t))),e.indexOf("{title}")>-1&&(e=e.replace("{title}",o.titlestore?o.titlestore:v.title?v.title:"")),e}function ue(e,t){for(var i=0;i<e.length;i++)for(var o=["path","polygon","polyline","rect","ellipse"],n=0;n<o.length;n++){var r=e[i].querySelectorAll("svg "+o[n]);if(r.length>0)for(var s=0;s<r.length;s++)r[s].style.fill=t}}this.c=function(){return j},this.s=function(e){return g[e]},this.ss=function(e,t){return!!exist(g[e])&&g[e][t]},this.g=function(o){switch(o){case"width":return t;case"height":return i;case"x":return int(j.style.left);case"y":return int(j.style.top);case"opacity":return j.style.opacity?j.style.opacity:1;case"show":return b;case"scaleX":return w;case"scaleY":return x;case"action":return d;case"action_settings":return T;case"clicked":return D;case"type":return g.type;case"length":return g.lngth?g.lngth:0;case"key":return e;case"x0":return u;case"y0":return f;case"over":return _;case"settings#":return 0==T.indexOf("settings#");case"set#visible":return R;default:return!1}},this.set=function(t,i){switch(t){case"show":_&&$(),b=i;break;case"display":!function(t){t&&o.system.mobile&&(A=!0,setTimeout(se,300));t||1==g.iconsreplay&&C&&(hide(M[U]),show(M[0]),C=!1);1==g.loading?t?show(j):hide(j):("control_time"==e||"control_duration"==e?t?show(j):hide(j):css(j,{display:t?"block":"none"}),b=t,t&&show(j))}(i);break;case"show2":show2(j);break;case"hide2":hide2(j);break;case"scale":ne(i);break;case"scaleX":css(j,{transform:"scaleX("+i+")"}),w=i;break;case"scaleY":css(j,{transform:"scaleY("+i+")"}),x=i;break;case"opacity":css(j,{opacity:i});break;case"iconopacity":css(M[0],{opacity:i});break;case"saturate":css(M[0],{filter:"saturate("+i+")"});break;case"left":case"x":css(j,{left:i});break;case"top":case"y":css(j,{top:i});break;case"width":css(j,{width:i});break;case"height":css(j,{height:i});break;case"over_final":g.over_final=i;break;case"rightside":k=i;break;case"set#visible":R=i;break;case"animation":g.animation=i;break;case"x0":u=i;break;case"y0":f=i;break;default:return!1}},this.UpdateText=function(e){ae(e)},this.Rotate=function(){css(j,{transform:"rotate("+m+"deg)"}),m+=20},this.RenewFromTitle=function(e){g.text.indexOf("{title}")>-1&&ae(g.text)},this.UpdateVolume=function(e){if(1==g.displayvolume&&!o.system.mobile){var t=document.getElementById("pjs_volume_element1"),i=document.getElementById("pjs_volume_element2"),n=document.getElementById("pjs_volume_element3");t&&(e<=.2&&(n&&hide(n),i&&hide(i),t&&hide(t)),e>.2&&e<=.5&&(n&&hide(n),i&&hide(i)),e>.2&&t&&show(t),e>.5&&i&&show(i),e>.5&&e<=.8&&n&&hide(n),e>.8&&n&&show(n))}},this.On=function(){h||(I&&I.length>1&&L.length>1&&(hide(M[0]),show(M[1])),L.length>1&&(d=L[1],1==g.tip&&(l.innerHTML=""==g.tiptext?Lang(L[1]):P.length>1?P[1]:P[0],re())),1==g.iconsreplay&&C&&(hide(M[U]),C=!1),h=!0)},this.CustomSwitch=function(e){g.a=1==e?1:.5,css(M[0],{opacity:g.a})},this.Off=function(){h&&(I&&I.length>1&&L.length>1&&(show(M[0]),hide(M[1])),d=L[0],L.length>1&&1==g.tip&&(l.innerHTML=""==g.tiptext?Lang(L[0]):P[0],re()),h=!1,C=!1)},this.ReplayIcon=function(){1==g.iconsreplay&&(te(),show(M[U]),C=!0)},this.Buffer=function(){var e=!1;if(1==g.hide&&1==g.hidewithposter&&isVisible(o.poster)&&(e=!0),!e){show2(j);for(var t=j.getElementsByTagName("*"),i=t.length;i--;)css(t[i],{"animation-play-state":"running"});b=!0}},this.BufferStop=function(){ce()},this.Remove=function(){if(I.length>0)for(G=0;G<I.length;G++)j.removeChild(M[G]),delete M[G];n&&(n.removeAttribute("onclick"),n.removeAttribute("onmouseover"),n.removeAttribute("onmouseout"),n.parentNode.removeChild(n),delete n),"timeline"==g.position?o.timeline.appendChild(j):o.frame.appendChild(j),delete j}},ControlLine=function(e,t){var i,n,r,s,a,l,c,d,u,f,h,p,g,y,m,b,w=[],x=!0,T=1,_=1,E=0,k=0,S=[],A=-1;for(i in default_style.but)w[i]=default_style.but[i];t=v[e].action,v[e].type;for(i in default_style[t])w[i]=default_style[t][i];for(i in v[e])w[i]=v[e][i];w.w=parseInt(w.w),w.h=parseInt(w.h),w=MarginPadding(w,"margin","margin"),w=MarginPadding(w,"marginproc","marginproc");var D=createElement("div");o.frame.appendChild(D),"line"==t&&(o.timeline=D),css(D,{position:"absolute",top:0,left:0,opacity:1,fontSize:"14px",lineHeight:"1em"}),1==w.ontop&&(D.style.zIndex=5),function(){r=createElement("div");var e=(w=MarginPadding(w,"bgpadding","bgpadding")).h+w.bgpaddingtop+w.bgpaddingbottom,t=w.w+w.bgpaddingleft+w.bgpaddingright;1==v.toolbar.clickarea&&(w.bgcolor="#ff0000",w.bg=1,w.bga=.5);1==w.bg||(w.bga=0);css(r,{position:"absolute",top:0,left:0,width:t,height:e,borderRadius:w.bgo*e/2,backgroundColor:w.bgcolor,opacity:w.bga}),1==w.bgborder&&css(r,{border:"1px solid #"+w.bgbordercolor});css(r,{top:-w.h/2-w.bgpaddingtop}),1==w.click?(1==w.hand&&css(r,{cursor:"pointer"}),o.system.mobile||(r.onclick=J,r.onmouseup=Y,r.onmousedown=Q,r.onmousemove=oe)):css(r,{cursor:"default"});o.system.mobile||(r.onmouseover=Z,r.onmousemove=oe,r.onmouseout=K);o.system.mobile&&(r.addEventListener("touchstart",(function(e){e.cancelBubble=!0,!exist(e.clientX)&&e.touches.length>0&&(e.clientX=e.touches[0].pageX,e.clientY=e.touches[0].pageY),m=e,Z(e),Q(e)})),r.addEventListener("touchend",(function(e){e.cancelBubble=!0,K(),Y(m)})),r.addEventListener("click",(function(e){e.cancelBubble=!0})),r.addEventListener("touchmove",(function(e){!exist(e.clientX)&&e.touches.length>0&&(e.clientX=e.touches[0].pageX,e.clientY=e.touches[0].pageY),m=e,oe(e)})));css(r,{left:-w.w/2-w.bgpaddingleft}),css(r,{top:-w.h/2-w.bgpaddingtop}),D.appendChild(r)}();var R=createElement("div");css(R,{position:"absolute",bottom:0,left:Math.round(-w.w/2),transition:"transform 0.2s ease-in-out"}),exist(w.dom)&&""!=w.dom&&attr(D,{id:v.id+"_control_"+w.dom}),D.appendChild(R),"line"==t&&1==v.thumbs&&function(){y=createElement("div"),css(y,{position:"absolute",left:0,top:0,width:v.thumb_width,height:v.thumb_height,overflow:"hidden","pointer-events":"none","background-color":"#000","border-radius":v.thumb_radius+"px",display:"none"}),1==v.thumb_border&&css(y,{border:v.thumb_borderwidth+"px solid #"+v.thumb_bordercolor});1==v.thumb_shadow&&css(y,{"box-shadow":"0px 1px 5px rgba(0,0,0,0.5)"});y.style.zIndex="999",D.appendChild(y)}(),1==w.tip&&function(){f=createElement("div"),css(f,{position:"absolute",left:0,top:0,height:"auto","pointer-events":"none",opacity:0,transition:"opacity 0.1s linear"}),h=createElement("div"),w=MarginPadding(w,"tippadding","tippadding"),css(h,{position:"absolute",left:0,top:0,width:"100%",height:30,"background-color":w.tipbgcolor,opacity:w.tipbga,"border-radius":w.tipbgrounding}),p=createElement("div"),css(p,{position:"absolute",left:w.tippaddingright,top:w.tippaddingtop,color:w.tipcolor,"font-family":w.tipfont,"font-size":w.tipfontsize,"letter-spacing":w.tipletterspacing+"px","line-height":"1",opacity:w.tipa}),w.tippointer=w.linetippointer,1==w.tippointer&&((g=createElement("div")).innerHTML='<svg width="8px" height="6px" viewBox="0 0 8 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon id="Rectangle" stroke="none" fill="#'+w.tipbgcolor+'" fill-rule="evenodd" points="0 0 8 0 4 6"></polygon></svg>');D.appendChild(f),f.appendChild(h),f.appendChild(p),1==w.tippointer&&(f.appendChild(g),css(g,{position:"absolute",left:"50%","margin-left":"-4px",bottom:"-8px",opacity:w.tipbga}))}();var L=createElement("div");if(H(L,.3,1==w.gradient?"linear-gradient(#"+w.gradientcolorbg+", #"+w.colorbg+")":w.colorbg,w.w,w.abg),1==w.customdesign&&exist(w.customdesignsvg)){var C=createElement("div");C.innerHTML=w.customdesignsvg.replace(/\#FFFFFF/g,"#"+w.colorbg),L.appendChild(C),css(C,{position:"absolute",bottom:-Math.round(w.h/2),left:0,"pointer-events":"none"}),css(L,{overflow:"hidden",background:"none"});for(var P=["path","polygon","polyline","rect","ellipse"],I=0;I<P.length;I++){if((X=C.querySelectorAll("svg "+P[I])).length>0)for(var M=0;M<X.length;M++)X[M].style.fill=w.colorbg}}R.appendChild(L);var O=createElement("div");if(H(O,w.linespeed1,1==w.gradient?"linear-gradient(#"+w.gradientcolorload+", #"+w.colorload+")":w.colorload,0,w.aload),R.appendChild(O),1==w.bufferline){var U=createElement("div");R.appendChild(U),hide(U)}if(w.aover>0){var j=createElement("div");H(j,w.linespeed2,w.colorover,0,w.aover),R.appendChild(j)}var F=createElement("div");if(H(F,w.linespeed3,1==w.gradient?"linear-gradient(#"+w.gradientcolor+", #"+w.color+")":w.color,0,w.a),1==w.customdesign&&exist(w.customdesignsvg)){var W=createElement("div");W.innerHTML=w.customdesignsvg.replace(/\#FFFFFF/g,"#"+w.color),css(W,{position:"absolute",bottom:-Math.round(w.h/2),left:0,"pointer-events":"none"}),css(F,{overflow:"hidden",background:"none"}),F.appendChild(W)}if(1==w.value){var V=createElement("div");w=MarginPadding(w,"valuepadding","valuepadding"),w=MarginPadding(w,"valuemargin","valuemargin"),css(V,{position:"absolute",bottom:w.h/2,right:0,"pointer-events":"none","font-size":w.valuesize+"px",color:w.valuecolor,"line-height":"100%","padding-top":w.valuepaddingtop,"padding-bottom":w.valuepaddingbottom,"padding-left":w.valuepaddingleft,"padding-right":w.valuepaddingright,"margin-top":w.valuemargintop,"margin-bottom":w.valuemarginbottom,"margin-left":w.valuemarginleft,"margin-right":w.valuemarginright,"border-radius":w.valuerounding+"px",display:"none"}),1==w.valuebg&&css(V,{background:"#"+w.valuebgcolor}),F.appendChild(V);var q=!1,B=!1}if(o.timeline_h=w.h,R.appendChild(F),1==w.pointed){v.pointed=1;var N=createElement("div");css(N,{position:"absolute",top:0,left:0}),D.appendChild(N),exist(v.points)&&ee(v.points)}if(1==w.handle)if(w.handleicon.toString().indexOf("<svg")>-1){if((u=createElement("div")).innerHTML=w.handleicon.toString(),w=MarginPadding(w,"handlemargin","handlemargin"),css(u,{position:"absolute",top:-10+w.handlemargintop-w.handlemarginbottom,left:-1e3,"pointer-events":"none",height:20,width:w.handle_width,opacity:w.handlea}),1==w.handlehide?css(u,{transform:"scale(0)"}):1!=w.handlescale&&css(u,{transform:"scale("+w.handlescale+")"}),D.appendChild(u),-1!=w.handlecolor)for(P=["path","rect","ellipse"],I=0;I<P.length;I++){var X;if((X=u.querySelectorAll("svg "+P[I])).length>0)for(M=0;M<X.length;M++)X[M].style.fill="#"+w.handlecolor}w.handlewidth=u.offsetWidth}else w.handle=0;function H(e,t,i,o,n){css(e,{position:"absolute",bottom:Math.round(-w.h/2),left:0,width:o,height:w.h,background:i?i.indexOf("linear")>-1?i:"#"+i:"","border-radius":w.rounding*w.h/2,opacity:n,"pointer-events":"none",transition:"width "+t+"s linear"})}function G(e){if(e!=n){n=e,o.timeline_w=n;var i=n/L.offsetWidth;css(r,{width:n+w.bgpaddingleft+w.bgpaddingright,left:-n/2-w.bgpaddingleft}),css(R,{left:-n/2}),css(L,{width:n});var s=O.offsetWidth*i;s>L.offsetWidth&&(s=L.offsetWidth),css(O,{width:s}),css(F,{width:F.offsetWidth*i}),U&&(hidden(U)||Buffering()),z(F.offsetWidth*i,!1),"line"==t&&function(){if(o.continue&&1==v.timestore){var e=o.continue.flag();e.t&&e.d&&ne(e.t,e.d)}}(),1==w.pointed&&te()}}function z(e,t){if(1==w.handle){e<w.handlewidth/2&&20!=w.handle_width&&(e=w.handlewidth/2),e>n-w.handlewidth/2&&20!=w.handle_width&&(e=n-w.handlewidth/2);var i={left:i=e-n/2-w.handlewidth/2+w.handlemarginleft-w.handlemarginright};t&&(i.transition="none"),css(u,i)}}function Z(i){if(o.controls.Mouse(e,"over"),-1!=w.bgaover&&1==w.bg)new Motion({mc:r,type:"alpha_div",to:w.bgaover,time:.1,me:e+"bg"});if(1==w.handle)if(1==w.handleiconsover&&exist(w.handleiconover)&&(1==w.handleiconspress&&l||(u.innerHTML="<svg width='"+w.handle_width+"' height='20' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>"+w.handleiconover.toString()+"</svg>")),1==w.handlehide)css(u,{transform:"scale("+w.handlescale+")",transition:"all "+w.slidespeed+"s linear"});else if(-1!=w.handleaover)new Motion({mc:u,type:"alpha_div",to:w.handleaover,time:.1,me:e+"handle"});1==w.tip&&(o.media.duration()>0||"volume"==t)&&(show(f),css(f,{opacity:1})),w.expand>0&&(css(r,{transform:"scaleY("+((w.expand-1)/5+1)+")"}),css(R,{transform:"scaleY("+w.expand+")"})),"volume"==t&&(o.actions.volumewheel(!0),o.volumewheel=!0),o.controlover=!0}function K(){if(!c){if(w.aover>0&&css(j,{width:0}),-1!=w.bgaover&&1==w.bg)new Motion({mc:r,type:"alpha_div",to:w.bga,time:.1,me:e+"bg"});if(1==w.handle)if(1==w.handleiconsover&&exist(w.handleiconover)&&(1==w.handleiconspress&&l||(u.innerHTML="<svg width='"+w.handle_width+"' height='20' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>"+w.handleicon.toString()+"</svg>")),1==w.handlehide)css(u,{transform:"scale(0)",transition:"all "+w.slidespeed+"s linear"});else if(-1!=w.handleaover)new Motion({mc:u,type:"alpha_div",to:w.handlea,time:.1,me:e+"handle"});w.expand>0&&(css(r,{transform:"scaleY(1)"}),css(R,{transform:"scaleY(1)"})),"volume"!=t||o.fullscreen||(o.actions.volumewheel(!1),o.volumewheel=!1),o.controls.Mouse(e,"out")}1==w.tip&&(o.media.duration()>0||"volume"==t)&&(hide(f),css(f,{opacity:0})),o.thumbs_on&&"line"==t&&(hide2(y),A=-1),o.controlover=!1}function J(e){e.cancelBubble=!0}function Y(i){"volume"==t&&o.hidden_volume_over&&(c=!0,clearTimeout(b),b=setTimeout((function(){c=!1,K()}),1e3)),ie(),o.mouseDown=!1,1==w.handle&&1==w.handleiconspress&&exist(w.handleiconpress)&&(u.innerHTML="<svg width='20' height='20' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>"+w.handleicon.toString()+"</svg>"),$(i.clientX,i.clientY),o.controls.ControlClick(e),o.controls.StageMouseUp(i.clientX,i.clientY),i.cancelBubble=!0}function Q(e){l=!0,1==w.handle&&1==w.handleiconspress&&exist(w.handleiconpress)&&(u.innerHTML="<svg width='20' height='20' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'>"+w.handleiconpress.toString()+"</svg>"),E=findTop(r),k=findLeft(r),$(e.clientX,e.clientY),ne(d,1,"no")}function $(e,t){var i,o=document.documentElement.scrollLeft;t+=document.documentElement.scrollTop,e+=o,w.vertical>0?(i=t-E+n/2-w.bgpaddingright,d=i/n,270==w.vertical&&(i=t-E+n/2-w.bgpaddingleft,d=-1*((d=i/n)-1))):(i=e-k-w.bgpaddingleft,d=i/n,w.rotation>134&&w.rotation<235&&(i=e-k-w.bgpaddingright,d=-1*((d=i/n)-1)))}function ee(){if(S)for(var e=0;e<S.length;e++)N.removeChild(S[e]);if(S=[],v.points){for(e=0;e<Object.keys(v.points).length;e++)v.points[e].time&&(S[e]=createElement("div"),css(S[e],{position:"absolute",left:0,top:-w.h/2,width:exist(v.points[e].width)?v.points[e].width:w.pointw,height:w.h,opacity:exist(v.points[e].opacity)?v.points[e].opacity:w.pointa,"pointer-events":"none",display:"none","background-color":exist(v.points[e].color)?v.points[e].color:w.pointcolor}),S[e].time=v.points[e].time,N.appendChild(S[e]));te()}}function te(){for(var e=o.media.duration(),t=0;t<S.length;t++)e>0?css(S[t],{left:n*(S[t].time/e)-n/2,display:"block"}):hide2(S[t])}function ie(){l=!1}function oe(e){if(w.aover>0&&(o.start||"line"!=t)&&css(j,{width:e.clientX-k}),1==w.tip&&(o.media.duration()>0||"volume"==t)&&(!isVisible(f)&&show(f),E=findTop(r),k=findLeft(r),$(e.clientX,e.clientY),"line"==t&&(o.media.isLive()&&o.media.currentFile().indexOf("?DVR")>0&&1==v.hlsdvrtime?p.innerHTML="- "+timeFormat((1-d)*o.media.duration()):p.innerHTML=timeFormat(d*o.media.duration())),"volume"==t&&(p.innerHTML=Math.round(100*d)),css(f,{top:2*-p.offsetHeight-1*w.linetipmarginbottom-(1==w.toptip?w.h/2*(w.expand>0?w.expand:1):0),left:-n/2+(e.clientX+document.documentElement.scrollLeft-k)-f.offsetWidth/2,height:w.tippaddingtop+w.tipfontsize+w.tippaddingbottom,width:w.tippaddingleft+p.offsetWidth+w.tippaddingright}),css(h,{height:f.offsetHeight}),f.style.zIndex="1000"),o.thumbs_on&&"line"==t&&o.media.duration()>0){0==w.tip&&(E=findTop(r),k=findLeft(r),$(e.clientX,e.clientY));var i=-n/2+(e.clientX-k)-v.thumb_width/2;i>n/2-v.thumb_width&&(i=n/2-v.thumb_width),css(y,{top:-v.thumb_height-5-v.thumb_border,left:i<-n/2?-n/2:i}),function(e){if(1==v.thumbs&&o.thumbs_on){var t=-1;if(exist(o.thumbs)&&o.thumbs.length>0)for(var i=o.thumbs.length-1;i>=0;i--)if(e>=o.thumbs[i].t1&&e<=o.thumbs[i].t2){t=i;break}if(-1!=t&&A!=t){if(exist(o.thumbs[t]))if(exist(o.thumbs[t].url)){var n=o.thumbs[t].url;if(n.indexOf(".")>-1)if(!isVisible(y)&&show2(y),css(y,{"background-image":"url("+o.thumbs[t].url+")"}),n.indexOf("xywh")>0){var r=n.substr(n.indexOf("xywh")+5).split(",");4==r.length&&(css(y,{"background-position-y":"-"+parseInt(r[1])+"px","background-position-x":"-"+parseInt(r[0])+"px",width:parseInt(r[2])+"px",height:parseInt(r[3])+"px","background-size":"auto"}),v.thumb_width=r[2],v.thumb_height=r[3])}else css(y,{"background-size":"cover"})}else hide2(y)}else-1==t&&hide2(y);A=t}}(d*o.media.duration())}}function ne(e,i,o){var r;(e<0&&(e=0),l&&1!=i)||(i>0&&e>0?(e>i&&(e=i),(r=n*(e/i))==F.offsetWidth&&(r=-1)):r=0,r>=0&&(css(F,{width:r,transition:"no"!=o?"width "+w.slidespeed+"s linear":"none"}),z(r,!0)),exist(V)&&(i<2&&"line"==t?q&&(hide2(V),q=!1):(q||(show2(V),q=!0),V.innerHTML="line"==t?Time(0==e?i:e):Math.ceil(100*e),r<V.clientWidth+w.valuemarginright+w.valuemarginleft?B||(css(V,{left:0,right:"auto"}),B=!0):B&&(css(V,{right:0,left:"auto"}),B=!1))))}0!=w.rotation&&css(D,{transform:"rotate("+w.rotation+"deg)"}),1==w.hidden&&(hide(D),x=!1),"volume"==t&&(1==w.hide&&1==w.hideoutmute?(o.hidden_volume=!0,w.hidden=!0):o.hidden_volume=!1),w.vertical=0,0!=w.rotation&&(w.rotation2=Math.abs(w.rotation),w.rotation2>45&&w.rotation2<135&&(w.vertical=90),w.rotation2>225&&w.rotation2<315&&(w.vertical=270)),this.PlacePoints=function(){te()},this.RenewPoints=function(){ee()},this.c=function(){return D},this.s=function(e){return w[e]},this.ss=function(e,t){return w[e][t]},this.g=function(i){switch(i){case"width":return n;case"offsetwidth":return L.offsetWidth;case"height":return w.h;case"x":return int(D.style.left);case"y":return int(D.style.top);case"opacity":return D.style.opacity?D.style.opacity:1;case"show":return x;case"scaleX":return T;case"scaleY":return _;case"action":return t;case"key":return e;case"x0":return s;case"y0":return a;case"click":return d;default:return!1}},this.set=function(e,i){switch(e){case"show":x=i;break;case"mouseDown":l=i;break;case"display":"line"==t||1==w.hide?css(D,{visibility:i?"visible":"hidden"}):css(D,{display:i?"block":"none"}),x=i;break;case"scaleX":css(D,{transform:"scaleX("+i+")"}),T=i;break;case"scaleY":css(D,{transform:"scaleY("+i+")"}),_=i;break;case"opacity":css(D,{opacity:i});break;case"left":case"x":css(D,{left:i});break;case"top":case"y":css(D,{top:i});break;case"click":d=i;break;case"width":css(D,{width:i});break;case"height":css(D,{height:i});break;case"over_final":w.roundingver_final=i;break;case"x0":s=i;break;case"y0":a=i}},this.Resize=function(e){G(e)},this.StageLeave=function(e){},this.StageMove=function(i,n){l&&("volume"==t&&($(i,n),o.controls.ControlClick(e),o.hidden_volume_over=!0),$(i,n),ne(d,1,"no"))},this.StageMouseUp=function(t,i){l&&(ie(),l=!1,$(t,i),o.controls.ControlClick(e),ne(d,1,"no"))},this.UpdatePlay=function(e,t,i){null==t&&null==e||ne(e,t,i)},this.UpdatePlaySeek=function(){d>1&&(d=1),d<0&&(d=0),css(F,{width:d*n,transition:"none"})},this.UpdateLoad=function(e,t){t>0&&e>0?(css(O,{width:int(n*(e/t))}),t,e):(0,css(O,{width:0}))},this.Remove=function(){D.removeChild(R),r&&(r.removeAttribute("onclick"),r.removeAttribute("onmouseover"),r.removeAttribute("onmouseout"),r.parentNode.removeChild(r),delete r),u&&D.removeChild(u),o.frame.removeChild(D),delete D}},ControlsBg=function(){var e,t=[],i=!0,n=1,r=1,s=0,a=0,l=random(1e5,2e5);for(var c in t.position=v.toolbar.position,v.toolbar)v.toolbar.hasOwnProperty(c)&&(t[c]=v.toolbar[c]);0==t.show&&(v.toolbar.h=t.h=0,t.padding=t.margin="0 0 0 0",t.gradient=0),t.scale=1,t=MarginPadding(t,"margin","margin"),t=MarginPadding(t,"marginproc","marginproc"),exist(t.paddingtop)&&20!=t.paddingtop&&"-20 0 0 0"==t.margin&&(t.margintop=t.paddingtop);var d=createElement("div");css(d,{position:"absolute",left:0,top:0,width:1==t.stretchonfullscreen?"100%":o.normal_w,height:t.h-t.margintop,opacity_:t.a,"pointer-events":"none",fontSize:"14px",lineHeight:"1em"}),o.frame.appendChild(d);var u=createElement("div");if(css(u,{position_:"absolute",left_:0,top_:0,width_:"100%",height:t.h-t.marginbottom-t.margintop,opacity:t.a,display:"block","margin-left":t.marginleft,"margin-right":t.marginright,"border-radius":t.rounding}),d.appendChild(u),e=d.offsetWidth,v.toolbar_margintop=-t.margintop,1==t.gradient)if("000000"==t.color||""!=v.toolbar.image){v.toolbar_margintop=98-t.h;var f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==";v.toolbar.image.indexOf("data:image")>-1&&(f=v.toolbar.image),css(u,{height:t.h+v.toolbar_margintop,background:"url("+f+") repeat-x 50% 100%","background-size":"auto"})}else{var h="to bottom, rgba("+hexToRgb(t.color)+",0), rgba("+hexToRgb(t.color)+",1)";css(u,{background:"-moz-linear-gradient("+h+")",background:"-webkit-linear-gradient("+h+")",background:"-ms-linear-gradient("+h+")",background:"-o-linear-gradient("+h+")",background:"linear-gradient("+h+")"})}else css(u,{"background-color":t.color});this.c=function(){return d},this.s=function(e){return t[e]},this.g=function(t){switch(t){case"w":return d.offsetWidth>0&&(e=d.offsetWidth),e;case"width":return d.offsetWidth;case"height":return d.offsetHeight;case"x":return int(d.style.left);case"y":return int(d.style.top);case"opacity":return d.style.opacity?d.style.opacity:1;case"show":return i;case"scaleX":return n;case"scaleY":return r;case"key":return"bg";case"x0":return s;case"y0":return a;case"motion_id":return"bg"+l;default:return!1}},this.set=function(t,o){switch(t){case"show":i=o;break;case"w":e=o;break;case"display":css(d,{display:o?"block":"none"}),i=o;break;case"scale":css(d,{transform:"scale("+o+")"}),n=o,r=o;break;case"scaleX":css(d,{transform:"scaleX("+o+")"}),n=o;break;case"scaleY":css(d,{transform:"scaleY("+o+")"}),r=o;break;case"opacity":css(d,{opacity:o});break;case"left":case"x":css(d,{left:o});break;case"top":case"y":css(d,{top:o});break;case"width":css(d,{width:o});break;case"height":css(d,{height:o});break;case"x0":s=o;break;case"y0":a=o}},this.Remove=function(){o.frame.removeChild(d),delete d}},Settings=function(is){var i,style=[],f=[],fbg=[],fimg=[],ftitle=[],fvalue=[],faction=[],f2=[],f2bg=[],f2img=[],f2title=[],f2value=[],f2action=[],stout=[],is_visible=!1,open_action,open_settings=-1,empty=!0,key=is,playlist,history=[],shuffle=[],shuffle_=[],plid="",plfolder="",plx=-1,sub_settings_on=!1,sub_settings=!1,autonextopenfolder=!1,autoprevopenfolder=!1,justshow=!1,showinterval,arrinterval,wheelinterval;style=UpdateObject(style,v[is]),style=MarginPadding(v[is],"margin","margin"),0==style.marginbg&&(style.marginbgpadding="0 0 0 0"),style=MarginPadding(v[is],"bgpadding","marginbgpadding"),style=MarginPadding(v[is],"padding","padding"),style.scrollwidth=0;var _activeIcon="<svg width='"+2*style.activeiconsize+"' height='"+(2*style.activeiconsize>style.valuefontsize?2*style.activeiconsize:style.valuefontsize)+"' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' ><g><ellipse ry='"+style.activeiconsize+"' rx='"+style.activeiconsize+"' cy='"+(2*style.activeiconsize>style.valuefontsize?style.activeiconsize:style.valuefontsize/2)+"' cx='"+style.activeiconsize+"' fill='#"+style.valuecolor+"'/></g></svg>",_xIcon="<svg width='"+2*style.activeiconsize+"' height='"+style.valuefontsize+"' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' ><g><ellipse ry='"+(style.activeiconsize-1)+"' rx='"+(style.activeiconsize-1)+"' cy='"+(style.valuefontsize/2+2)+"' cx='"+style.activeiconsize+"' stroke='#"+style.valuecolor+"' stroke='1' fill-opacity='0'/></g></svg>",xx=4,_nextIcon="<svg width='"+(xx+2)+"' height='"+style.valuefontsize+"' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'><g><line x1='1' y1='"+(style.valuefontsize/2-xx)+"' x2='"+xx+"' y2='"+style.valuefontsize/2+"' stroke='#"+style.color+"' stroke-width='1' stroke-linecap='round'/><line x1='"+xx+"' y1='"+style.valuefontsize/2+"' x2='1' y2='"+(style.valuefontsize/2+xx)+"' stroke='#"+style.color+"' stroke-width='1' stroke-linecap='round'/></g></svg>",container=createElement("div");o.frame.appendChild(container),css(container,{overflow:"hidden",display:"block",opacity:0,"border-radius":style.rounding}),container.style.zIndex="settings"==is?100:99;var control=createElement("div");if(container.appendChild(control),css(control,{position:"relative",top:0,left:0,display:"block",width:"100%","padding-top":style.bgpaddingtop,"padding-right":style.bgpaddingright+20,"padding-bottom":style.bgpaddingbottom,"padding-left":style.bgpaddingleft,color:style.color,"font-size":style.fontsize,"font-family":style.font,"letter-spacing":style.letterspacing+"px"}),"playlist"!==is&&css(control,{"overflow-y":"scroll"}),"playlist"==is&&(attr(control,{id:v.id+"_"+is}),1==style.floatleft?(css(control,{width:"100%","padding-right":style.bgpaddingright,"padding-bottom":style.bgpaddingbottom+20,"overflow-x":"scroll","white-space":"nowrap"}),css(container,{width:o.screen_w-style.marginright-style.marginleft,height:style.floatheight+style.bgpaddingtop+style.bgpaddingbottom})):(css(control,{"overflow-y":"scroll"}),1==style.width100&&css(control,{width:o.screen_w})),1==style.marginbg&&css(container,{"background-color":style.marginbgcolor})),1==style.scrollarrows){var arr_up=createElement("div"),scrollbgcolor=hexToRgb(1==style.marginbg?style.marginbgcolor:style.bgcolor);1==style.floatleft?(StyleArrow(arr_up,"to right, rgba("+scrollbgcolor+","+(1*style.bga+.3)+"), rgba("+scrollbgcolor+",0)","left",12,5,7,10,7,10,12,15),o.system.mobile?arr_up.addEventListener("touchstart",ScrollLeft):arr_up.addEventListener("click",ScrollLeft)):(StyleArrow(arr_up,"to bottom, rgba("+scrollbgcolor+","+(1*style.bga+.3)+"), rgba("+scrollbgcolor+",0)","top",5,12,10,7,10,7,15,12),o.system.mobile?arr_up.addEventListener("touchstart",ScrollUp):arr_up.addEventListener("click",ScrollUp));var arr_down=createElement("div");1==style.floatleft?(StyleArrow(arr_down,"to left, rgba("+scrollbgcolor+","+(1*style.bga+.3)+"), rgba("+scrollbgcolor+",0)","right",8,5,13,10,13,10,8,15),o.system.mobile?arr_down.addEventListener("touchstart",ScrollRight):arr_down.addEventListener("click",ScrollRight)):(StyleArrow(arr_down,"to bottom, rgba("+scrollbgcolor+",0), rgba("+scrollbgcolor+","+(1*style.bga+.3)+")","bottom",5,8,10,13,10,13,15,8),o.system.mobile?arr_down.addEventListener("touchstart",ScrollDown):arr_down.addEventListener("click",ScrollDown)),control.addEventListener("wheel",Wheel,{passive:!0}),arr_up.addEventListener("mouseup",onMouseUp),arr_down.addEventListener("mouseup",onMouseUp),container.appendChild(arr_up),container.appendChild(arr_down),clearInterval(arrinterval),arrinterval=setInterval(ArrowsInterval,1e3)}if(o.system.mobile?(control.ontouchstart=ControlOver,control.ontouchend=ControlOut):(control.onmouseover=ControlOver,control.onmouseout=ControlOut),"settings"==is)for(var i=1;i<11;i++)exist(v["control_"+is][is+i])&&(v.settings[is+i]=v["control_"+is][is+i],exist(v["control_"+is][is+i+"title"])&&(v.settings[is+i+"title"]=v["control_"+is][is+i+"title"]),exist(v["control_"+is][is+i+"action"])&&(v.settings[is+i+"action"]=v["control_"+is][is+i+"action"])),exist(v.settings[is+i])&&1==v.settings[is+i]&&(CreateItem("f",i),StyleItem(f[i],fbg[i],ftitle[i],fvalue[i]),ftitle[i].innerHTML=Lang(v.settings[is+i+"action"]),exist(v.settings[is+i+"title"])&&""!=v.settings[is+i+"title"]&&(ftitle[i].innerHTML=v.settings[is+i+"title"]),exist(v.settings[is+i+"action"])&&(faction[i]=v.settings[is+i+"action"],Value(i)),o.system.mobile?(f[i].addEventListener("touchstart",onOver),f[i].addEventListener("touchend",onOut)):(f[i].addEventListener("mouseover",onOver),f[i].addEventListener("mouseout",onOut)),f[i].addEventListener("click",onClick),f[i].addEventListener("mouseup",onMouseUp));function Wheel(){clearInterval(wheelinterval),wheelinterval=setInterval(ControlOut,3e3)}function ControlOver(){o.mouseDown=!0}function ControlOut(){1==style.showovercontrol&&(clearTimeout(o.settingsovertimer),o.settingsovertimer=setTimeout((function(){o.mouseDown||HideControl()}),1e3)),o.mouseDown=!1}function onOver(event){o.fullscreen&&o.volumewheel&&o.actions.volumewheel(!1);var i=event.target.getAttribute("fid"),x;if(i?x="f":event.target.getAttribute("f2id")&&(i=event.target.getAttribute("f2id"),x="f2"),i&&(i=parseInt(i),exist(eval(x)[i])&&("playlist"==is&&1==style.posters&&1==style.postertitleonhover&&(show(eval(x+"title")[i]),css(eval(x+"title")[i],{opacity:1})),style.bgaover>-1&&css(eval(x+"bg")[i],{opacity:style.bgaover}),style.aover>-1&&(css(eval(x+"title")[i],{opacity:style.aover}),css(eval(x+"value")[i],{opacity:style.aover})),css(eval(x+"bg")[i],{backgroundColor:style.bgcolorover}),"playlist"==is&&0==faction[i].indexOf("playlist")))){var id=faction[i].substr(8);plid==id||plfolder==id?(css(eval(x+"title")[i],{color:style.valuecolor}),css(eval(x+"value")[i],{color:style.valuecolor})):css(eval(x+"title")[i],{color:style.color})}}function onOut(event){o.fullscreen&&o.volumewheel&&o.actions.volumewheel(!0);var i=event.target.getAttribute("fid"),x;if(i?x="f":event.target.getAttribute("f2id")&&(i=event.target.getAttribute("f2id"),x="f2"),i&&exist(eval(x)[i])&&("playlist"==is&&1==style.posters&&1==style.postertitleonhover&&css(eval(x+"title")[i],{opacity:0}),css(eval(x+"bg")[i],{backgroundColor:style.bgcolor}),style.bgaover>-1&&css(eval(x+"bg")[i],{opacity:style.bga,transition:"opacity 0.1s linear"}),style.aover>-1&&(css(eval(x+"title")[i],{opacity:style.a,transition:"opacity 0.1s linear"}),css(eval(x+"value")[i],{opacity:style.a,transition:"opacity 0.1s linear"})),"playlist"==is&&0==faction[i].indexOf("playlist"))){var id=faction[i].substr(8);plid==id||plfolder==id?(css(eval(x+"title")[i],{color:style.valuecolor}),css(eval(x+"value")[i],{color:style.valuecolor})):exist(history[id])?HistoryPlaylist(i):css(eval(x+"title")[i],{color:style.color})}}function onClick(e){if(!justshow){var t=new Date;o.clicktime=t.getTime();var i=e.target.getAttribute("fid");i&&exist(f[i])&&exist(faction[i])&&Action(i)}}function onMouseUp(e){e.cancelBubble=!0}function onClick2(e){if(!justshow){var t=new Date;o.clicktime=t.getTime();var i=e.target.getAttribute("f2id");i&&(0==i?Home():exist(f2action[i])&&Action2(i))}}function onClickSubtitle(e){var t=e.target.getAttribute("setupx");t&&ActionSubtitle(t)}function onClickSubtitle2(e){var t=e.target.getAttribute("f2id");if(exist(f2action[t])&&f2action[t].indexOf("=")>0){var i=f2action[t].substr(0,f2action[t].indexOf("=")),n=f2action[t].substr(f2action[t].indexOf("=")+1);v[i]=n,o.storage&&1==v.sub_designstore&&localStorage.setItem("pljs"+i,n),o.actions.RenewSubtitle(),ActionSubtitle(i)}}function Value(e){if(exist(faction[e])){var t=!1,i=!1,n="";"settings"==is&&("quality"==faction[e]&&(n=o.media.getQuality(),o.files_quality.length<2?t=!0:i=!0),"audiotrack"==faction[e]&&(n=o.media.getAudioTrack(),o.files_audiotrack.length<2?t=!0:i=!0),"airplay"==faction[e]&&(o.airplay?i=!0:t=!0),"subtitle"==faction[e]&&(exist(o.subs)?(i=!0,n=o.subtitle_on?o.files_subtitle[o.current_subtitle]:""):t=!0),"speed"==faction[e]&&(n=o.files_speed[o.current_speed],i=!0,"vimeo"==o.file_type&&(t=!0,i=!1))),fvalue[e].innerHTML=n,t&&(hide(f[e]),"settings"==is&&(stout[e]&&clearTimeout(stout[e]),o.controls?o.controls.SettingsN(e,!1,n):stout[e]=setTimeout((function(){o.controls.SettingsN(e,!1,n)}),500)),css(f[e],{position:"absolute",right:0,top:-100})),i&&(1==style.floatleft?css(f[e],{display:"inline-block"}):show(f[e]),"settings"==is&&(stout[e]&&clearTimeout(stout[e]),o.controls?o.controls.SettingsN(e,!0,n):stout[e]=setTimeout((function(){o.controls.SettingsN(e,!0,n)}),500)),css(f[e],{position:"relative",right:0,top:0})),Resize()}for(var r=1;r<f.length;r++)if(f[r]&&isVisible(f[r])){var s=!1;empty&&(s=!0),empty=!1,s&&o.controls&&o.controls.refresh()}}function Action(e){if(exist(faction[e])){var t=VisibleItems();if(open_action!=faction[e]){if("quality"==(open_action=faction[e])||"audiotrack"==open_action||"subtitle"==open_action||"speed"==open_action){open_settings=e;var i=[];if(exist(Object.assign))i=Object.assign([],o["files_"+open_action]);else for(var n in o["files_"+open_action])o["files_"+open_action].hasOwnProperty(n)&&(i[n]=o["files_"+open_action][n]);for(var r=o["current_"+open_action],s=o["pressed_"+open_action],a=1;a<f.length;a++)f[a]&&(f[a].style.display="none");if(f2=[],CreateItem("f2",0),StyleItem(f2[0],f2bg[0],f2title[0],f2value[0]),css(f2[0],{"border-bottom":"1px solid "+(1==style.bordercolored?"#"+style.bordercolor.replace("#",""):"rgba(100,100,100,0.7)")}),f2title[0].innerHTML=exist(v.settings[is+e+"title"])?v.settings[is+e+"title"]:Lang(v.settings[is+e+"action"]),"subtitle"==open_action&&(f2value[0].innerHTML=Lang("params"),css(f2value[0],{color:style.color,"text-decoration":"underline",pointerEvents:"auto"}),f2value[0].addEventListener("click",SubtitleSettings),sub_settings_on))for(a=0;a<o.sub_options.length;a++)i.push("pjslng_"+o.sub_options[a]);if(css(f2title[0],{"font-size":style.headfontsize}),f2action[0]="home",t[0]>1?(o.system.mobile?(f2[0].addEventListener("touchstart",onOver),f2[0].addEventListener("touchend",onOut)):(f2[0].addEventListener("mouseover",onOver),f2[0].addEventListener("mouseout",onOut)),f2[0].addEventListener("click",onClick2),f2[0].addEventListener("mouseup",onMouseUp)):css(f2[0],{cursor:"default"}),1==style.nohead&&hide2(f2[0]),exist(i))for(a=0;a<i.length;a++){var l=a+1,c=!1;if(""!=trim(i[a])){if("quality"==open_action&&i[a]==Lang("auto")&&(c=!0),CreateItem("f2",l,c),StyleItem(f2[l],f2bg[l],f2title[l],f2value[l]),"string"==typeof i[a]&&0==i[a].indexOf("pjslng")?(f2title[l].innerHTML=Lang(i[a].substr(7)),"pjslng_sub_sizeproc"==i[a]&&css(f2[l],{"border-top":"1px solid rgba(100,100,100,0.7)"})):f2title[l].innerHTML=i[a],f2action[l]=open_action+a,r!=a&&s!=a||(f2value[l].innerHTML=r==a?_activeIcon:_xIcon,r==a&&css(f2title[l],{color:style.valuecolor})),"string"==typeof i[a]&&0==i[a].indexOf("pjslng")){var d=i[a].substr(7);d.indexOf("color")>0?f2value[l].innerHTML="<div style='"+("000000"==v[d]?"border:1px solid #999;height:8px;width:8px;":"height:10px;width:10px;")+";background-color:"+(-1==v[d].indexOf("#")?"#":"")+v[d]+";border-radius:10px;'></div>":f2value[l].innerHTML=v[i[a].substr(7)]}"quality"==open_action&&(i[a]==Lang("auto")&&o.media.autoQuality()&&css(f2title[l],{color:style.valuecolor}),exist(v.forbidden_quality)&&v.forbidden_quality.indexOf(i[a])>-1&&hide2(f2[l]));var u="";"string"==typeof i[a]&&0==i[a].indexOf("pjslng")&&(attr(f2[l],{f2parent:e,setupx:i[a].substr(7)}),u="onClickSubtitle"),o.system.mobile?(f2[l].addEventListener("touchstart",onOver),f2[l].addEventListener("touchend",onOut)):(f2[l].addEventListener("mouseover",onOver),f2[l].addEventListener("mouseout",onOut)),"onClickSubtitle"==u?f2[l].addEventListener("click",onClickSubtitle):f2[l].addEventListener("click",onClick2),f2[l].addEventListener("mouseup",onMouseUp)}}Resize()}if("download"==faction[e]&&o.actions.Download(),faction[e].indexOf("playlist")>-1){var h=faction[e].substr(8);exist(o.playlist_dic[h])&&(exist(o.playlist_dic[h].file)?(o.seekto=void 0,ActionPlaylist(e),exist(o.playlist_dic[h].start)&&(v.start=o.seekto=o.playlist_dic[h].start),exist(o.playlist_dic[h].redirect)&&1==v.redirect&&1==v.redirectplaylist?redirect(o.playlist_dic[h].redirect):(o.actions.NewFile(o.playlist_dic[h].file),0==v.playlist.always&&1==v.playlist.autohide&&setTimeout(HideControl,200),autonextopenfolder=!1,autoprevopenfolder=!1,UpdateVars(h))):exist(o.playlist_dic[h].folder)&&(UpdatePlaylist(o.playlist_dic[h]),autonextopenfolder?-1==plx&&Action(0):autoprevopenfolder&&-1==plx&&Action(parseInt(f.length)-2)))}"airplay"==faction[e]&&o.media.Airplay()}}}function ActionSubtitle(e){for(var t=0;t<f2.length;t++)f2[t]&&(f2[t].style.display="none");f2=[],CreateItem("f2",0),StyleItem(f2[0],f2bg[0],f2title[0],f2value[0]),css(f2[0],{"border-bottom":"1px solid "+(1==style.bordercolored?"#"+style.bordercolor.replace("#",""):"rgba(100,100,100,0.7)")}),f2title[0].innerHTML=Lang(e),css(f2title[0],{"font-size":style.headfontsize}),o.system.mobile?(f2[0].addEventListener("touchstart",onOver),f2[0].addEventListener("touchend",onOut)):(f2[0].addEventListener("mouseover",onOver),f2[0].addEventListener("mouseout",onOut)),f2[0].addEventListener("click",SubtitleSettingsMenu),f2[0].addEventListener("mouseup",onMouseUp);var i=[],n=!1;if(e.indexOf("size")>0&&(i=["50%","75%","100%","150%","200%","250%","300%","400%"]),e.indexOf("bga")>0&&(i=["0","0.2","0.3","0.4","0.5","0.6","0.7","0.8","0.9","1"]),e.indexOf("weight")>0&&(i=[200,400,600]),e.indexOf("bottom")>0)for(t=0;t<21;t++)i[t]=10*t;if(e.indexOf("shadow")>0&&(n=!0,i=[0,1]),e.indexOf("color")>0){i=["ffffff","ffeeab","72ccf8","62de50","faed54","feba54","e8bbff","ffc7d1","aaaaaa","d9bb8c","b3fee8","4bd9ac","FEF370","D90000","073DA0","409829","644082","000000"];var r=v[e].replace("#","");-1==i.indexOf(r)&&(i[8]=r)}for(y=1;y<=i.length;y++)CreateItem("f2",y,!1),StyleItem(f2[y],f2bg[y],f2title[y],f2value[y]),css(f2value[y],{"padding-left":0}),e.indexOf("color")>0||e.indexOf("bottom")>0?(y%3!=0&&css(f2[y],{float:"left"}),css(f2[y],{width:"33.3%"}),e.indexOf("color")>0?(f2title[y].innerHTML="<div style='"+("000000"==i[y-1]?"border:1px solid #999;height:18px;width:18px;":"height:20px;width:20px;")+";background-color:#"+i[y-1]+";border-radius:20px;'></div>",css(f2[y],{"line-height":1})):f2title[y].innerHTML=i[y-1]):e.indexOf("weight")>0?f2title[y].innerHTML=i[y-1]:(y%2!=0&&css(f2[y],{float:"left"}),css(f2[y],{width:"50%"}),f2title[y].innerHTML=n?Lang(i[y-1]+"val"):i[y-1]),f2action[y]=e+"="+i[y-1],i[y-1]!=v[e]&&v[e]!="#"+i[y-1]||(f2value[y].innerHTML=_activeIcon,css(f2title[y],{color:style.valuecolor})),o.system.mobile?(f2[y].addEventListener("touchstart",onOver),f2[y].addEventListener("touchend",onOut)):(f2[y].addEventListener("mouseover",onOver),f2[y].addEventListener("mouseout",onOut)),f2[y].addEventListener("click",onClickSubtitle2),f2[y].addEventListener("mouseup",onMouseUp);Resize()}function UpdateVars(e){exist(o.playlist_dic[e].poster)&&(v.poster=o.playlist_dic[e].poster,exist(v.poster)&&o.media.Poster(v.poster)),exist(o.playlist_dic[e].thumbnails)&&(v.thumbnails=o.playlist_dic[e].thumbnails),exist(o.playlist_dic[e].title)&&(o.titlestore=o.playlist_dic[e].title,1==v.showtitleplaylist&&(v.title=(1==v.addtitleplaylist&&exist(o.maintitle)?o.maintitle+(1==v.addtitleplaylistbr?"<br>":" "):"")+o.playlist_dic[e].title,o.actions.Title("title"))),exist(o.playlist_dic[e].url)&&(v.url=o.playlist_dic[e].url),1==v.pointed&&(exist(o.playlist_dic[e].points)?v.points=o.playlist_dic[e].points:v.points=[],o.controls.RenewPoints()),exist(o.playlist_dic[e].vars)&&(v.vars=o.playlist_dic[e].vars),exist(o.playlist_dic[e].embed)&&(v.embed=o.playlist_dic[e].embed),v.start=0,exist(o.playlist_dic[e].start)&&(v.start=o.seekto=o.playlist_dic[e].start),exist(o.playlist_dic[e].end)&&(v.end=o.playlist_dic[e].end),exist(o.playlist_dic[e].heartbeat)&&(v.heartbeat=o.playlist_dic[e].heartbeat),exist(o.playlist_dic[e].sub)&&(o.playlist_dic[e].subtitle=o.playlist_dic[e].sub),exist(o.playlist_dic[e].subtitle)&&o.media.SubtitleStart(o.playlist_dic[e].subtitle),exist(o.playlist_dic[e].design)&&apiProcessor("design",o.playlist_dic[e].design)}function ActionPlaylist(e){0!=plx||o.start?(plx>-1&&HistoryPlaylist(plx),""!=plid&&(history[plid]=!0,delete shuffle[plid])):(css(ftitle[plx],{color:style.color}),fvalue[plx].innerHTML="");var t=faction[e].substr(8);fvalue[e].innerHTML=_activeIcon,css(ftitle[e],{color:style.valuecolor,"text-decoration":"none",opacity:style.a}),plx=e,plid=t,o.plid=plid,v.plstart=plid,o.playlist_title=ftitle[e].innerHTML,plfolder=o.playlist_dic[t].pjs_parent,o.controls&&o.controls.PlaylistControls()}function UpdatePlaylist(e){for(var t=0;t<f.length;t++)control.removeChild(f[t]),delete f[t];if(f=[],plx=-1,exist(e.folder)){CreateItem("f",n=Object.keys(e.folder).length),faction[n]="playlistfolder",StyleItem(f[n],fbg[n],ftitle[n],fvalue[n]),1==style.floatleft&&css(f[n],{width:1==style.floatlimitwidth?style.floatwidth:"auto",height:style.floatheight}),1==style.borderbottom&&(1==style.floatleft?css(f[n],{borderRight:"1px solid #"+style.headbordercolor}):css(f[n],{borderBottom:"1px solid #"+style.headbordercolor})),ftitle[n].innerHTML=e.title,css(ftitle[n],{"font-size":style.headfontsize});var i=e.pjs_parent;o.system.mobile?(f[n].addEventListener("touchstart",onOver),f[n].addEventListener("touchend",onOut)):(f[n].addEventListener("mouseover",onOver),f[n].addEventListener("mouseout",onOut)),f[n].addEventListener("click",(function(){PlaylistBack(i)})),e=e.folder}var n=Object.keys(e).length;shuffle=[],shuffle_=[];for(t=0;t<n;t++){if(CreateItem("f",t),faction[t]="playlist"+e[t].id,exist(history[e[t].id])||exist(e[t].folder)||(shuffle[e[t].id]=t,shuffle_[e[t].id]=t),StyleItem(f[t],fbg[t],ftitle[t],fvalue[t]),1==style.floatleft&&css(f[t],{width:1==style.floatlimitwidth?style.floatwidth:"auto",height:style.floatheight}),1==style.borderbottom&&t<n-1){var r=createElement("div");f[t].appendChild(r),1==style.floatleft?css(r,{position:"absolute",top:0,right:0,width:1,height:"100%",background:"#"+style.bordercolor}):css(r,{position:"absolute",bottom:0,left:0,width:"100%",height:1,background:"#"+style.bordercolor})}ftitle[t].innerHTML=e[t].title?e[t].title:"&nbsp;",exist(e[t].poster)&&1==style.posters&&(css(fimg[t],{"background-image":"url("+e[t].poster+")","background-repeat":"no-repeat","background-position":"50% 50%","background-size":"cover",border:"1px solid #000"}),css(f[t],{height:style.posterheight}),css(ftitle[t],{height:98,width:"100%",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x  0 0",transition:"opacity 0.2s linear"}),1==style.postertitleonhover&&(hide(ftitle[t]),css(ftitle[t],{opacity:0}))),exist(e[t].folder)&&(fvalue[t].innerHTML=_nextIcon,css(fvalue[t],{color:style.color})),o.system.mobile?(f[t].addEventListener("touchstart",onOver),f[t].addEventListener("touchend",onOut)):(f[t].addEventListener("mouseover",onOver),f[t].addEventListener("mouseout",onOut)),f[t].addEventListener("click",onClick),f[t].addEventListener("mouseup",onMouseUp),exist(history[e[t].id])&&HistoryPlaylist(t),plid==e[t].id&&ActionPlaylist(t),plfolder==e[t].id&&(css(ftitle[t],{color:style.valuecolor}),css(fvalue[t],{color:style.valuecolor})),Resize()}empty=!1,o.controls&&o.controls.refresh()}function StyleArrow(e,t,i,n,r,s,a,l,c,d,u){var f=1==style.floatleft?"40px":"100%",h=1==style.floatleft?"100%":"40px";css(e,{position:"absolute",display:"inline-block",width:f,height:h,"text-align":"center"}),1==style.scrollarrowgradient&&css(e,{background:"-moz-linear-gradient("+t+")",background:"-webkit-linear-gradient("+t+")",background:"-ms-linear-gradient("+t+")",background:"-o-linear-gradient("+t+")",background:"linear-gradient("+t+")"}),1==style.floatleft||o.system.mobile?css(e,{cursor:"pointer"}):css(e,{"pointer-events":"none"}),1==style.limitwidth&&css(e,{"max-width":style.limitmaxwidth+"px!important"}),"top"==i&&css(e,{top:-1,left:0}),"bottom"==i&&css(e,{bottom:-1,left:0}),"left"==i&&css(e,{top:0,left:0}),"right"==i&&css(e,{top:0,right:0}),"right"!=i&&"left"!=i||css(e,{"text-align":"left","padding-top":container.offsetHeight/2-10}),e.innerHTML="<center><div "+(1==style.scrollarrowbgover?"onMouseOver='this.style.backgroundColor=\"#"+style.scrollarrowbgovercolor+"\"' onMouseOut='"+(1==style.scrollarrowbg?'this.style.backgroundColor="#'+style.scrollarrowbgcolor:'this.style.background="none')+"\"'":"")+" style='pointer-events:auto;cursor:pointer;width:20px;height:20px;border-radius:20px;"+(1==style.scrollarrowbg?"background-color:#"+style.scrollarrowbgcolor+";":"")+("top"==i?"margin-top:10px;":"")+("bottom"==i?"margin-top:10px;":"")+("right"==i?"margin-left:0px;":"")+("left"==i?"margin-right:0px;":"")+"'><svg width='20' height='20' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'><g><line x1='"+n+"' y1='"+r+"' x2='"+s+"' y2='"+a+"' stroke='#"+style.scrollarrowcolor+"' stroke-width='"+style.scrollarrowsize+"' stroke-linecap='round'/><line x1='"+l+"' y1='"+c+"' x2='"+d+"' y2='"+u+"' stroke='#"+style.scrollarrowcolor+"' stroke-width='"+style.scrollarrowsize+"' stroke-linecap='round'/></g></svg></div></center>"}function ArrowsInterval(){is_visible&&Arrows()}function Arrows(e){if(1==style.scrollarrows){if(1==style.floatleft)var t=control.scrollWidth,i=container.offsetWidth+style.bgpaddingleft+style.bgpaddingright,o=control.scrollLeft;else t=control.scrollHeight,i=container.offsetHeight,o=control.scrollTop;if(t>i){if(o>0){if(!isVisible(arr_up)){show(arr_up);new Motion({mc:arr_up,type:"alpha_div",to:1,time:.3,me:"arr_up"})}}else{if(isVisible(arr_up))new Motion({mc:arr_up,type:"alpha_div",to:0,time:.3,me:"arr_up",hide:!0});e&&e.deltaY<0&&e.preventDefault()}if(o<t-i-10){if(!isVisible(arr_down)){show(arr_down);new Motion({mc:arr_down,type:"alpha_div",to:1,time:.3,me:"arr_down"})}}else{if(isVisible(arr_down))new Motion({mc:arr_down,type:"alpha_div",to:0,time:.3,me:"arr_down",hide:!0});e&&e.deltaY>0&&e.preventDefault()}}else hide(arr_up),hide(arr_down)}}function ScrollDown(){var e=control.scrollTop+container.offsetHeight-60;new Motion({mc:control,type:"scroll",to:e,time:.3,me:"scroll_down",ease:"cubic"});setTimeout(Arrows,1e3)}function ScrollUp(){var e=control.scrollTop-container.offsetHeight+60;new Motion({mc:control,type:"scroll",to:e,time:.3,me:"scroll_up",ease:"cubic"});setTimeout(Arrows,1e3)}function ScrollRight(){var e=control.scrollLeft+(container.offsetWidth+style.bgpaddingleft+style.bgpaddingright)-60;new Motion({mc:control,type:"scrollleft",to:e,time:.3,me:"scroll_right",ease:"cubic"});setTimeout(Arrows,1e3)}function ScrollLeft(){var e=control.scrollLeft-(container.offsetWidth+style.bgpaddingleft+style.bgpaddingright)+60;new Motion({mc:control,type:"scrollleft",to:e,time:.3,me:"scroll_left",ease:"cubic"});setTimeout(Arrows,1e3)}function PlaylistBack(e){""==e?UpdatePlaylist(o.playlist):exist(o.playlist_dic[e])&&UpdatePlaylist(o.playlist_dic[e]),open_action=""}function HistoryPlaylist(e){fvalue[e].innerHTML="",css(ftitle[e],{color:style.historycolor}),1==style.historytitlestrike&&css(ftitle[e],{"text-decoration":"line-through"}),style.historytitlea>-1&&css(ftitle[e],{opacity:style.historytitlea}),css(fbg[e],{backgroundColor:style.historybgcolor}),style.historybga>-1&&css(fbg[e],{opacity:style.historybga})}function Action2(e){if(exist(f2action[e])&&(0==f2action[e].indexOf("quality")&&o.actions.SetQuality(f2action[e].substr(7)),0==f2action[e].indexOf("audiotrack")&&o.actions.SetAudioTrack(f2action[e].substr(10)),0==f2action[e].indexOf("subtitle")&&o.actions.SetSubtitle(f2action[e].substr(8)),0==f2action[e].indexOf("speed"))){o.actions.SetSpeed(f2action[e].substr(5));for(e=0;e<faction.length;e++)"speed"==faction[e]&&(Value(e),"speed"==open_action&&(Remove2(),Action(e)));setTimeout(HideControl,200)}}function CreateItem(x,i,totheend){exist(eval(x))&&(eval(x)[i]=createElement("div"),i<2||"f"==x||"quality"!=open_action||totheend?control.appendChild(eval(x)[i]):control.insertBefore(eval(x)[i],eval(x)[i-1]),"f"==x&&attr(eval(x)[i],{fid:i}),"f2"==x&&attr(eval(x)[i],{f2id:i}),eval(x+"bg")[i]=createElement("div"),eval(x)[i].appendChild(eval(x+"bg")[i]),eval(x+"img")[i]=createElement("div"),eval(x)[i].appendChild(eval(x+"img")[i]),css(eval(x+"img")[i],{position:"absolute",right:0,top:0,width:"100%",height:"100%",pointerEvents:"none"}),eval(x+"title")[i]=createElement("div"),eval(x)[i].appendChild(eval(x+"title")[i]),eval(x+"value")[i]=createElement("div"),eval(x)[i].appendChild(eval(x+"value")[i]),"f2"==x&&"settings"==is&&0==style.activeicon&&hide2(eval(x+"value")[i]))}function StyleItem(e,t,i,o){css(e,{position:"relative",right:0,top:0,cursor:"pointer",height:"auto",overflow:"hidden",width:"100%",display:"block","line-height":"1.5em"}),style.floatmarginright&&1==style.floatleft&&css(e,{marginRight:style.floatmarginright}),1==style.floatleft&&css(e,{display:"inline-block","vertical-align":"top","white-space":"normal"}),css(t,{position:"absolute",right:0,top:0,width:"100%",height:"100%",backgroundColor:style.bgcolor,opacity:style.bga,pointerEvents:"none",transition:"opacity 0.2s linear,background .2s linear"}),css(i,{position:"relative",right:0,top:0,float:"left",color:style.color,"padding-top":style.paddingtop,"padding-right":style.paddingright,"padding-bottom":style.paddingbottom,"padding-left":style.paddingleft,pointerEvents:"none",opacity:style.a,transition:"opacity 0.2s linear,color 0.2s linear"}),css(o,{position:"relative",right:0,top:0,float:"right","padding-top":style.paddingtop+(style.fontsize-style.valuefontsize)/2,"padding-right":style.paddingright,"padding-left":style.paddingleft,pointerEvents:"none","font-size":style.valuefontsize,opacity:style.a,color:style.valuecolor,transition:"opacity 0.2s linear,color 0.2s linear"}),1==style.limitwidth?(css(e,{"max-width":style.limitmaxwidth+"px!important"}),css(i,{"max-width":style.limitmaxwidth-70+"px!important"})):1==style.floatleft?1==style.floatlimitwidth&&(css(e,{width:style.floatwidth}),css(i,{width:style.floatwidth-70})):(css(i,{"white-space":"nowrap"}),css(o,{"white-space":"nowrap"}))}function Home(){for(var e=1;e<f.length;e++)exist(f[e])&&(1==style.floatleft?f[e].style.display="inline-block":f[e].style.display="block");Remove2(),Resize(),open_action="",open_settings=-1}function Remove2(){for(var e=0;e<f2.length;e++)f2[e]&&(control.removeChild(f2[e]),delete f2[e]);f2=[],open_action=""}function Width(){return control.offsetWidth}function ResizePlaylist(){"playlist"==is&&(1==style.floatleft&&css(container,{width:o.screen_w-style.marginright-style.marginleft}),1==style.width100&&css(control,{width:o.screen_w}))}function Resize(){"settings"==is&&o.controls&&o.controls.resizeSettings(),"playlist"==is&&(ResizePlaylist(),o.controls&&o.controls.resizePlaylist());var e=f[0];f.length>1&&!e&&(f[1]&&(e=f[1])),f.length>2&&!e&&(f[2]&&(e=f[2])),e&&0==e.offsetWidth&&f2.length>0&&(e=f2[0]),control.offsetWidth-control.clientWidth>0&&e?(exist(arr_up)&&css(arr_up,{width:e.offsetWidth}),exist(arr_down)&&css(arr_down,{width:e.offsetWidth}),style.scrollwidth=control.offsetWidth-e.offsetWidth-(control.clientWidth-e.clientWidth)):style.scrollwidth=0}function VisibleItems(){for(var e=0,t=0,i="",o=1;o<f.length;o++)exist(f[o])&&isVisible(f[o])&&(e++,t=o,i=faction[o]);return[e,t,i]}function SubtitleSettings(){sub_settings_on=!sub_settings_on,SubtitleSettingsMenu()}function SubtitleSettingsMenu(){Home();for(var e=0;e<faction.length;e++)"subtitle"==faction[e]&&Action(e)}function HideControl(e){if("settings"==is&&1==v.settings.always);else{if(1!=e||1==style.hidesmoothly&&1==style.always){new Motion({mc:container,type:"alpha_div",to:0,time:.1,me:is,ease:"elastic"});setTimeout((function(){css(container,{visibility:"hidden",opacity:0,top:-2e3}),is_visible=!1}),200)}else css(container,{visibility:"hidden",opacity:0,top:-2e3}),is_visible=!1;"playlist"==is&&1==v.playlist.hidecontrol&&o.controls&&o.controls.toggleControl("playlist",!0)}}function ShowTimeout(){clearInterval(showinterval),justshow=!1}function showById(e){exist(o.playlist_dic[e])&&(plfolder="",UpdatePlaylist(o.playlist),FindPlStart(o.playlist_dic[e]),ActionPlaylist(o.playlist_dic[e].pjs_i),UpdateVars(e),o.lunchfileonstart=o.playlist_dic[e].file,exist(v.poster)&&o.media.Poster(v.poster))}function ScrollTo(e){if(f[e]){if(1==style.floatleft){var t=f[e].offsetLeft-20;new Motion({mc:control,type:"scrollleft",to:t,time:.3,me:"scroll_left",ease:"cubic"})}else t=f[e].offsetTop-container.offsetHeight/2+20,new Motion({mc:control,type:"scroll",to:t,time:.3,me:"scroll_down",ease:"cubic"});setTimeout(Arrows,1e3)}}function Shuffle(e){var t=Object.keys(e);return e[t[t.length*Math.random()<<0]]}function FindPlStart(e){-1!=e.pjs_parent_i&&(FindPlStart(o.playlist_dic[e.pjs_parent]),UpdatePlaylist(o.playlist_dic[e.pjs_parent]))}this.Arrows=function(){1==style.scrollarrows&&Arrows()},this.resizePlaylist=function(){ResizePlaylist()},this.c=function(){return container},this.co=function(){if(container.contains(control))return control},this.s=function(e){return style[e]},this.ss=function(e){return style},this.show=function(){Home(),css(container,{visibility:"visible",opacity:1,transition:"opacity 0.2s linear"}),is_visible=!0;var e=VisibleItems();1==e[0]&&("quality"!=e[2]&&"audiotrack"!=e[2]&&"subtitle"!=e[2]&&"speed"!=e[2]||Action(e[1])),o.controls&&("settings"==is&&o.controls.resizeSettings(),"playlist"==is&&(o.controls.resizePlaylist(),1==v.playlist.hidecontrol&&o.controls.toggleControl("playlist",!1))),justshow=!0,clearInterval(showinterval),showinterval=setInterval(ShowTimeout,100)},this.open=function(e){Action(e)},this.hide=function(e){HideControl(e)},this.SetQuality=function(){for(var e=0;e<faction.length;e++)"quality"==faction[e]&&(Value(e),o.files_quality.length>1&&show(f[e]),"quality"==open_action&&(Remove2(),Action(e)))},this.Airplay=function(){for(var e=0;e<faction.length;e++)"airplay"==faction[e]&&Value(e)},this.SetAudioTrack=function(){for(var e=0;e<faction.length;e++)"audiotrack"==faction[e]&&(Value(e),o.files_audiotrack.length>1&&show(f[e]),"audiotrack"==open_action&&(Remove2(),Action(e)))},this.SetSubtitle=function(){for(var e=0;e<faction.length;e++)"subtitle"==faction[e]&&(Value(e),o.files_subtitle&&o.files_subtitle.length>0&&show(f[e]),"subtitle"==open_action&&(Remove2(),Action(e)))},this.updatePlaylist=function(e){if(UpdatePlaylist(e),exist(v.plstart)){if(0!=v.plstart.indexOf("x-"))for(var t in o.playlist_dic)o.playlist_dic.hasOwnProperty(t)&&o.playlist_dic[t].pjs_id==v.plstart&&(v.plstart=t);if(exist(o.playlist_dic[v.plstart]))FindPlStart(o.playlist_dic[v.plstart]),ActionPlaylist(t=o.playlist_dic[v.plstart].pjs_i),1==v.playlist.openplaylistroot?(UpdatePlaylist(o.playlist),setTimeout((function(){Resize()}),500)):setTimeout((function(){ScrollTo(t),Resize()}),500),v.plstart=void 0;else ActionPlaylist(0)}else ActionPlaylist(0)},this.playById=function(e){exist(o.playlist_dic[e])&&(FindPlStart(o.playlist_dic[e]),Action(o.playlist_dic[e].pjs_i))},this.openById=function(e){exist(o.playlist_dic[e])&&(FindPlStart(o.playlist_dic[e]),ActionPlaylist(o.playlist_dic[e].pjs_i),exist(v.poster)&&o.media.Poster(v.poster),o.actions.NewFile(o.playlist_dic[e].file,1),UpdateVars(e))},this.PlaylistNext=function(){if(autonextopenfolder=!0,e=parseInt(plx)+1,""!=plid&&(history[plid]=!0,delete shuffle[plid]),1==v.shuffle){if(0==Object.keys(shuffle).length&&1==v.shuffle8)for(var e in shuffle_.sort((function(e,t){return Math.random()-.5})),shuffle_)shuffle_.hasOwnProperty(e)&&(shuffle[e]=shuffle_[e]);e=Shuffle(shuffle)}else if(("playlistfolder"==faction[e]||-1==plx)&&""!=plid){var t=Object.keys(o.playlist_dic).indexOf(plid);if(t<Object.keys(o.playlist_dic).length){var i=o.playlist_dic[Object.keys(o.playlist_dic)[t+1]];i&&(exist(i.folder)&&(i=o.playlist_dic[Object.keys(o.playlist_dic)[t+2]]),this.openById(i.id),e=-1,o.actions.Play())}}e>-1&&(Action(e),ScrollTo(e))},this.PlaylistNextExist=function(){if(1==v.shuffle)return Object.keys(shuffle).length>0;var e=!1;return o.playlist_dic&&(e=Object.keys(o.playlist_dic).indexOf(plid)<Object.keys(o.playlist_dic).length-1),e},this.PlaylistRewind=function(){exist(o.pl_first_id)&&showById(o.pl_first_id)},this.PlaylistPrevExist=function(){return plx>0},this.PlaylistExist=function(){return exist(o.playlist_dic)},this.PlaylistPrev=function(){if(autoprevopenfolder=!0,plx>0){var e=parseInt(plx)-1;Action(e),ScrollTo(e)}},this.g=function(e){switch(e){case"width":return Width();case"height":return container.offsetHeight;case"x":return int(container.style.left);case"y":return int(container.style.top);case"opacity":return container.style.opacity;case"show":return is_visible;case"open":return open_settings;case"key":return key;case"motion_id":return key+motion_id;case"empty":return empty;case"playlist":return"playlist"==is}},this.empty=function(){if("settings"==is){for(var e=0,t=1;t<11;t++){if("quality"==faction[t]){var i=o.files_quality.length;if(exist(v.forbidden_quality))for(var n=v.forbidden_quality.split(","),r=0;r<n.length;r++)o.files_quality.indexOf(n[r])>-1&&i--;i>1&&e++}"airplay"==faction[t]&&o.airplay&&e++,"audiotrack"==faction[t]&&o.files_audiotrack.length>0&&e++,"subtitle"==faction[t]&&exist(o.subs)&&e++,exist(ftitle[t])&&"quality"!=faction[t]&&"audiotrack"!=faction[t]&&"subtitle"!=faction[t]&&("speed"==faction[t]&&"vimeo"==o.file_type||e++)}return 0==e}return"playlist"==is?0==f.length:empty},this.Remove=function(){container.parentNode==o.frame&&(container.removeChild(control),o.frame.removeChild(container),delete container,delete control)}};function VisibleCheck(){exist(options.id)&&document.getElementById(options.id)&&(isHidden(document.getElementById(options.id))?setTimeout(VisibleCheck,500):Init())}function Init(){for(var e=0;e<pljssglobal.length;e++)pljssglobal[e].api("id")==options.id&&pljssglobal[e].api("playing")&&pljssglobal[e].api("stop");pljssglobal.push(o.this);var t=!1;if(exist(options.player))for(e=2;e<10;e++)options.player==e&&""!=o["u"+e]&&(v=UpdateObject(v,JSON.parse(decode(o["u"+e]))),t=!0);for(var i in""==o.u||t||(v=UpdateObject(v,"object"!=typeof o.u?JSON.parse(decode(o.u)):o.u)),options)options.hasOwnProperty(i)&&0==i.indexOf("rc_")&&delete options[i];for(var i in v=UpdateObject(v,options),o.compilation)o.compilation.hasOwnProperty(i)&&""!=o.compilation[i]&&(o.compilations+=o.compilation[i]+" ");log(o.version+" "+o.compilations),pljssglobalid=v.id,o.d=location.hostname,prtObj();var n,r,s=["async","src","parentNode","https://www.google-analytics.com/analytics.js","srvsga","UA-88484718-","auto","pjs","require","linker","linker:autoLink","pjs.send","event","Player","Init","gaid","indexOf","create","user","getDate","GoogleAnalyticsObject","createElement","getElementsByTagName"];n=s,r=157,function(e){for(;--e;)n.push(n.shift())}(++r);var a,l,c,d,u,f,h,p=function(e,t){return s[e-=0]},g=new Date,y=0;if(1==g[p("0x0")]()&&(y=7),10==g[p("0x0")]()&&(y=5),20==g.getDate()&&(y=6),10!=random(1,20)&&(y=0),(y>0||1==v.ga)&&(a=window,l=document,c="script",d=p("0x7"),u="ga",a[p("0x1")]=u,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,f=l[p("0x2")](c),h=l[p("0x3")](c)[0],f[p("0x4")]=1,f[p("0x5")]=d,h[p("0x6")].insertBefore(f,h),o.pjsga=!0,y>0&&0!=v[p("0x8")]&&!options[p("0x8")]&&(ga("create",p("0x9")+y,p("0xa"),{name:p("0xb"),allowLinker:!0}),ga(p("0xc"),p("0xd")),ga(p("0xe"),[o.d]),ga(p("0xf"),p("0x10"),{eventCategory:p("0x11"),eventAction:p("0x12"),eventLabel:o.d})),v.ga_proc<100&&1!=random(1,100/v.ga_proc)&&(v.ga=0),1==v.ga&&exist(v[p("0x13")])&&(0==v[p("0x13")][p("0x14")]("UA")?ga(p("0x15"),v.gaid,p("0xa"),{name:p("0x16"),allowLinker:!0}):v.ga=0),o.ga=!0),setTimeout((function(){gaTracker("init","Init",!0)}),2e3),o.container=document.getElementById(v.id),o.container.innerHTML="",css(o.container,{padding:0,"word-spacing":"normal"}),o.container_h=o.container.offsetHeight,o.container_w=o.container.offsetWidth,exist(v.playersize)&&!exist(v.aspect)&&(exist(v.playersize.aspect)&&(v.aspect=v.playersize.aspect),exist(v.playersize.changeheight)&&(v.changeheight=v.playersize.changeheight)),("off"==v.aspect||o.container.style.height.indexOf("%")>-1)&&(v.aspect="%",o.container_h_procent=o.container.style.height,o.container_h=0),0==o.container_w&&(o.container.style.width.indexOf("px")>0?o.container_w=parseInt(o.container.style.width):o.container.parentNode.style.width.indexOf("px")>0?o.container_w=parseInt(o.container.parentNode.style.width):o.container.parentNode.parentNode.style.width.indexOf("px")>0&&(o.container_w=parseInt(o.container.parentNode.parentNode.style.width))),v.aspect.indexOf("x")>0?(o.aspect=v.aspect.split("x")[0]/v.aspect.split("x")[1],0==o.container_h&&(o.container_h=o.container_w/o.aspect)):o.aspect=0,css(o.container,{position:"relative","box-sizing":"content-box","text-align":"left","-webkit-user-select":"none",overflow:"hidden",fontFamily:"sans-serif","min-height":30,fontSize:"14px","line-height":"1em"}),1==v.shadow&&0==v.rounding&&css(o.container,{"box-shadow":" 0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)"}),o.aspect>0?css(o.container,{height:o.container_h}):css(o.container,{height:0==o.container_h?o.container_h_procent:o.container_h}),o.frame=createElement("div"),css(o.frame,{position:"absolute","box-sizing":"content-box",backgroundColor:v.screencolor,color:"#ffffff",width:"100%",height:"100%",left:0,top:0,fontSize:"14px","line-height":"1em"}),1==v.transbg&&(o.frame.style.backgroundColor="transparent"),1==v.border&&0==v.rounding&&css(o.container,{border:v.bordersize+"px solid "+v.bordercolor}),o.css=document.createElement("style"),o.css.type="text/css",o.frame.appendChild(o.css),o.frame.setAttribute("id","oframe"+v.id),pushCSS("pjsdiv,pjsdiv>*{max-width:none!important;touch-action:manipulation;transform-origin:center center;box-sizing:content-box;-webkit-tap-highlight-color:transparent}pjsdiv img{max-width:none}pjsdiv>:focus{outline:0}pjsdiv,pjsdiv a,pjsdiv a:active,pjsdiv a:focus,pjsdiv a:hover,pjsdiv a:link,pjsdiv a:visited{color:#fff;font-size:100%}"),datetime(1),window.MutationObserver){var m=new MutationObserver((function(e){if(e[0].removedNodes.length>0)for(var t=0;t<e[0].removedNodes.length;t++)e[0].removedNodes[t]==o.frame&&Destroy()}));m.observe(o.container,{childList:!0})}function b(){clearTimeout(o.rightout),o.rightout=setTimeout((function(){hide2(o.rightmenu)}),3e3)}if(o.frameresize=createElement("iframe"),attr(o.frameresize,{id:"pjsfrrs"+v.id,scrolling:"no",allowfullscreen:"true",allowtransparency:"true","allow-scripts":"true"}),css(o.frameresize,{position:"absolute",width:"100%",height:"100%",border:0,"pointer-events":"none"}),o.frame.appendChild(o.frameresize),o.container.oncontextmenu=function(e){if(o.rightclick++,5==o.rightclick&&(v.log=1,log(o.version+" "+o.compilations+" "+o.playerid)),!e)e=window.event;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation();var t=e.pageX-findLeft(o.frame),i=e.pageY-findTop(o.frame);return 1==v.rc_custom&&exist(v.rc_label)&&""!=trim(v.rc_label)&&(o.brand=v.rc_label,exist(v.rc_labelurl)&&(o.brandurl=v.rc_labelurl)),-1!=o.brandurl.indexOf(o.d)&&1!=v.rc_anyway||(exist(o.rightmenu)?show2(o.rightmenu):(o.rightmenu=createElement("div"),o.rightmenu.innerHTML+=(""!=o.brandurl?"<a href='"+o.brandurl+"' target='_blank' style='text-decoration:none;'>":"")+o.brand+(1==v.rc_version?"<br>"+o.version:"")+(""!=o.brandurl?"</a>":""),css(o.rightmenu,{"text-transform":"uppercase",background:"rgba(50,50,50,0.7)",padding:"3px 7px","font-size":"45%","letter-spacing":"0.2em","line-height":"1.7","z-index":999}),o.rightmenu.onmousemove=b,o.frame.appendChild(o.rightmenu)),css(o.rightmenu,{position:"absolute",top:i,left:t}),clearTimeout(o.rightout),o.rightout=setTimeout((function(){hide2(o.rightmenu)}),2e3)),!1},o.system=new System,o.system.ios){var w=1==v.hidestartbutios?"*::-webkit-media-controls-start-playback-button{display: none!important;-webkit-appearance: none;}":"";(1!=v.nativecontrolsmobile||1==v.nativenotios||1==v.nativenotiphone&&o.system.iphone||1==v.nativenotipad&&o.system.ipad)&&(o.system.ios&&1==v.nativefullios||(w+="video::-webkit-media-controls{display:none!important}::-webkit-media-controls-panel{display:none!important;-webkit-appearance:none}::--webkit-media-controls-play-button{display:none!important;-webkit-appearance:none}"));var x=document.createElement("style");x.type="text/css",x.appendChild(document.createTextNode(w)),o.frame.appendChild(x)}if(parent){var T=!1;try{if(parent)if(parent.document){var _=parent.document.getElementsByTagName("IFRAME");for(e=0;e<_.length;e++)_[e].contentWindow===window&&(o.parentIframe=_[e],css(o.parentIframe,{border:"none"}),o.parentIframe_style=o.parentIframe.style)}else T=!0}catch(e){T=!0}T&&log("Cross-domain",o.system.fullscreen)}1==v.postmessage&&window.addEventListener("message",(function(e){var t=void 0;exist(e.data.time)&&(t=e.data.time),exist(e.data.volume)&&(t=e.data.volume),exist(e.data.method)&&(log("postMessage",e.data.method),apiProcessor(e.data.method,t)),exist(e.data.api)&&(exist(e.data.set)&&(t=e.data.set),log("postMessage",e.data.api),apiProcessor(e.data.api,t))})),exist(v.start)&&(o.seekto=v.start),Ready()}function Ready(){o.actions=new Actions,v.file||(v.file="?"),v.pl&&(v.file=v.pl+"//.txt//"),o.storage=StorageSupport(),o.storage&&1==v.qualitystore&&null!=localStorage.getItem("pljsquality")&&(o.default_quality=localStorage.getItem("pljsquality")),v.href2=v.href.substr(v.href.indexOf("://")+3),v.href2.indexOf("#")>0&&(v.href2=v.href2.substr(0,v.href2.indexOf("#"))),o.storage&&1==v.timestore&&(o.continue=new TimeStore),1==v.observer&&(o.visibility=v.startvisibility,Visibility(o.container)),o.media=new Media(v.file),o.system.mobile||(o.frame.addEventListener("mouseenter",(function(){o.mouseHere=!0,o.mouseHere2=!0,o.controls&&o.controls.StageOver()})),o.frame.addEventListener("mouseleave",(function(){o.mouseDown||(v.toolbar.hideleavetimeout>0?(clearTimeout(o.leavetimeout2),o.leavetimeout2=setTimeout((function(){o.mouseHere!=o.mouseHere2&&(o.mouseHere=o.mouseHere2,o.controls.Review())}),1e3*v.toolbar.hideleavetimeout)):o.mouseHere=!1,o.mouseHere2=!1,o.controls&&o.controls.StageLeave())})),o.frame.addEventListener("mousedown",(function(e){o.mouseDown=!0})),o.frame.addEventListener("mouseup",(function(e){o.mouseDown=!1,o.hidden_volume_over=!1,o.hidden_volume_over_process=!1,setTimeout((function(){o.focus=!0}),500),o.system.mobile&&o.controls.ToolbarHidden()||o.controls&&o.controls.StageMouseUp(e.clientX,e.clientY),1==v.hidevideo&&o.controls.SettingsVisible()&&o.controls.Settings()})),o.frame.addEventListener("mousemove",(function(e){exist(o.controls)&&(o.mouseDown?o.controls.StageMove(e.clientX,e.clientY):o.controls.StageMove2())}))),o.mediacontainer.addEventListener("touchstart",(function(e){o.mouseDown=!0,o.mouseHere=!0,o.mouseMove=!1}),{passive:!0}),o.mediacontainer.addEventListener("touchmove",(function(e){o.mouseDown&&(o.mouseMove=!0)}),{passive:!0}),o.mediacontainer.addEventListener("touchend",(function(e){o.mouseDown=!1,o.mouseHere=!1,!o.mouseMove&&ScreenClick(e),o.mouseMove=!1}),{passive:!0});try{window.document.addEventListener("mouseup",(function(e){o.focus=!1,o.hidden_volume_over=!1,o.hidden_volume_over_process=!1,o.mouseDown&&o.controls&&(o.mouseDown=!1,o.controls.StageMouseUp(e.clientX,e.clientY),o.controls.StageLeave()),o.mouseHere||o.system.mobile||o.system.tv||o.controls.SettingsClose()}))}catch(e){}if(window.document.addEventListener("mousemove",(function(e){o.controls&&o.mouseDown&&o.controls.StageMove(e.clientX,e.clientY)})),o.frame.addEventListener("touchstart",(function(e){o.touch=!0,o.mouseDown=!0}),{passive:!0}),o.frame.addEventListener("touchend",(function(e){o.touch=!1,o.mouseDown=!1}),{passive:!0}),window.document.addEventListener("touchmove",(function(e){o.controls&&o.touch&&o.controls.StageMove(e.touches[0].pageX,e.touches[0].pageY)}),{passive:!0}),window.document.addEventListener("keyup",(function(e){var t=e.target.tagName.toLowerCase();"input"!=t&&"textarea"!=t&&o.controls&&o.controls.KeyUp(e)})),window.document.addEventListener("keydown",(function(e){var t=e.target.tagName.toLowerCase();"input"!=t&&"textarea"!=t&&o.controls&&o.controls.KeyDown(e)})),window.addEventListener("unhandledrejection",(function(e){})),document.addEventListener("fullscreenchange",FullscreenChange,!1),document.addEventListener("mozfullscreenchange",FullscreenChange,!1),document.addEventListener("webkitfullscreenchange",FullscreenChange,!1),document.addEventListener("msfullscreenchange",FullscreenChange,!1),document.addEventListener("MSFullscreenChange",FullscreenChange,!1),o.frameresize.contentWindow.addEventListener("resize",Resize,!0),o.frameresize.contentWindow.onresize=Resize,o.system.mobile||o.mediacontainer.addEventListener("click",ScreenClick,!1),UpdateSize(),v.chromecast&&1==v.chromecast.on&&(o.chromecast=new ChromeCast),o.controls=new Controls,Title(),Resize(),o.storage&&1==v.volumestore&&0!=v.volume&&(null==localStorage.getItem("pljsvolume")||o.system.mobile||(v.volume=localStorage.getItem("pljsvolume")),1!=localStorage.getItem("pljsmute")||o.system.iphone||1!=v.mutestore||(v.mute=1)),o.storage&&1==v.sub_designstore)for(var j=0;j<o.sub_options.length;j++)null!=localStorage.getItem("pljs"+o.sub_options[j])&&(v[o.sub_options[j]]=localStorage.getItem("pljs"+o.sub_options[j]));if(o.continue){var f=o.continue.flag();f.t&&f.d&&(o.controls.Played(f.t,f.d),o.controls.Duration(f.t,f.d),v.duration=f.d)}if(o.actions.Volume(v.volume),1==v.mute&&(o.actions.Mute(),o.controls.refresh()),o.alert=new Alert,v.rounding>0&&PlayerRadius(),exist(v.midroll)&&""!=v.midroll)if("string"!=typeof v.midroll)o.midrollo=v.midroll;else if(0==v.midroll.indexOf("[{"))try{v.midroll=v.midroll.replace(/pjs'qt/gi,'"'),o.midrollo=eval(v.midroll)}catch(e){}js("init"),exist(o.playlist)&&js("playlist"),1==v.pass&&1==v.passonstart&&o.actions.Password();for(var i=2;i<10;i++)exist(v["design"+i])&&"mobile"==v["design"+i]&&o.system.mobile&&apiProcessor("design",i)}function ScreenClick(e){o.acted=!0,o.click_t&&1==v.screenclick?DoubleClick(e):(ClearClick(),o.click_t=setTimeout(ScreenClick2,500))}function ScreenClick2(){ClearClick(),o.system.mobile&&o.controls.ToolbarHidden()?o.controls.StageMove2():1==v.screenclick&&o.actions.ScreenClick()}function DoubleClick(e){ClearClick();var t,i=!1;1==v.hotkey.seeksides&&(e&&(t=o.system.mobile?e.layerX:e.offsetX)&&(t<o.screen_w/2?t<20*o.screen_w/100&&(apiProcessor("seek","-10"),i=!0):t>o.screen_w-20*o.screen_w/100&&(apiProcessor("seek","+10"),i=!0)));i||1!=v.doubleclick||(o.fullscreen?o.actions.Normalscreen():o.actions.Fullscreen())}function ClearClick(){clearTimeout(o.click_t),o.click_t=void 0}function Resize(e){UpdateSize(),o.controls&&o.controls.resize(),o.media.resize()}function UpdateSize(){var e=o.frame.offsetWidth,t=o.frame.offsetHeight;o.aspect>0&&!o.fullscreen&&!o.fullscreen_start&&(t=e/o.aspect,css(o.container,{height:t})),o.fullscreen||o.fullscreen_start||o.fullscreen_process||(o.normal_w=e,o.normal_h=t),o.system.mobile&&o.fullscreen&&1==v.landfullmobile&&screen.orientation&&(o.aspect>0&&o.aspect<1?screen.orientation.lock("portrait"):screen.orientation.lock("landscape")),o.screen_w=e,o.screen_h=t,exist(v.title)&&o.controls&&""!=v.title&&o.controls.updateTitle(),exist(o.custom_aspect)&&o.media.scale(o.custom_aspect)}function Title(){for(var e in v)v.hasOwnProperty(e)&&0==e.indexOf("title")&&""!=v[e]&&(o.maintitle=v[e],o.actions.Title(e))}function Poster(e,t,i){if(e&&""!=e){e=checkBase64(e);var o="contain";"fill"==i&&(o="cover"),"none"==i&&(o="auto"),"stretch"==i&&(o="100% 100%"),css(t,{background:"url("+e+") no-repeat center center","background-size":o}),show(t)}}function Logo(e){if(1==e.on&&exist(e.src)){e.src=checkBase64(e.src);var t=createElement("div");if(e.src.indexOf("http")>-1||0==e.src.indexOf("//")){var i=createElement("img");i.src=e.src,t.appendChild(i)}e=UpdateObject(e,v.logo),e=MarginPadding(e,"margin","margin"),css(t,{position:"absolute"}),e.position.indexOf("bottom")>-1&&css(t,{bottom:e.marginbottom}),e.position.indexOf("right")>-1&&css(t,{right:e.marginright}),e.position.indexOf("top")>-1&&css(t,{top:e.margintop}),e.position.indexOf("left")>-1&&css(t,{left:e.marginleft}),o.container.appendChild(t)}}function PlayerRadius(){o.oo=createElement("div");var e=v.rounding,t=[];t[1]=createElement("div"),t[1].innerHTML='<svg><path d="M0,0 L'+e+",0 Q0,0 0,"+e+' Z" fill="'+v.bgcolor+'"/></svg>',t[2]=createElement("div"),t[2].innerHTML='<svg><path d="M0,0 L'+e+",0 L"+e+","+e+" Q"+e+',0 0,0 Z" fill="'+v.bgcolor+'"/></svg>',t[3]=createElement("div"),t[3].innerHTML='<svg><path d="M'+e+",0 L"+e+","+e+" L0,"+e+" Q"+e+","+e+" "+e+',0 Z" fill="'+v.bgcolor+'"/></svg>',t[4]=createElement("div"),t[4].innerHTML='<svg><path d="M0,0 Q0,'+e+" "+e+","+e+" L0,"+e+' Z" fill="'+v.bgcolor+'"/></svg>',css(o.oo,{position:"absolute",top:0,left:0,"pointer-events":"none",height:"auto",overflow:"hidden",width:"100%",height:"100%"}),o.oo.style.zIndex=2e3,css(t[1],{position:"absolute",top:0,left:0}),css(t[2],{position:"absolute",top:0,right:0}),css(t[3],{position:"absolute",bottom:0,right:0}),css(t[4],{position:"absolute",bottom:0,left:0});for(var i=1;i<5;i++)css(t[i],{width:e,height:e,"line-height":0}),o.oo.appendChild(t[i]);o.container.appendChild(o.oo)}function FullscreenChange(){o.fullscreen&&!isFullscreen()?o.actions.NormalscreenUI(!0):o.actions.FullscreenUI(),log("fullscreen",o.fullscreen)}function isFullscreen(){return!!(document.webkitFullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||null!=document.fullscreenElement)}function isHidden(e){return 0==e.offsetWidth&&0==e.offsetHeight}function Destroy(){for(var e in o)e.indexOf("Interval")>-1&&clearInterval(o[e]);log("Destroyed")}"string"==typeof options&&optStr(),o.this=this,options.id&&(document.getElementById(options.id)?VisibleCheck():document.addEventListener("DOMContentLoaded",Init))}"undefined"!=typeof window&&function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Hls=t():e.Hls=t()}(this,(function(){return function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=29)}([function(e,t,i){"use strict";function o(){}function n(e,t){return"["+e+"] > "+t}function r(e){var t=d.console[e];return t?function(){for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];o[0]&&(o[0]=n(e,o[0])),t.apply(d.console,o)}:o}i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return f}));var s=i(5),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={trace:o,debug:o,log:o,warn:o,info:o,error:o},c=l,d=Object(s.a)(),u=function(e){if(!0===e||"object"===(void 0===e?"undefined":a(e))){!function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];i.forEach((function(t){c[t]=e[t]?e[t].bind(e):r(t)}))}(e,"debug","log","info","warn","error");try{c.log()}catch(e){c=l}}else c=l},f=c},function(e,t,i){"use strict";t.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return n}));var o={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},n={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var o=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=i(0),r=i(2),s=i(1),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=new Set(["hlsEventGeneric","hlsHandlerDestroying","hlsHandlerDestroyed"]),c=function(){function e(t){o(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"===a(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(l.has(e))throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var i="on"+e.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,t)}).call(this,e,t).call()}catch(t){n.b.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(s.a.ERROR,{type:r.b.OTHER_ERROR,details:r.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.a=c},function(e,t,i){"use strict";t.a=function(){return"undefined"==typeof window?self:window}},function(e,t,i){!function(t){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,o=/^([^\/;?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=this.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var r=this.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):t;var a=this.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=o.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(c.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var d=a.path,u=d.substring(0,d.lastIndexOf("/")+1)+r.path;c.path=s.normalizePath(u)}else c.path=a.path,r.params||(c.params=a.params,r.query||(c.query=a.query));return null===c.path&&(c.path=i.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(c)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=s}()},function(e,t,i){"use strict";t.a={search:function(e,t){for(var i=0,o=e.length-1,n=null,r=null;i<=o;){var s=t(r=e[n=(i+o)/2|0]);if(s>0)i=n+1;else{if(!(s<0))return r;o=n-1}}return null}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.isBuffered=function(e,t){try{if(e)for(var i=e.buffered,o=0;o<i.length;o++)if(t>=i.start(o)&&t<=i.end(o))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,i){try{if(e){var o=e.buffered,n=[],r=void 0;for(r=0;r<o.length;r++)n.push({start:o.start(r),end:o.end(r)});return this.bufferedInfo(n,t,i)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,i){var o=[],n=void 0,r=void 0,s=void 0,a=void 0,l=void 0;for(e.sort((function(e,t){return e.start-t.start||t.end-e.end})),l=0;l<e.length;l++){var c=o.length;if(c){var d=o[c-1].end;e[l].start-d<i?e[l].end>d&&(o[c-1].end=e[l].end):o.push(e[l])}else o.push(e[l])}for(l=0,n=0,r=s=t;l<o.length;l++){var u=o[l].start,f=o[l].end;if(t+i>=u&&t<f)r=u,n=(s=f)-t;else if(t+i<u){a=u;break}}return{len:n,start:r,end:s,nextStart:a}},e}()},function(e,t,i){"use strict";i.d(t,"b",(function(){return n}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,i){for(var o=i,n=0;e.isHeader(t,i);)n+=10,n+=e._readSize(t,i+6),e.isFooter(t,i+10)&&(n+=10),i+=n;if(n>0)return t.subarray(o,o+n)},e._readSize=function(e,t){var i=0;return i=(127&e[t])<<21,i|=(127&e[t+1])<<14,(i|=(127&e[t+2])<<7)|127&e[t+3]},e.getTimeStamp=function(t){for(var i=e.getID3Frames(t),o=0;o<i.length;o++){var n=i[o];if(e.isTimeStampFrame(n))return e._readTimeStamp(n)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var i=String.fromCharCode(t[0],t[1],t[2],t[3]),o=e._readSize(t,4);return{type:i,size:o,data:t.subarray(10,10+o)}},e.getID3Frames=function(t){for(var i=0,o=[];e.isHeader(t,i);){for(var n=e._readSize(t,i+6),r=(i+=10)+n;i+8<r;){var s=e._getFrameData(t.subarray(i)),a=e._decodeFrame(s);a&&o.push(a),i+=s.size+10}e.isFooter(t,i)&&(i+=10)}return o},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),i=1&t[3],o=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return o/=45,i&&(o+=47721858.84),Math.round(o)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var i=e._utf8ArrayToStr(t.data,!0),o=new Uint8Array(t.data.subarray(i.length+1));return{key:t.type,info:i,data:o.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var i=1,o=e._utf8ArrayToStr(t.data.subarray(i));i+=o.length+1;var n=e._utf8ArrayToStr(t.data.subarray(i));return{key:t.type,info:o,data:n}}var r=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:r}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var i=1,o=e._utf8ArrayToStr(t.data.subarray(i));i+=o.length+1;var n=e._utf8ArrayToStr(t.data.subarray(i));return{key:t.type,info:o,data:n}}var r=e._utf8ArrayToStr(t.data);return{key:t.type,data:r}},e._utf8ArrayToStr=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.length,o=void 0,n=void 0,r=void 0,s="",a=0;a<i;){if(0===(o=e[a++])&&t)return s;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(o);break;case 12:case 13:n=e[a++],s+=String.fromCharCode((31&o)<<6|63&n);break;case 14:n=e[a++],r=e[a++],s+=String.fromCharCode((15&o)<<12|(63&n)<<6|(63&r)<<0)}}return s},e}(),n=o._utf8ArrayToStr;t.a=o},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var r=function(e){function t(i){o(this,t);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];var l=n(this,e.call.apply(e,[this,i].concat(s)));return l._tickInterval=null,l._tickTimer=null,l._tickCallCount=0,l._boundTick=l.tick.bind(l),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)})),t.prototype.clearInterval=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)})),t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){1==++this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(i(4).a);t.a=r},function(e,t,i){"use strict";var o=i(3),n=i(6),r=i.n(n),s=i(19),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=function(){function e(){var t;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((t={})[e.ElementaryStreamTypes.AUDIO]=!1,t[e.ElementaryStreamTypes.VIDEO]=!1,t)}return e.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},e.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},e.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),i=12;i<16;i++)t[i]=e>>8*(15-i)&255;return t},e.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var i=e;return e&&e.method&&e.uri&&!e.iv&&((i=new s.a).method=e.method,i.baseuri=e.baseuri,i.reluri=e.reluri,i.iv=this.createInitializationVector(t)),i},a(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=r.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var i=this.lastByteRangeEndOffset;e[0]=i||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}},{key:"endProgramDateTime",get:function(){if(!Object(o.a)(this.programDateTime))return null;var e=Object(o.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}],[{key:"ElementaryStreamTypes",get:function(){return{AUDIO:"audio",VIDEO:"video"}}}]),e}();t.a=l},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var o=i(3),n=i(4),r=i(1),s={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},a=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,r.a.BUFFER_APPENDED,r.a.FRAG_BUFFERED,r.a.FRAG_LOADED));return o.bufferPadding=.2,o.fragments=Object.create(null),o.timeRanges=Object.create(null),o.config=i.config,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,n.a.prototype.destroy.call(this),e.prototype.destroy.call(this)},t.prototype.getBufferedFrag=function(e,t){var i=this.fragments,o=Object.keys(i).filter((function(o){var n=i[o];if(n.body.type!==t)return!1;if(!n.buffered)return!1;var r=n.body;return r.startPTS<=e&&e<=r.endPTS}));if(0===o.length)return null;var n=o.pop();return i[n].body},t.prototype.detectEvictedFragments=function(e,t){var i=this,o=void 0,n=void 0;Object.keys(this.fragments).forEach((function(r){var s=i.fragments[r];if(!0===s.buffered){var a=s.range[e];if(a){o=a.time;for(var l=0;l<o.length;l++)if(n=o[l],!1===i.isTimeBuffered(n.startPTS,n.endPTS,t)){i.removeFragment(s.body);break}}}}))},t.prototype.detectPartialFragments=function(e){var t=this,i=this.getFragmentKey(e),o=this.fragments[i];o&&(o.buffered=!0,Object.keys(this.timeRanges).forEach((function(i){if(e.hasElementaryStream(i)){var n=t.timeRanges[i];o.range[i]=t.getBufferedTimes(e.startPTS,e.endPTS,n)}})))},t.prototype.getBufferedTimes=function(e,t,i){for(var o=[],n=void 0,r=void 0,s=!1,a=0;a<i.length;a++){if(n=i.start(a)-this.bufferPadding,r=i.end(a)+this.bufferPadding,e>=n&&t<=r){o.push({startPTS:Math.max(e,i.start(a)),endPTS:Math.min(t,i.end(a))});break}if(e<r&&t>n)o.push({startPTS:Math.max(e,i.start(a)),endPTS:Math.min(t,i.end(a))}),s=!0;else if(t<=n)break}return{time:o,partial:s}},t.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},t.prototype.getPartialFragment=function(e){var t=this,i=void 0,o=void 0,n=void 0,r=null,s=0;return Object.keys(this.fragments).forEach((function(a){var l=t.fragments[a];t.isPartial(l)&&(o=l.body.startPTS-t.bufferPadding,n=l.body.endPTS+t.bufferPadding,e>=o&&e<=n&&(i=Math.min(e-o,n-e),s<=i&&(r=l.body,s=i)))})),r},t.prototype.getState=function(e){var t=this.getFragmentKey(e),i=this.fragments[t],o=s.NOT_LOADED;return void 0!==i&&(o=i.buffered?!0===this.isPartial(i)?s.PARTIAL:s.OK:s.APPENDING),o},t.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},t.prototype.isTimeBuffered=function(e,t,i){for(var o=void 0,n=void 0,r=0;r<i.length;r++){if(o=i.start(r)-this.bufferPadding,n=i.end(r)+this.bufferPadding,e>=o&&t<=n)return!0;if(t<=o)return!1}return!1},t.prototype.onFragLoaded=function(e){var t=e.frag;Object(o.a)(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},t.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var i=t.timeRanges[e];t.detectEvictedFragments(e,i)}))},t.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},t.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},t.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},t.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},t}(n.a)},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,s,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(r(i=this._events[e]))return!1;if(o(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(n(i))for(a=Array.prototype.slice.call(arguments,1),s=(c=i.slice()).length,l=0;l<s;l++)c[l].apply(this,a);return!0},i.prototype.addListener=function(e,t){var s;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(s=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,r,s,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(i=this._events[e]).length,r=-1,i===t||o(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(i)){for(a=s;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=i(37),r=i(38),s=i(39),a=i(2),l=i(0),c=i(1),d=i(5),u=Object(d.a)(),f=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.removePKCS7Padding,s=void 0===r||r;if(o(this,e),this.logEnabled=!0,this.observer=t,this.config=i,this.removePKCS7Padding=s,s)try{var a=u.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,i,o){var a=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(l.b.log("JS AES decrypt"),this.logEnabled=!1);var c=this.decryptor;c||(this.decryptor=c=new s.a),c.expandKey(t),o(c.decrypt(e,0,i,this.removePKCS7Padding))}else{this.logEnabled&&(l.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var d=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new r.a(d,t)),this.fastAesKey.expandKey().then((function(r){new n.a(d,i).decrypt(e,r).catch((function(n){a.onWebCryptoError(n,e,t,i,o)})).then((function(e){o(e)}))})).catch((function(n){a.onWebCryptoError(n,e,t,i,o)}))}},e.prototype.onWebCryptoError=function(e,t,i,o,n){this.config.enableSoftwareAES?(l.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,i,o,n)):(l.b.error("decrypting error : "+e.message),this.observer.trigger(c.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.a=f},function(e,t,i){"use strict";t.a=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},function(e,t,i){"use strict";function o(e,t,i){var o=e[t],n=e[i],a=n.startPTS;Object(r.a)(a)?i>t?(o.duration=a-o.start,o.duration<0&&s.b.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):(n.duration=o.start-a,n.duration<0&&s.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):n.start=i>t?o.start+o.duration:Math.max(o.start-n.duration,0)}function n(e,t,i,n,s,a){var l=i;if(Object(r.a)(t.startPTS)){var c=Math.abs(t.startPTS-i);Object(r.a)(t.deltaPTS)?t.deltaPTS=Math.max(c,t.deltaPTS):t.deltaPTS=c,l=Math.max(i,t.startPTS),i=Math.min(i,t.startPTS),n=Math.max(n,t.endPTS),s=Math.min(s,t.startDTS),a=Math.max(a,t.endDTS)}var d=i-t.start;t.start=t.startPTS=i,t.maxStartPTS=l,t.endPTS=n,t.startDTS=s,t.endDTS=a,t.duration=n-i;var u=t.sn;if(!e||u<e.startSN||u>e.endSN)return 0;var f,h=void 0,p=void 0;for(f=u-e.startSN,(h=e.fragments)[f]=t,p=f;p>0;p--)o(h,p,p-1);for(p=f;p<h.length-1;p++)o(h,p,p+1);return e.PTSKnown=!0,d}t.a=function(e,t,i){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(i);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(i)}},t.c=n,t.b=function(e,t){var i=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,a=t.startSN-e.startSN,l=e.fragments,c=t.fragments,d=0,u=void 0;if(t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment),o<i)t.PTSKnown=!1;else{for(var f=i;f<=o;f++){var h=l[a+f],p=c[f];p&&h&&(d=h.cc-p.cc,Object(r.a)(h.startPTS)&&(p.start=p.startPTS=h.startPTS,p.endPTS=h.endPTS,p.duration=h.duration,p.backtracked=h.backtracked,p.dropped=h.dropped,u=p))}if(d)for(s.b.log("discontinuity sliding from playlist, take drift into account"),f=0;f<c.length;f++)c[f].cc+=d;if(u)n(t,u,u.startPTS,u.endPTS,u.startDTS,u.endDTS);else if(a>=0&&a<l.length){var g=l[a].start;for(f=0;f<c.length;f++)c[f].start+=g}t.PTSKnown=e.PTSKnown}};var r=i(3),s=i(0)},function(e,t,i){"use strict";var o=i(3),n=i(1),r=i(4),s=i(2),a=i(0),l=i(18),c=i(30),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),u=window.performance,f={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},h={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},p=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,n.a.MANIFEST_LOADING,n.a.LEVEL_LOADING,n.a.AUDIO_TRACK_LOADING,n.a.SUBTITLE_TRACK_LOADING));return o.loaders={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.canHaveQualityLevels=function(e){return e!==f.AUDIO_TRACK&&e!==f.SUBTITLE_TRACK},t.mapContextToLevelType=function(e){switch(e.type){case f.AUDIO_TRACK:return h.AUDIO;case f.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},t.getResponseUrl=function(e,t){var i=e.url;return void 0!==i&&0!==i.indexOf("data:")||(i=t.url),i},t.prototype.createInternalLoader=function(e){var t=this.hls.config,i=t.pLoader,o=t.loader,n=new(i||o)(t);return e.loader=n,this.loaders[e.type]=n,n},t.prototype.getInternalLoader=function(e){return this.loaders[e.type]},t.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.prototype.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},t.prototype.onManifestLoading=function(e){this.load(e.url,{type:f.MANIFEST,level:0,id:null})},t.prototype.onLevelLoading=function(e){this.load(e.url,{type:f.LEVEL,level:e.level,id:e.id})},t.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:f.AUDIO_TRACK,level:null,id:e.id})},t.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:f.SUBTITLE_TRACK,level:null,id:e.id})},t.prototype.load=function(e,t){var i=this.hls.config;a.b.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var o=this.getInternalLoader(t);if(o){var n=o.context;if(n&&n.url===e)return a.b.trace("playlist request ongoing"),!1;a.b.warn("aborting previous loader for type: "+t.type),o.abort()}var r=void 0,s=void 0,l=void 0,c=void 0;switch(t.type){case f.MANIFEST:r=i.manifestLoadingMaxRetry,s=i.manifestLoadingTimeOut,l=i.manifestLoadingRetryDelay,c=i.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:r=0,s=i.levelLoadingTimeOut;break;default:r=i.levelLoadingMaxRetry,s=i.levelLoadingTimeOut,l=i.levelLoadingRetryDelay,c=i.levelLoadingMaxRetryTimeout}o=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var d={timeout:s,maxRetry:r,retryDelay:l,maxRetryDelay:c},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return a.b.debug("Calling internal loader delegate for URL: "+e),o.load(t,d,u),!0},t.prototype.loadsuccess=function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(i.isSidxRequest)return this._handleSidxRequest(e,i),void this._handlePlaylistLoaded(e,t,i,o);this.resetInternalLoader(i.type);var n=e.data;t.tload=u.now(),0===n.indexOf("#EXTM3U")?n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,i,o):this._handleMasterPlaylist(e,t,i,o):this._handleManifestParsingError(e,i,"no EXTM3U delimiter",o)},t.prototype.loaderror=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(t,i)},t.prototype.loadtimeout=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(t,i,!0)},t.prototype._handleMasterPlaylist=function(e,i,o,r){var s=this.hls,l=e.data,d=t.getResponseUrl(e,o),u=c.a.parseMasterPlaylist(l,d);if(u.length){var f=u.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),h=c.a.parseMasterPlaylistMedia(l,d,"AUDIO",f),p=c.a.parseMasterPlaylistMedia(l,d,"SUBTITLES");if(h.length){var g=!1;h.forEach((function(e){e.url||(g=!0)})),!1===g&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(a.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}s.trigger(n.a.MANIFEST_LOADED,{levels:u,audioTracks:h,subtitles:p,url:d,stats:i,networkDetails:r})}else this._handleManifestParsingError(e,o,"no level found in manifest",r)},t.prototype._handleTrackOrLevelPlaylist=function(e,i,r,s){var a=this.hls,l=r.id,d=r.level,h=r.type,p=t.getResponseUrl(e,r),g=Object(o.a)(l)?l:0,v=Object(o.a)(d)?d:g,y=t.mapContextToLevelType(r),m=c.a.parseLevelPlaylist(e.data,p,v,y,g);if(m.tload=i.tload,h===f.MANIFEST){var b={url:p,details:m};a.trigger(n.a.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:p,stats:i,networkDetails:s})}if(i.tparsed=u.now(),m.needSidxRanges){var w=m.initSegment.url;this.load(w,{isSidxRequest:!0,type:h,level:d,levelDetails:m,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=m,this._handlePlaylistLoaded(e,i,r,s)},t.prototype._handleSidxRequest=function(e,t){var i=l.a.parseSegmentIndex(new Uint8Array(e.data));i.references.forEach((function(e,i){var o=e.info,n=t.levelDetails.fragments[i];0===n.byteRange.length&&(n.rawByteRange=String(1+o.end-o.start)+"@"+String(o.start))})),t.levelDetails.initSegment.rawByteRange=String(i.moovEndOffset)+"@0"},t.prototype._handleManifestParsingError=function(e,t,i,o){this.hls.trigger(n.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:i,networkDetails:o})},t.prototype._handleNetworkError=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.b.info("A network error occured while loading a "+e.type+"-type playlist");var o=void 0,r=void 0,l=this.getInternalLoader(e);switch(e.type){case f.MANIFEST:o=i?s.a.MANIFEST_LOAD_TIMEOUT:s.a.MANIFEST_LOAD_ERROR,r=!0;break;case f.LEVEL:o=i?s.a.LEVEL_LOAD_TIMEOUT:s.a.LEVEL_LOAD_ERROR,r=!1;break;case f.AUDIO_TRACK:o=i?s.a.AUDIO_TRACK_LOAD_TIMEOUT:s.a.AUDIO_TRACK_LOAD_ERROR,r=!1;break;default:r=!1}l&&(l.abort(),this.resetInternalLoader(e.type)),this.hls.trigger(n.a.ERROR,{type:s.b.NETWORK_ERROR,details:o,fatal:r,url:l.url,loader:l,context:e,networkDetails:t})},t.prototype._handlePlaylistLoaded=function(e,i,o,r){var s=o.type,a=o.level,l=o.id,c=o.levelDetails;if(c.targetduration)if(t.canHaveQualityLevels(o.type))this.hls.trigger(n.a.LEVEL_LOADED,{details:c,level:a||0,id:l||0,stats:i,networkDetails:r});else switch(s){case f.AUDIO_TRACK:this.hls.trigger(n.a.AUDIO_TRACK_LOADED,{details:c,id:l,stats:i,networkDetails:r});break;case f.SUBTITLE_TRACK:this.hls.trigger(n.a.SUBTITLE_TRACK_LOADED,{details:c,id:l,stats:i,networkDetails:r})}else this._handleManifestParsingError(e,o,"invalid target duration",r)},d(t,null,[{key:"ContextType",get:function(){return f}},{key:"LevelType",get:function(){return h}}]),t}(r.a);t.a=p},function(e,t,i){"use strict";var o=i(0),n=i(1),r=Math.pow(2,32)-1,s=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.remuxer=i}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,i,o,r){if(t&&t.byteLength){var s=this.initData=e.parseInitSegment(t);null==i&&(i="mp4a.40.5"),null==o&&(o="avc1.42e01e");var a={};s.audio&&s.video?a.audiovideo={container:"video/mp4",codec:i+","+o,initSegment:r?t:null}:(s.audio&&(a.audio={container:"audio/mp4",codec:i,initSegment:r?t:null}),s.video&&(a.video={container:"video/mp4",codec:o,initSegment:r?t:null})),this.observer.trigger(n.a.FRAG_PARSING_INIT_SEGMENT,{tracks:a})}else i&&(this.audioCodec=i),o&&(this.videoCodec=o)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var i=e[t]<<8|e[t+1];return i<0?65536+i:i},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var i=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return i<0?4294967296+i:i},e.writeUint32=function(e,t,i){e.data&&(t+=e.start,e=e.data),e[t]=i>>24,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i},e.findBox=function(t,i){var o=[],n=void 0,r=void 0,s=void 0,a=void 0,l=void 0,c=void 0;if(t.data?(l=t.start,s=t.end,t=t.data):(l=0,s=t.byteLength),!i.length)return null;for(n=l;n<s;)c=(r=e.readUint32(t,n))>1?n+r:s,e.bin2str(t.subarray(n+4,n+8))===i[0]&&(1===i.length?o.push({data:t,start:n+8,end:c}):(a=e.findBox({data:t,start:n+8,end:c},i.slice(1))).length&&(o=o.concat(a))),n=c;return o},e.parseSegmentIndex=function(t){var i=e.findBox(t,["moov"])[0],o=i?i.end:null,n=0,r=e.findBox(t,["sidx"]),s=void 0;if(!r||!r[0])return null;s=[];var a=(r=r[0]).data[0];n=0===a?8:16;var l=e.readUint32(r,n);n+=4,n+=0===a?8:16,n+=2;var c=r.end+0,d=e.readUint16(r,n);n+=2;for(var u=0;u<d;u++){var f=n,h=e.readUint32(r,f);f+=4;var p=2147483647&h;if(1==(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(r,f);f+=4,s.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/l,start:c,end:c+p-1}}),c+=p,n=f+=4}return{earliestPresentationTime:0,timescale:l,version:a,referencesCount:d,references:s,moovEndOffset:o}},e.parseInitSegment=function(t){var i=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var n=e.findBox(t,["tkhd"])[0];if(n){var r=n.data[n.start],s=0===r?12:20,a=e.readUint32(n,s),l=e.findBox(t,["mdia","mdhd"])[0];if(l){s=0===(r=l.data[l.start])?12:20;var c=e.readUint32(l,s),d=e.findBox(t,["mdia","hdlr"])[0];if(d){var u={soun:"audio",vide:"video"}[e.bin2str(d.data.subarray(d.start+8,d.start+12))];if(u){var f=e.findBox(t,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var h=e.bin2str(f.data.subarray(f.start+12,f.start+16));o.b.log("MP4Demuxer:"+u+":"+h+" found")}i[a]={timescale:c,type:u},i[u]={timescale:c,id:a}}}}}})),i},e.getStartDTS=function(t,i){var o,n,r=void 0;return r=e.findBox(i,["moof","traf"]),o=[].concat.apply([],r.map((function(i){return e.findBox(i,["tfhd"]).map((function(o){var n,r;return n=e.readUint32(o,4),r=t[n].timescale||9e4,e.findBox(i,["tfdt"]).map((function(t){var i,o=void 0;return i=t.data[t.start],o=e.readUint32(t,4),1===i&&(o*=Math.pow(2,32),o+=e.readUint32(t,8)),o}))[0]/r}))}))),n=Math.min.apply(null,o),isFinite(n)?n:0},e.offsetStartDTS=function(t,i,o){e.findBox(i,["moof","traf"]).map((function(i){return e.findBox(i,["tfhd"]).map((function(n){var s=e.readUint32(n,4),a=t[s].timescale||9e4;e.findBox(i,["tfdt"]).map((function(t){var i=t.data[t.start],n=e.readUint32(t,4);if(0===i)e.writeUint32(t,4,n-o*a);else{n*=Math.pow(2,32),n+=e.readUint32(t,8),n-=o*a,n=Math.max(n,0);var s=Math.floor(n/(r+1)),l=Math.floor(n%(r+1));e.writeUint32(t,4,s),e.writeUint32(t,8,l)}}))}))}))},e.prototype.append=function(t,i,o,r){var s=this.initData;s||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),s=this.initData);var a,l=this.initPTS;if(void 0===l){var c=e.getStartDTS(s,t);this.initPTS=l=c-i,this.observer.trigger(n.a.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(s,t,l),a=e.getStartDTS(s,t),this.remuxer.remux(s.audio,s.video,null,null,a,o,r,t)},e.prototype.destroy=function(){},e}();t.a=s},function(e,t,i){"use strict";var o=i(6),n=i.n(o),r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return r(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=n.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}();t.a=s},function(e,t,i){"use strict";function o(e,t){var i=r[t];return!!i&&!0===i[e.slice(0,4)]}function n(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return n}));var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}}},function(e,t,i){"use strict";var o=i(3),n=i(13),r=i.n(n),s=i(36),a=i.n(s),l=i(1),c=i(22),d=i(0),u=i(2),f=i(15),h=i(5),p=Object(h.a)(),g=Object(f.a)(),v=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.hls=t,this.id=i;var o=this.observer=new r.a,n=t.config;o.trigger=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];o.emit.apply(o,[e,e].concat(i))},o.off=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];o.removeListener.apply(o,[e].concat(i))};var s=function(e,i){(i=i||{}).frag=this.frag,i.id=this.id,t.trigger(e,i)}.bind(this);o.on(l.a.FRAG_DECRYPTED,s),o.on(l.a.FRAG_PARSING_INIT_SEGMENT,s),o.on(l.a.FRAG_PARSING_DATA,s),o.on(l.a.FRAG_PARSED,s),o.on(l.a.ERROR,s),o.on(l.a.FRAG_PARSING_METADATA,s),o.on(l.a.FRAG_PARSING_USERDATA,s),o.on(l.a.INIT_PTS_FOUND,s);var f={mp4:g.isTypeSupported("video/mp4"),mpeg:g.isTypeSupported("audio/mpeg"),mp3:g.isTypeSupported('audio/mp4; codecs="mp3"')},h=navigator.vendor;if(n.enableWorker&&"undefined"!=typeof Worker){d.b.log("demuxing in webworker");var v=void 0;try{v=this.w=a()(49),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(e){t.trigger(l.a.ERROR,{type:u.b.OTHER_ERROR,details:u.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},v.postMessage({cmd:"init",typeSupported:f,vendor:h,id:i,config:JSON.stringify(n)})}catch(e){d.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),v&&p.URL.revokeObjectURL(v.objectURL),this.demuxer=new c.a(o,f,n,h),this.w=void 0}}else this.demuxer=new c.a(o,f,n,h)}return e.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,t,i,n,r,s,a,l){var c=this.w,u=Object(o.a)(r.startDTS)?r.startDTS:r.start,f=r.decryptdata,h=this.frag,p=!(h&&r.cc===h.cc),g=!(h&&r.level===h.level),v=h&&r.sn===h.sn+1,y=!g&&v;if(p&&d.b.log(this.id+":discontinuity detected"),g&&d.b.log(this.id+":switch detected"),this.frag=r,c)c.postMessage({cmd:"demux",data:e,decryptdata:f,initSegment:t,audioCodec:i,videoCodec:n,timeOffset:u,discontinuity:p,trackSwitch:g,contiguous:y,duration:s,accurateTimeOffset:a,defaultInitPTS:l},e instanceof ArrayBuffer?[e]:[]);else{var m=this.demuxer;m&&m.push(e,f,t,i,n,u,p,g,y,s,a,l)}},e.prototype.onWorkerMessage=function(e){var t=e.data,i=this.hls;switch(t.event){case"init":p.URL.revokeObjectURL(this.w.objectURL);break;case l.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data)}},e}();t.a=v},function(e,t,i){"use strict";var o=i(1),n=i(2),r=i(14),s=i(40),a=i(18),l=i(41),c=i(44),d=i(45),u=i(48),f=i(5),h=Object(f.a)().performance,p=function(){function e(t,i,o,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.typeSupported=i,this.config=o,this.vendor=n}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,i,n,s,a,l,c,d,u,f,p){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var g=this.decrypter;null==g&&(g=this.decrypter=new r.a(this.observer,this.config));var v=this,y=void 0;try{y=h.now()}catch(e){y=Date.now()}g.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var r=void 0;try{r=h.now()}catch(e){r=Date.now()}v.observer.trigger(o.a.FRAG_DECRYPTED,{stats:{tstart:y,tdecrypt:r}}),v.pushDecrypted(new Uint8Array(e),t,new Uint8Array(i),n,s,a,l,c,d,u,f,p)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(i),n,s,a,l,c,d,u,f,p)},e.prototype.pushDecrypted=function(e,t,i,r,f,h,p,g,v,y,m,b){var w=this.demuxer;if(!w||(p||g)&&!this.probe(e)){for(var x=this.observer,T=this.typeSupported,_=this.config,E=[{demux:l.a,remux:d.a},{demux:a.a,remux:u.a},{demux:s.a,remux:d.a},{demux:c.a,remux:d.a}],k=0,S=E.length;k<S;k++){var A=E[k],D=A.demux.probe;if(D(e)){var R=this.remuxer=new A.remux(x,_,T,this.vendor);w=new A.demux(x,R,_,T),this.probe=D;break}}if(!w)return void x.trigger(o.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=w}var L=this.remuxer;(p||g)&&(w.resetInitSegment(i,r,f,y),L.resetInitSegment()),p&&(w.resetTimeStamp(b),L.resetTimeStamp(b)),"function"==typeof w.setDecryptData&&w.setDecryptData(t),w.append(e,h,v,m)},e}();t.a=p},function(e,t,i){"use strict";function o(e,t){return 255===e[t]&&240==(246&e[t+1])}function n(e,t){return 1&e[t+1]?7:9}function r(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function s(e){return 9216e4/e}function a(e,t,i,o,s){var a,l=void 0,c=e.length;if(a=n(e,t),l=r(e,t),(l-=a)>0&&t+a+l<=c)return{headerLength:a,frameLength:l,stamp:i+o*s}}t.d=function(e,t){return!!(t+1<e.length&&o(e,t))},t.e=function(e,t){if(t+1<e.length&&o(e,t)){var i=n(e,t);t+5<e.length&&(i=r(e,t));var s=t+i;if(s===e.length||s+1<e.length&&o(e,s))return!0}return!1},t.c=function(e,t,i,o,n){if(!e.samplerate){var r=function(e,t,i,o){var n,r=void 0,s=void 0,a=void 0,u=void 0,f=navigator.userAgent.toLowerCase(),h=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return r=1+((192&t[i+2])>>>6),(n=(60&t[i+2])>>>2)>p.length-1?void e.trigger(d.a.ERROR,{type:c.b.MEDIA_ERROR,details:c.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+n}):(a=(1&t[i+2])<<2,a|=(192&t[i+3])>>>6,l.b.log("manifest codec:"+o+",ADTS data:type:"+r+",sampleingIndex:"+n+"["+p[n]+"Hz],channelConfig:"+a),/firefox/i.test(f)?n>=6?(r=5,u=new Array(4),s=n-3):(r=2,u=new Array(2),s=n):-1!==f.indexOf("android")?(r=2,u=new Array(2),s=n):(r=5,u=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&n>=6?s=n-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(n>=6&&1===a||/vivaldi/i.test(f))||!o&&1===a)&&(r=2,u=new Array(2)),s=n)),u[0]=r<<3,u[0]|=(14&n)>>1,u[1]|=(1&n)<<7,u[1]|=a<<3,5===r&&(u[1]|=(14&s)>>1,u[2]=(1&s)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:p[n],channelCount:a,codec:"mp4a.40."+r,manifestCodec:h})}(t,i,o,n);e.config=r.config,e.samplerate=r.samplerate,e.channelCount=r.channelCount,e.codec=r.codec,e.manifestCodec=r.manifestCodec,l.b.log("parsed codec:"+e.codec+",rate:"+r.samplerate+",nb channel:"+r.channelCount)}},t.b=s,t.a=function(e,t,i,o,n){var r=a(t,i,o,n,s(e.samplerate));if(r){var l=r.stamp,c=r.headerLength,d=r.frameLength,u={unit:t.subarray(i+c,i+c+d),pts:l,dts:l};return e.samples.push(u),e.len+=d,{sample:u,length:d+c}}};var l=i(0),c=i(2),d=i(1);i(5)},function(e,t,i){"use strict";var o={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,i,o,n){if(!(i+24>t.length)){var r=this.parseHeader(t,i);if(r&&i+r.frameLength<=t.length){var s=o+n*(9e4*r.samplesPerFrame/r.sampleRate),a={unit:t.subarray(i,i+r.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=r.channelCount,e.samplerate=r.sampleRate,e.samples.push(a),e.len+=r.frameLength,{sample:a,length:r.frameLength}}}},parseHeader:function(e,t){var i=e[t+1]>>3&3,n=e[t+1]>>1&3,r=e[t+2]>>4&15,s=e[t+2]>>2&3,a=e[t+2]>>1&1;if(1!==i&&0!==r&&15!==r&&3!==s){var l=3===i?3-n:3===n?3:4,c=1e3*o.BitratesMap[14*l+r-1],d=3===i?0:2===i?1:2,u=o.SamplingRateMap[3*d+s],f=e[t+3]>>6==3?1:2,h=o.SamplesCoefficients[i][n],p=o.BytesInSlot[n],g=8*h*p;return{sampleRate:u,channelCount:f,frameLength:parseInt(h*c/u+a,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var i=this.parseHeader(e,t),o=4;i&&i.frameLength&&(o=i.frameLength);var n=t+o;if(n===e.length||n+1<e.length&&this.isHeaderPattern(e,n))return!0}return!1}};t.a=o},function(e,t,i){"use strict";t.a={toString:function(e){for(var t="",i=e.length,o=0;o<i;o++)t+="["+e.start(o).toFixed(3)+","+e.end(o).toFixed(3)+"]";return t}}},function(e,t,i){"use strict";function o(e,t){var i=e.fragments,o=t.fragments;if(o.length&&i.length){var n=function(e,t){for(var i=null,o=0;o<e.length;o+=1){var n=e[o];if(n&&n.cc===t){i=n;break}}return i}(i,o[0].cc);return!n||n&&!n.startPTS?void a.b.log("No frag in previous level to align on"):n}a.b.log("No fragments to align")}function n(e,t){t.fragments.forEach((function(t){if(t){var i=t.start+e;t.start=t.startPTS=i,t.endPTS=i+t.duration}})),t.PTSKnown=!0}t.b=function(e,t){return s.a.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))},t.a=function(e,t,i){(function(e,t,i){if(function(e,t,i){var o=!1;return t&&t.details&&i&&(i.endCC>i.startCC||e&&e.cc<i.startCC)&&(o=!0),o}(e,i,t)){var r=o(i.details,t);r&&(a.b.log("Adjusting PTS using last level due to CC increase within current level"),n(r.start,t))}})(e,i,t),!i.PTSKnown&&t&&function(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var i=t.fragments[0].programDateTime,o=(e.fragments[0].programDateTime-i)/1e3+t.fragments[0].start;Object(r.a)(o)&&(a.b.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),n(o,e))}}(i,t.details)};var r=i(3),s=i(7),a=i(0)},function(e,t,i){"use strict";t.b=function(e,t){var i=null;try{i=new window.Event("addtrack")}catch(e){(i=document.createEvent("Event")).initEvent("addtrack",!1,!1)}i.track=e,t.dispatchEvent(i)},t.a=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},function(e,t,i){"use strict";function o(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new c,this.regionList=[]}function n(){this.values=Object.create(null)}function r(e,t,i,o){var n=o?e.split(o):[e];for(var r in n)if("string"==typeof n[r]){var s=n[r].split(i);if(2===s.length)t(s[0],s[1])}}function s(e,t,i){function o(){var t=function(e){function t(e,t,i,o){return 3600*(0|e)+60*(0|t)+(0|i)+(0|o)/1e3}var i=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+a);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function s(){e=e.replace(/^\s+/,"")}var a=e;if(s(),t.startTime=o(),s(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);e=e.substr(3),s(),t.endTime=o(),s(),function(e,t){var o=new n;r(e,(function(e,t){switch(e){case"region":for(var n=i.length-1;n>=0;n--)if(i[n].id===t){o.set(e,i[n].region);break}break;case"vertical":o.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),s=r[0];o.integer(e,s),o.percent(e,s)&&o.set("snapToLines",!1),o.alt(e,s,["auto"]),2===r.length&&o.alt("lineAlign",r[1],["start",u,"end"]);break;case"position":r=t.split(","),o.percent(e,r[0]),2===r.length&&o.alt("positionAlign",r[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":o.percent(e,t);break;case"align":o.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=o.get("region",null),t.vertical=o.get("vertical","");var s=o.get("line","auto");"auto"===s&&-1===d.line&&(s=-1),t.line=s,t.lineAlign=o.get("lineAlign","start"),t.snapToLines=o.get("snapToLines",!0),t.size=o.get("size",100),t.align=o.get("align",u);var a=o.get("position","auto");"auto"===a&&50===d.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function a(e){return e.replace(/<br(?: \/)?>/gi,"\n")}i.d(t,"b",(function(){return a}));var l=i(66),c=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};n.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var o=0;o<i.length;++o)if(t===i[o]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var d=new l.a(0,0,0),u="middle"===d.align?"middle":"center";o.prototype={parse:function(e){function t(){var e=i.buffer,t=0;for(e=a(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var o=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),o}var i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var o=void 0;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var n=(o=t()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var c=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(c?c=!1:o=t(),i.state){case"HEADER":/:/.test(o)?function(e){r(e,(function(e,t){}),/:/)}(o):o||(i.state="ID");continue;case"NOTE":o||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){i.state="NOTE";break}if(!o)continue;if(i.cue=new l.a(0,0,""),i.state="CUE",-1===o.indexOf("--\x3e")){i.cue.id=o;continue}case"CUE":try{s(o,i.cue,i.regionList)}catch(e){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var d=-1!==o.indexOf("--\x3e");if(!o||d&&(c=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=o;continue;case"BADCUE":o||(i.state="ID");continue}}}catch(e){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}},t.a=o},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=i(6),r=i.n(n),s=i(2),a=i(17),l=i(33),c=i(34),d=i(12),u=i(35),f=i(52),h=i(53),p=i(54),g=i(0),v=i(55),y=i(1),m=i(13),b=i.n(m),w=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}();i(75);var x=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var n=e.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in i||(i[r]=n[r]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(g.a)(i.debug),this.config=i,this._autoLevelCapping=-1;var s=this.observer=new b.a;s.trigger=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];s.emit.apply(s,[e,e].concat(i))},s.off=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];s.removeListener.apply(s,[e].concat(i))},this.on=s.on.bind(s),this.off=s.off.bind(s),this.once=s.once.bind(s),this.trigger=s.trigger.bind(s);var p=this.abrController=new i.abrController(this),v=new i.bufferController(this),y=new i.capLevelController(this),m=new i.fpsController(this),w=new a.a(this),x=new l.a(this),T=new c.a(this),_=new h.a(this),E=this.levelController=new f.a(this),k=new d.b(this),S=this.streamController=new u.a(this,k),A=[E,S],D=i.audioStreamController;D&&A.push(new D(this,k)),this.networkControllers=A;var R=[w,x,T,p,v,y,m,_,k];if(D=i.audioTrackController){var L=new D(this);this.audioTrackController=L,R.push(L)}if(D=i.subtitleTrackController){var C=new D(this);this.subtitleTrackController=C,R.push(C)}if(D=i.emeController){var P=new D(this);this.emeController=P,R.push(P)}[i.subtitleStreamController,i.timelineController].forEach((function(e){e&&R.push(new e(t))})),this.coreComponents=R}return e.isSupported=function(){return Object(p.a)()},w(e,null,[{key:"version",get:function(){return"0.11.0"}},{key:"Events",get:function(){return y.a}},{key:"ErrorTypes",get:function(){return s.b}},{key:"ErrorDetails",get:function(){return s.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:v.a},set:function(t){e.defaultConfig=t}}]),e.prototype.destroy=function(){g.b.log("destroy"),this.trigger(y.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(e){g.b.log("attachMedia"),this.media=e,this.trigger(y.a.MEDIA_ATTACHING,{media:e})},e.prototype.detachMedia=function(){g.b.log("detachMedia"),this.trigger(y.a.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(e){e=r.a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.b.log("loadSource:"+e),this.url=e,this.trigger(y.a.MANIFEST_LOADING,{url:e})},e.prototype.startLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;g.b.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},e.prototype.stopLoad=function(){g.b.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},e.prototype.swapAudioCodec=function(){g.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){g.b.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},w(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){g.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){g.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){g.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){g.b.log("set startLevel:"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){g.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,i=e?e.length:0,o=0;o<i;o++)if((e[o].realBitrate?Math.max(e[o].realBitrate,e[o].bitrate):e[o].bitrate)>t)return o;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){var e=this;return Math.min(Math.max(e.abrController.nextAutoLevel,e.minAutoLevel),e.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),e}();t.default=x},function(e,t,i){"use strict";function o(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(n.a)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}var n=i(3),r=i(6),s=i.n(r),a=i(11),l=i(31),c=i(19),d=i(32),u=i(0),f=i(20),h=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,p=/#EXT-X-MEDIA:(.*)/g,g=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),v=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,y=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.findGroup=function(e,t){if(!e)return null;for(var i=null,o=0;o<e.length;o++){var n=e[o];n.id===t&&(i=n)}return i},e.convertAVC1ToAVCOTI=function(e){var t=void 0,i=e.split(".");return i.length>2?(t=i.shift()+".",t+=parseInt(i.shift()).toString(16),t+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return s.a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,i){var o=[],n=void 0;for(h.lastIndex=0;null!=(n=h.exec(t));){var r={},s=r.attrs=new d.a(n[1]);r.url=e.resolve(n[2],i);var a=s.decimalResolution("RESOLUTION");a&&(r.width=a.width,r.height=a.height),r.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),r.name=s.NAME,function(e,t){["video","audio"].forEach((function(i){var o=e.filter((function(e){return Object(f.b)(e,i)}));if(o.length){var n=o.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[i+"Codec"]=n.length>0?n[0]:o[0],e=e.filter((function(e){return-1===o.indexOf(e)}))}})),t.unknownCodecs=e}([].concat((s.CODECS||"").split(/[ ,]+/)),r),r.videoCodec&&-1!==r.videoCodec.indexOf("avc1")&&(r.videoCodec=e.convertAVC1ToAVCOTI(r.videoCodec)),o.push(r)}return o},e.parseMasterPlaylistMedia=function(t,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=void 0,s=[],a=0;for(p.lastIndex=0;null!==(r=p.exec(t));){var l={},c=new d.a(r[1]);if(c.TYPE===o){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=o,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=e.resolve(c.URI,i)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),n.length){var u=e.findGroup(n,l.groupId);l.audioCodec=u?u.codec:n[0].codec}l.id=a++,s.push(l)}}return s},e.parseLevelPlaylist=function(e,t,i,r,s){var f=0,h=0,p=new l.a(t),m=new c.a,b=0,w=null,x=new a.a,T=void 0,_=void 0,E=null;for(g.lastIndex=0;null!==(T=g.exec(e));){var k=T[1];if(k){x.duration=parseFloat(k);var S=(" "+T[2]).slice(1);x.title=S||null,x.tagList.push(S?["INF",k,S]:["INF",k])}else if(T[3]){if(Object(n.a)(x.duration)){var A=f++;x.type=r,x.start=h,x.levelkey=m,x.sn=A,x.level=i,x.cc=b,x.urlId=s,x.baseurl=t,x.relurl=(" "+T[3]).slice(1),o(x,w),p.fragments.push(x),w=x,h+=x.duration,x=new a.a}}else if(T[4]){if(x.rawByteRange=(" "+T[4]).slice(1),w){var D=w.byteRangeEndOffset;D&&(x.lastByteRangeEndOffset=D)}}else if(T[5])x.rawProgramDateTime=(" "+T[5]).slice(1),x.tagList.push(["PROGRAM-DATE-TIME",x.rawProgramDateTime]),null===E&&(E=p.fragments.length);else{for(T=T[0].match(v),_=1;_<T.length&&void 0===T[_];_++);var R=(" "+T[_+1]).slice(1),L=(" "+T[_+2]).slice(1);switch(T[_]){case"#":x.tagList.push(L?[R,L]:[R]);break;case"PLAYLIST-TYPE":p.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":f=p.startSN=parseInt(R);break;case"TARGETDURATION":p.targetduration=parseFloat(R);break;case"VERSION":p.version=parseInt(R);break;case"EXTM3U":break;case"ENDLIST":p.live=!1;break;case"DIS":b++,x.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":b=parseInt(R);break;case"KEY":var C=R,P=new d.a(C),I=P.enumeratedString("METHOD"),M=P.URI,O=P.hexadecimalInteger("IV");I&&(m=new c.a,M&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(I)>=0&&(m.method=I,m.baseuri=t,m.reluri=M,m.key=null,m.iv=O));break;case"START":var U=R,j=new d.a(U).decimalFloatingPoint("TIME-OFFSET");Object(n.a)(j)&&(p.startTimeOffset=j);break;case"MAP":var F=new d.a(R);x.relurl=F.URI,x.rawByteRange=F.BYTERANGE,x.baseurl=t,x.level=i,x.type=r,x.sn="initSegment",p.initSegment=x,(x=new a.a).rawProgramDateTime=p.initSegment.rawProgramDateTime;break;default:u.b.warn("line parsed but not handled: "+T)}}}return(x=w)&&!x.relurl&&(p.fragments.pop(),h-=x.duration),p.totalduration=h,p.averagetargetduration=h/p.fragments.length,p.endSN=f-1,p.startCC=p.fragments[0]?p.fragments[0].cc:0,p.endCC=b,!p.initSegment&&p.fragments.length&&p.fragments.every((function(e){return y.test(e.relurl)}))&&(u.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(x=new a.a).relurl=p.fragments[0].relurl,x.baseurl=t,x.level=i,x.type=r,x.sn="initSegment",p.initSegment=x,p.needSidxRanges=!0),E&&function(e,t){for(var i=e[t],o=t-1;o>=0;o--){var n=e[o];n.programDateTime=i.programDateTime-1e3*n.duration,i=n}}(p.fragments,E),p},e}();t.a=m},function(e,t,i){"use strict";var o=i(3),n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return n(e,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(o.a)(this.fragments[0].programDateTime))}}]),e}();t.a=r},function(e,t,i){"use strict";var o=/^(\d+)x(\d+)$/,n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,r=function(){function e(t){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(i)&&(this[i]=t[i])}return e.prototype.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var i=new Uint8Array(t.length/2),o=0;o<t.length/2;o++)i[o]=parseInt(t.slice(2*o,2*o+2),16);return i}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},e.prototype.enumeratedString=function(e){return this[e]},e.prototype.decimalResolution=function(e){var t=o.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t=void 0,i={};for(n.lastIndex=0;null!==(t=n.exec(e));){var o=t[2];0===o.indexOf('"')&&o.lastIndexOf('"')===o.length-1&&(o=o.slice(1,-1)),i[t[1]]=o}return i},e}();t.a=r},function(e,t,i){"use strict";var o=i(3),n=i(1),r=i(4),s=i(2),a=i(0),l=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,n.a.FRAG_LOADING));return o.loaders={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){var t=this.loaders;for(var i in t){var o=t[i];o&&o.destroy()}this.loaders={},e.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag,i=t.type,n=this.loaders,r=this.hls.config,s=r.fLoader,l=r.loader;t.loaded=0;var c=n[i];c&&(a.b.warn("abort previous fragment loader for type: "+i),c.abort()),c=n[i]=t.loader=r.fLoader?new s(r):new l(r);var d,u,f=void 0;f={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var h=t.byteRangeStartOffset,p=t.byteRangeEndOffset;Object(o.a)(h)&&Object(o.a)(p)&&(f.rangeStart=h,f.rangeEnd=p),d={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},c.load(f,d,u)},t.prototype.loadsuccess=function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.data,s=i.frag;s.loader=void 0,this.loaders[s.type]=void 0,this.hls.trigger(n.a.FRAG_LOADED,{payload:r,frag:s,stats:t,networkDetails:o})},t.prototype.loaderror=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t.frag,r=o.loader;r&&r.abort(),this.loaders[o.type]=void 0,this.hls.trigger(n.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:i})},t.prototype.loadtimeout=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t.frag,r=o.loader;r&&r.abort(),this.loaders[o.type]=void 0,this.hls.trigger(n.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:i})},t.prototype.loadprogress=function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.frag;r.loaded=e.loaded,this.hls.trigger(n.a.FRAG_LOAD_PROGRESS,{frag:r,stats:e,networkDetails:o})},t}(r.a);t.a=l},function(e,t,i){"use strict";var o=i(1),n=i(4),r=i(2),s=i(0),a=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,o.a.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},n.a.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,i=t.type,n=this.loaders[i],r=t.decryptdata,a=r.uri;if(a!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;n&&(s.b.warn("abort previous key loader for type:"+i),n.abort()),t.loader=this.loaders[i]=new l.loader(l),this.decrypturl=a,this.decryptkey=null;var c,d,u;c={url:a,frag:t,responseType:"arraybuffer"},d={timeout:l.fragLoadingTimeOut,maxRetry:l.fragLoadingMaxRetry,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(c,d,u)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(o.a.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(o.a.KEY_LOADED,{frag:n})},t.prototype.loaderror=function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(o.a.ERROR,{type:r.b.NETWORK_ERROR,details:r.a.KEY_LOAD_ERROR,fatal:!1,frag:i,response:e})},t.prototype.loadtimeout=function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(o.a.ERROR,{type:r.b.NETWORK_ERROR,details:r.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},t}(n.a);t.a=a},function(e,t,i){"use strict";var o=i(3),n=i(7),r=i(8),s=i(21),a=i(1),l=i(12),c=i(11),d=i(17),u=i(16),f=i(25),h=i(2),p=i(0),g=i(26),v=i(10),y=i(50),m=i(51),b=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),w="STOPPED",x="IDLE",T="KEY_LOADING",_="FRAG_LOADING",E="FRAG_LOADING_WAITING_RETRY",k="WAITING_LEVEL",S="PARSING",A="PARSED",D="BUFFER_FLUSHING",R="ENDED",L="ERROR",C=function(e){function t(i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.MANIFEST_LOADING,a.a.MANIFEST_PARSED,a.a.LEVEL_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_LOAD_EMERGENCY_ABORTED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_SWITCHED,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED));return n.fragmentTracker=o,n.config=i.config,n.audioCodecSwap=!1,n._state=w,n.stallReported=!1,n.gapController=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},t.prototype.onHandlerDestroyed=function(){this.state=w,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},t.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var o=i.startLevel;-1===o&&(o=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=o,this.loadedmetadata=!1}t>0&&-1===e&&(p.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=x,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=w},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=w,this.forceStartLoad=!1},t.prototype.doTick=function(){switch(this.state){case D:this.fragLoadError=0;break;case x:this._doTickIdle();break;case k:var e=this.levels[this.level];e&&e.details&&(this.state=x);break;case E:var t=window.performance.now(),i=this.retryDate;(!i||t>=i||this.media&&this.media.seeking)&&(p.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=x)}this._checkBuffer(),this._checkFragmentChanged()},t.prototype._doTickIdle=function(){var e=this.hls,t=e.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&t.startFragPrefetch)){var o;o=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var n=e.nextLoadLevel,s=this.levels[n];if(s){var l=s.bitrate,c=void 0;c=l?Math.max(8*t.maxBufferSize/l,t.maxBufferLength):t.maxBufferLength,c=Math.min(c,t.maxMaxBufferLength);var d=r.a.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,o,t.maxBufferHole),u=d.len;if(!(u>=c)){p.b.trace("buffer length of "+u.toFixed(3)+" is below max of "+c.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=n;var f=s.details;if(!f||f.live&&this.levelLastLoaded!==n)return void(this.state=k);var h=this.fragPrevious;if(!f.live&&h&&!h.backtracked&&h.sn===f.endSN&&!d.nextStart&&Math.min(i.duration,h.start+h.duration)-Math.max(d.end,h.start)<=Math.max(.2,h.duration)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(a.a.BUFFER_EOS,g),void(this.state=R)}this._fetchPayloadOrEos(o,d,f)}}}},t.prototype._fetchPayloadOrEos=function(e,t,i){var o=this.fragPrevious,n=this.level,r=i.fragments,s=r.length;if(0!==s){var a=r[0].start,l=r[s-1].start+r[s-1].duration,c=t.end,d=void 0;if(i.initSegment&&!i.initSegment.data)d=i.initSegment;else if(i.live){var u=this.config.initialLiveManifestSize;if(s<u)return void p.b.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+u);if(null===(d=this._ensureFragmentAtLivePoint(i,c,a,l,o,r,s)))return}else c<a&&(d=r[0]);d||(d=this._findFragment(a,o,s,r,c,l,i)),d&&(d.encrypted?(p.b.log("Loading key for "+d.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+n),this._loadKey(d)):(p.b.log("Loading "+d.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+n+", currentTime:"+e.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(d)))}},t.prototype._ensureFragmentAtLivePoint=function(e,t,i,o,r,s,a){var l=this.hls.config,c=this.media,d=void 0,u=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(i-l.maxFragLookUpTolerance,o-u)){var f=this.liveSyncPosition=this.computeLivePosition(i,e);p.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),t=f,c&&c.readyState&&c.duration>f&&(c.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>o&&c&&c.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(r)if(e.hasProgramDateTime)p.b.log("live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),d=Object(y.a)(s,r.endProgramDateTime,l.maxFragLookUpTolerance);else{var h=r.sn+1;if(h>=e.startSN&&h<=e.endSN){var g=s[h-e.startSN];r.cc===g.cc&&(d=g,p.b.log("live playlist, switching playlist, load frag with next SN: "+d.sn))}d||(d=n.a.search(s,(function(e){return r.cc-e.cc})))&&p.b.log("live playlist, switching playlist, load frag with same CC: "+d.sn)}d||(d=s[Math.min(a-1,Math.round(a/2))],p.b.log("live playlist, switching playlist, unknown, load middle frag : "+d.sn))}return d},t.prototype._findFragment=function(e,t,i,o,n,r,s){var a=this.hls.config,l=void 0;if(n<r){var c=n>r-a.maxFragLookUpTolerance?0:a.maxFragLookUpTolerance;l=Object(y.b)(t,o,n,c)}else l=o[i-1];if(l){var d=l.sn-s.startSN,u=t&&l.level===t.level,f=o[d-1],h=o[d+1];if(t&&l.sn===t.sn)if(u&&!l.backtracked)if(l.sn<s.endSN){var g=t.deltaPTS;g&&g>a.maxBufferHole&&t.dropped&&d?(l=f,p.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(l=h,p.b.log("SN just loaded, load next one: "+l.sn,l))}else l=null;else l.backtracked&&(h&&h.backtracked?(p.b.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+h.sn),l=h):(p.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,f?(l=f).backtracked=!0:d&&(l=null)))}return l},t.prototype._loadKey=function(e){this.state=T,this.hls.trigger(a.a.KEY_LOADING,{frag:e})},t.prototype._loadFragment=function(e){var t=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,Object(o.a)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===l.a.NOT_LOADED||t===l.a.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(a.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new s.a(this.hls,"main")),this.state=_):t===l.a.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},t.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,d.a.LevelType.MAIN)},t.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},t.prototype._checkFragmentChanged=function(){var e=void 0,t=void 0,i=this.media;if(i&&i.readyState&&!1===i.seeking&&((t=i.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),r.a.isBuffered(i,t)?e=this.getBufferedFrag(t):r.a.isBuffered(i,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var o=e;if(o!==this.fragPlaying){this.hls.trigger(a.a.FRAG_CHANGED,{frag:o});var n=o.level;this.fragPlaying&&this.fragPlaying.level===n||this.hls.trigger(a.a.LEVEL_SWITCHED,{level:n}),this.fragPlaying=o}}},t.prototype.immediateLevelSwitch=function(){if(p.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},t.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,r.a.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},t.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,i=void 0,o=void 0;if((t=this.getBufferedFrag(e.currentTime))&&t.startPTS>1&&this.flushMainBuffer(0,t.startPTS-1),e.paused)i=0;else{var n=this.hls.nextLoadLevel,r=this.levels[n],s=this.fragLastKbps;i=s&&this.fragCurrent?this.fragCurrent.duration*r.bitrate/(1e3*s)+1:0}if((o=this.getBufferedFrag(e.currentTime+i))&&(o=this.followingBufferedFrag(o))){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(o.maxStartPTS,Number.POSITIVE_INFINITY)}}},t.prototype.flushMainBuffer=function(e,t){this.state=D;var i={startOffset:e,endOffset:t};this.altAudio&&(i.type="video"),this.hls.trigger(a.a.BUFFER_FLUSHING,i)},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition),this.gapController=new m.a(i,t,this.fragmentTracker,this.hls)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(p.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){var e=this.media,t=e?e.currentTime:void 0,i=this.config;Object(o.a)(t)&&p.b.log("media seeking to "+t.toFixed(3));var n=this.mediaBuffer?this.mediaBuffer:e,s=r.a.bufferInfo(n,t,this.config.maxBufferHole);if(this.state===_){var a=this.fragCurrent;if(0===s.len&&a){var l=i.maxFragLookUpTolerance,c=a.start-l,d=a.start+a.duration+l;t<c||t>d?(a.loader&&(p.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=x):p.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===R&&(0===s.len&&(this.fragPrevious=0),this.state=x);e&&(this.lastCurrentTime=t),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()},t.prototype.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object(o.a)(t)&&p.b.log("media seeked to "+t.toFixed(3)),this.tick()},t.prototype.onMediaEnded=function(){p.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestLoading=function(){p.b.log("trigger BUFFER_RESET"),this.hls.trigger(a.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestParsed=function(e){var t=!1,i=!1,o=void 0;e.levels.forEach((function(e){(o=e.audioCodec)&&(-1!==o.indexOf("mp4a.40.2")&&(t=!0),-1!==o.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=t&&i,this.audioCodecSwitch&&p.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var n=this.config;(n.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(n.startPosition)},t.prototype.onLevelLoaded=function(e){var t=e.details,i=e.level,n=this.levels[this.levelLastLoaded],r=this.levels[i],s=t.totalduration,l=0;if(p.b.log("level "+i+" loaded ["+t.startSN+","+t.endSN+"],duration:"+s),t.live){var c=r.details;c&&t.fragments.length>0?(u.b(c,t),l=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(l,c),t.PTSKnown&&Object(o.a)(l)?p.b.log("live playlist sliding:"+l.toFixed(3)):(p.b.log("live playlist - outdated PTS, unknown sliding"),Object(g.a)(this.fragPrevious,n,t))):(p.b.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,Object(g.a)(this.fragPrevious,n,t))}else t.PTSKnown=!1;if(r.details=t,this.levelLastLoaded=i,this.hls.trigger(a.a.LEVEL_UPDATED,{details:t,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=t.startTimeOffset;Object(o.a)(d)?(d<0&&(p.b.log("negative start time offset "+d+", count from end of last fragment"),d=l+s+d),p.b.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):t.live?(this.startPosition=this.computeLivePosition(l,t),p.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===k&&(this.state=x),this.tick()},t.prototype.onKeyLoaded=function(){this.state===T&&(this.state=x,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,i=this.hls,o=this.levels,n=this.media,r=e.frag;if(this.state===_&&t&&"main"===r.type&&r.level===t.level&&r.sn===t.sn){var l=e.stats,c=o[t.level],d=c.details;if(this.bitrateTest=!1,this.stats=l,p.b.log("Loaded "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level),r.bitrateTest&&i.nextLoadLevel)this.state=x,this.startFragRequested=!1,l.tparsed=l.tbuffered=window.performance.now(),i.trigger(a.a.FRAG_BUFFERED,{stats:l,frag:t,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state=x,l.tparsed=l.tbuffered=window.performance.now(),d.initSegment.data=e.payload,i.trigger(a.a.FRAG_BUFFERED,{stats:l,frag:t,id:"main"}),this.tick();else{p.b.log("Parsing "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level+", cc "+t.cc),this.state=S,this.pendingBuffering=!0,this.appended=!1,r.bitrateTest&&(r.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:r}));var u=!(n&&n.seeking)&&(d.PTSKnown||!d.live),f=d.initSegment?d.initSegment.data:[],h=this._getAudioCodec(c);(this.demuxer=this.demuxer||new s.a(this.hls,"main")).push(e.payload,f,h,c.videoCodec,t,d.totalduration,u)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,i=e.frag;if(t&&"main"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===S){var o=e.tracks,n=void 0,r=void 0;if(o.audio&&this.altAudio&&delete o.audio,r=o.audio){var s=this.levels[this.level].audioCodec,l=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(p.b.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===l.indexOf("firefox")&&(s="mp4a.40.5"),-1!==l.indexOf("android")&&"audio/mpeg"!==r.container&&(s="mp4a.40.2",p.b.log("Android: force audio codec to "+s)),r.levelCodec=s,r.id=e.id}for(n in(r=o.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=e.id),this.hls.trigger(a.a.BUFFER_CODECS,o),o){r=o[n],p.b.log("main track:"+n+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var c=r.initSegment;c&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,{type:n,data:c,parent:"main",content:"initSegment"}))}this.tick()}},t.prototype.onFragParsingData=function(e){var t=this,i=this.fragCurrent,n=e.frag;if(i&&"main"===e.id&&n.sn===i.sn&&n.level===i.level&&("audio"!==e.type||!this.altAudio)&&this.state===S){var r=this.levels[this.level],s=i;if(Object(o.a)(e.endPTS)||(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),!0===e.hasAudio&&s.addElementaryStream(c.a.ElementaryStreamTypes.AUDIO),!0===e.hasVideo&&s.addElementaryStream(c.a.ElementaryStreamTypes.VIDEO),p.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(s.dropped=e.dropped,s.dropped)if(s.backtracked)p.b.warn("Already backtracked on this fragment, appending with the gap",s.sn);else{var l=r.details;if(!l||s.sn!==l.startSN)return p.b.warn("missing video frame(s), backtracking fragment",s.sn),this.fragmentTracker.removeFragment(s),s.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=x,this.fragPrevious=s,void this.tick();p.b.warn("missing video frame(s) on first frag, appending with gap",s.sn)}else s.backtracked=!1;var d=u.c(r.details,s,e.startPTS,e.endPTS,e.startDTS,e.endDTS),f=this.hls;f.trigger(a.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:d,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(i){i&&i.length&&t.state===S&&(t.appended=!0,t.pendingBuffering=!0,f.trigger(a.a.BUFFER_APPENDING,{type:e.type,data:i,parent:"main",content:"data"}))})),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,i=e.frag;t&&"main"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===S&&(this.stats.tparsed=window.performance.now(),this.state=A,this._checkAppendedParsed())},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,i=e.id;if(!t){if(this.mediaBuffer!==this.media){p.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o.loader&&(p.b.log("switching to main audio track, cancel main fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=x}var n=this.hls;n.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),n.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},t.prototype.onAudioTrackSwitched=function(e){var t=e.id,i=!!this.hls.audioTracks[t].url;if(i){var o=this.videoBuffer;o&&this.mediaBuffer!==o&&(p.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=o)}this.altAudio=i,this.tick()},t.prototype.onBufferCreated=function(e){var t=e.tracks,i=void 0,o=void 0,n=!1;for(var r in t){var s=t[r];"main"===s.id?(o=r,i=s,"video"===r&&(this.videoBuffer=t[r].buffer)):n=!0}n&&i?(p.b.log("alternate track found, use "+o+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},t.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==S&&t!==A||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(!(this.state!==A||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;p.b.log("main buffered : "+f.a.toString(t.buffered)),this.fragPrevious=e;var i=this.stats;i.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(a.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.state=x}this.tick()}},t.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var i=!!this.media&&r.a.isBuffered(this.media,this.media.currentTime)&&r.a.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case h.a.FRAG_LOAD_ERROR:case h.a.FRAG_LOAD_TIMEOUT:case h.a.KEY_LOAD_ERROR:case h.a.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var o=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);p.b.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=window.performance.now()+o,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=E}else p.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=L;break;case h.a.LEVEL_LOAD_ERROR:case h.a.LEVEL_LOAD_TIMEOUT:this.state!==L&&(e.fatal?(this.state=L,p.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==k||(this.state=x));break;case h.a.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==S&&this.state!==A||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=x):(p.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},t.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,p.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},t.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},t.prototype.onFragLoadEmergencyAborted=function(){this.state=x,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},t.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(c.a.ElementaryStreamTypes.VIDEO,e.buffered),this.state=x,this.fragPrevious=null},t.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},t.prototype.computeLivePosition=function(e,t){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-i)},t.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,i=e.seeking?t:this.startPosition;t!==i&&(p.b.log("target start position not buffered, seek to buffered.start(0) "+i+" from current time "+t+" "),e.currentTime=i)},t.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(p.b.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},b(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,p.b.log("main stream:"+t+"->"+e),this.hls.trigger(a.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(v.a);t.a=C},function(e,t,i){function o(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var o=t(t.s=ENTRY_MODULE);return o.default||o}function n(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function r(e,t,o){var r={};r[o]=[];var s=t.toString(),a=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!a)return r;for(var d,u=a[1],f=new RegExp("(\\\\n|\\W)"+n(u)+c,"g");d=f.exec(s);)"dll-reference"!==d[3]&&r[o].push(d[3]);for(f=new RegExp("\\("+n(u)+'\\("(dll-reference\\s('+l+'))"\\)\\)'+c,"g");d=f.exec(s);)e[d[2]]||(r[o].push(d[1]),e[d[2]]=i(d[1]).m),r[d[2]]=r[d[2]]||[],r[d[2]].push(d[4]);return r}function s(e){return Object.keys(e).reduce((function(t,i){return t||e[i].length>0}),!1)}function a(e,t){for(var i={main:[t]},o={main:[]},n={main:{}};s(i);)for(var a=Object.keys(i),l=0;l<a.length;l++){var c=a[l],d=i[c].pop();if(n[c]=n[c]||{},!n[c][d]&&e[c][d]){n[c][d]=!0,o[c]=o[c]||[],o[c].push(d);for(var u=r(e,e[c][d],c),f=Object.keys(u),h=0;h<f.length;h++)i[f[h]]=i[f[h]]||[],i[f[h]]=i[f[h]].concat(u[f[h]])}}return o}var l="[\\.|\\-|\\+|\\w|/|@]+",c="\\((/\\*.*?\\*/)?s?.*?("+l+").*?\\)";e.exports=function(e,t){t=t||{};var n={main:i.m},r=t.all?{main:Object.keys(n)}:a(n,e),s="";Object.keys(r).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;r[e][t];)t++;r[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",s=s+"var "+e+" = ("+o.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+r[e].map((function(t){return JSON.stringify(t)+": "+n[e][t].toString()})).join(",")+"});\n"})),s=s+"("+o.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+r.main.map((function(e){return JSON.stringify(e)+": "+n.main[e].toString()})).join(",")+"})(self);";var l=new window.Blob([s],{type:"text/javascript"});if(t.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),d=new window.Worker(c);return d.objectURL=c,d}},function(e,t,i){"use strict";var o=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.subtle=t,this.aesIV=i}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.a=o},function(e,t,i){"use strict";var o=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.subtle=t,this.key=i}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.a=o},function(e,t,i){"use strict";var o=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),i=new Uint32Array(4),o=0;o<4;o++)i[o]=t.getUint32(4*o);return i},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,i=this.subMix,o=i[0],n=i[1],r=i[2],s=i[3],a=this.invSubMix,l=a[0],c=a[1],d=a[2],u=a[3],f=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,e[h]=v,t[v]=h;var y=f[h],m=f[y],b=f[m],w=257*f[v]^16843008*v;o[h]=w<<24|w>>>8,n[h]=w<<16|w>>>16,r[h]=w<<8|w>>>24,s[h]=w,w=16843009*b^65537*m^257*y^16843008*h,l[v]=w<<24|w>>>8,c[v]=w<<16|w>>>16,d[v]=w<<8|w>>>24,u[v]=w,h?(h=y^f[f[f[b^y]]],p^=f[f[p]]):h=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),i=!0,o=0;o<t.length&&i;)i=t[o]===this.key[o],o++;if(!i){this.key=t;var n=this.keySize=t.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var r=this.ksRows=4*(n+6+1),s=void 0,a=void 0,l=this.keySchedule=new Uint32Array(r),c=this.invKeySchedule=new Uint32Array(r),d=this.sBox,u=this.rcon,f=this.invSubMix,h=f[0],p=f[1],g=f[2],v=f[3],y=void 0,m=void 0;for(s=0;s<r;s++)s<n?y=l[s]=t[s]:(m=y,s%n==0?(m=d[(m=m<<8|m>>>24)>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m],m^=u[s/n|0]<<24):n>6&&s%n==4&&(m=d[m>>>24]<<24|d[m>>>16&255]<<16|d[m>>>8&255]<<8|d[255&m]),l[s]=y=(l[s-n]^m)>>>0);for(a=0;a<r;a++)s=r-a,m=3&a?l[s]:l[s-4],c[a]=a<4||s<=4?m:h[d[m>>>24]]^p[d[m>>>16&255]]^g[d[m>>>8&255]]^v[d[255&m]],c[a]=c[a]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,i,o){for(var n=this.keySize+6,r=this.invKeySchedule,s=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],d=a[2],u=a[3],f=this.uint8ArrayToUint32Array_(i),h=f[0],p=f[1],g=f[2],v=f[3],y=new Int32Array(e),m=new Int32Array(y.length),b=void 0,w=void 0,x=void 0,T=void 0,_=void 0,E=void 0,k=void 0,S=void 0,A=void 0,D=void 0,R=void 0,L=void 0,C=void 0,P=void 0,I=this.networkToHostOrderSwap;t<y.length;){for(A=I(y[t]),D=I(y[t+1]),R=I(y[t+2]),L=I(y[t+3]),_=A^r[0],E=L^r[1],k=R^r[2],S=D^r[3],C=4,P=1;P<n;P++)b=l[_>>>24]^c[E>>16&255]^d[k>>8&255]^u[255&S]^r[C],w=l[E>>>24]^c[k>>16&255]^d[S>>8&255]^u[255&_]^r[C+1],x=l[k>>>24]^c[S>>16&255]^d[_>>8&255]^u[255&E]^r[C+2],T=l[S>>>24]^c[_>>16&255]^d[E>>8&255]^u[255&k]^r[C+3],_=b,E=w,k=x,S=T,C+=4;b=s[_>>>24]<<24^s[E>>16&255]<<16^s[k>>8&255]<<8^s[255&S]^r[C],w=s[E>>>24]<<24^s[k>>16&255]<<16^s[S>>8&255]<<8^s[255&_]^r[C+1],x=s[k>>>24]<<24^s[S>>16&255]<<16^s[_>>8&255]<<8^s[255&E]^r[C+2],T=s[S>>>24]<<24^s[_>>16&255]<<16^s[E>>8&255]<<8^s[255&k]^r[C+3],C+=3,m[t]=I(b^h),m[t+1]=I(T^p),m[t+2]=I(x^g),m[t+3]=I(w^v),h=A,p=D,g=R,v=L,t+=4}return o?function(e){var t=e.byteLength,i=t&&new DataView(e).getUint8(t-1);return i?e.slice(0,t-i):e}(m.buffer):m.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.a=o},function(e,t,i){"use strict";var o=i(3),n=i(23),r=i(0),s=i(9),a=function(){function e(t,i,o){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=o,this.remuxer=i}return e.prototype.resetInitSegment=function(e,t,i,o){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:o,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=(s.a.getID3Data(e,0)||[]).length,i=e.length;t<i;t++)if(n.e(e,t))return r.b.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,t,i,a){for(var l=this._audioTrack,c=s.a.getID3Data(e,0)||[],d=s.a.getTimeStamp(c),u=Object(o.a)(d)?90*d:9e4*t,f=0,h=u,p=e.length,g=c.length,v=[{pts:h,dts:h,data:c}];g<p-1;)if(n.d(e,g)&&g+5<p){n.c(l,this.observer,e,g,l.manifestCodec);var y=n.a(l,e,g,u,f);if(!y){r.b.log("Unable to parse AAC frame");break}g+=y.length,h=y.sample.pts,f++}else s.a.isHeader(e,g)?(c=s.a.getID3Data(e,g),v.push({pts:h,dts:h,data:c}),g+=c.length):g++;this.remuxer.remux(l,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},t,i,a)},e.prototype.destroy=function(){},e}();t.a=a},function(e,t,i){"use strict";var o=i(23),n=i(24),r=i(1),s=i(42),a=i(43),l=i(0),c=i(2),d={video:1,audio:2,id3:3,text:4},u=function(){function e(t,i,o,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=o,this.typeSupported=n,this.remuxer=i,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new a.a(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var i=e._syncOffset(t);return!(i<0||(i&&l.b.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),0))},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),i=0;i<t;){if(71===e[i]&&71===e[i+188]&&71===e[i+376])return i;i++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:d[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,i,o,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",n),this._audioTrack=e.createTrack("audio",n),this._id3Track=e.createTrack("id3",n),this._txtTrack=e.createTrack("text",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=o,this._duration=n},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,i,o,n){var s=void 0,a=t.length,d=void 0,u=void 0,f=void 0,h=void 0,p=!1;this.contiguous=o;var g=this.pmtParsed,v=this._avcTrack,y=this._audioTrack,m=this._id3Track,b=v.pid,w=y.pid,x=m.pid,T=this._pmtId,_=v.pesData,E=y.pesData,k=m.pesData,S=this._parsePAT,A=this._parsePMT,D=this._parsePES,R=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),C=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this),I=e._syncOffset(t);for(a-=(a+I)%188,s=I;s<a;s+=188)if(71===t[s]){if(d=!!(64&t[s+1]),u=((31&t[s+1])<<8)+t[s+2],(48&t[s+3])>>4>1){if((f=s+5+t[s+4])===s+188)continue}else f=s+4;switch(u){case b:d&&(_&&(h=D(_))&&void 0!==h.pts&&R(h,!1),_={data:[],size:0}),_&&(_.data.push(t.subarray(f,s+188)),_.size+=s+188-f);break;case w:d&&(E&&(h=D(E))&&void 0!==h.pts&&(y.isAAC?L(h):C(h)),E={data:[],size:0}),E&&(E.data.push(t.subarray(f,s+188)),E.size+=s+188-f);break;case x:d&&(k&&(h=D(k))&&void 0!==h.pts&&P(h),k={data:[],size:0}),k&&(k.data.push(t.subarray(f,s+188)),k.size+=s+188-f);break;case 0:d&&(f+=t[f]+1),T=this._pmtId=S(t,f);break;case T:d&&(f+=t[f]+1);var M=A(t,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=M.avc)>0&&(v.pid=b),(w=M.audio)>0&&(y.pid=w,y.isAAC=M.isAAC),(x=M.id3)>0&&(m.pid=x),p&&!g&&(l.b.log("reparse from beginning"),p=!1,s=I-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(r.a.ERROR,{type:c.b.MEDIA_ERROR,details:c.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(h=D(_))&&void 0!==h.pts?(R(h,!0),v.pesData=null):v.pesData=_,E&&(h=D(E))&&void 0!==h.pts?(y.isAAC?L(h):C(h),y.pesData=null):(E&&E.size&&l.b.log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=E),k&&(h=D(k))&&void 0!==h.pts?(P(h),m.pesData=null):m.pesData=k,null==this.sampleAes?this.remuxer.remux(y,v,m,this._txtTrack,i,o,n):this.decryptAndRemux(y,v,m,this._txtTrack,i,o,n)},e.prototype.decryptAndRemux=function(e,t,i,o,n,r,s){if(e.samples&&e.isAAC){var a=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){a.decryptAndRemuxAvc(e,t,i,o,n,r,s)}))}else this.decryptAndRemuxAvc(e,t,i,o,n,r,s)},e.prototype.decryptAndRemuxAvc=function(e,t,i,o,n,r,s){if(t.samples){var a=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){a.remuxer.remux(e,t,i,o,n,r,s)}))}else this.remuxer.remux(e,t,i,o,n,r,s)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,i,o){var n,r=void 0,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<n;){switch(r=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!o){l.b.log("unkown stream type:"+e[t]);break}case 15:-1===s.audio&&(s.audio=r);break;case 21:-1===s.id3&&(s.id3=r);break;case 219:if(!o){l.b.log("unkown stream type:"+e[t]);break}case 27:-1===s.avc&&(s.avc=r);break;case 3:case 4:i?-1===s.audio&&(s.audio=r,s.isAAC=!1):l.b.log("MPEG audio found, not supported in this browser for now");break;case 36:l.b.warn("HEVC stream type found, not supported for now");break;default:l.b.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return s},e.prototype._parsePES=function(e){var t=0,i=void 0,o=void 0,n=void 0,r=void 0,s=void 0,a=void 0,c=void 0,d=void 0,u=e.data;if(!e||0===e.size)return null;for(;u[0].length<19&&u.length>1;){var f=new Uint8Array(u[0].length+u[1].length);f.set(u[0]),f.set(u[1],u[0].length),u[0]=f,u.splice(1,1)}if(1===((i=u[0])[0]<<16)+(i[1]<<8)+i[2]){if((n=(i[4]<<8)+i[5])&&n>e.size-6)return null;192&(o=i[7])&&((a=536870912*(14&i[9])+4194304*(255&i[10])+16384*(254&i[11])+128*(255&i[12])+(254&i[13])/2)>4294967295&&(a-=8589934592),64&o?((c=536870912*(14&i[14])+4194304*(255&i[15])+16384*(254&i[16])+128*(255&i[17])+(254&i[18])/2)>4294967295&&(c-=8589934592),a-c>54e5&&(l.b.warn(Math.round((a-c)/9e4)+"s delta between PTS and DTS, align them"),a=c)):c=a),d=(r=i[8])+9,e.size-=d,s=new Uint8Array(e.size);for(var h=0,p=u.length;h<p;h++){var g=(i=u[h]).byteLength;if(d){if(d>g){d-=g;continue}i=i.subarray(d),g-=d,d=0}s.set(i,t),t+=g}return n&&(n-=r+3),{data:s,pts:a,dts:c,len:n}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var i=t.samples,o=i.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(o||this.contiguous)?(e.id=o,i.push(e)):t.dropped++}e.debug.length&&l.b.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var i=this,o=this._avcTrack,n=this._parseAVCNALu(e.data),r=void 0,a=this.avcSample,l=void 0,c=!1,d=void 0,u=this.pushAccesUnit.bind(this),f=function(e,t,i,o){return{key:e,pts:t,dts:i,units:[],debug:o}};e.data=null,a&&n.length&&!o.audFound&&(u(a,o),a=this.avcSample=f(!1,e.pts,e.dts,"")),n.forEach((function(t){switch(t.type){case 1:l=!0,a||(a=i.avcSample=f(!0,e.pts,e.dts,"")),a.frame=!0;var n=t.data;if(c&&n.length>4){var h=new s.a(n).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(a.key=!0)}break;case 5:l=!0,a||(a=i.avcSample=f(!0,e.pts,e.dts,"")),a.key=!0,a.frame=!0;break;case 6:l=!0,(r=new s.a(i.discardEPB(t.data))).readUByte();for(var p=0,g=0,v=!1,y=0;!v&&r.bytesAvailable>1;){p=0;do{p+=y=r.readUByte()}while(255===y);g=0;do{g+=y=r.readUByte()}while(255===y);if(4===p&&0!==r.bytesAvailable){if(v=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var m=r.readUByte(),b=31&m,w=[m,r.readUByte()];for(d=0;d<b;d++)w.push(r.readUByte()),w.push(r.readUByte()),w.push(r.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:e.pts,bytes:w})}}else if(g<r.bytesAvailable)for(d=0;d<g;d++)r.readUByte()}break;case 7:if(l=!0,c=!0,!o.sps){var x=(r=new s.a(t.data)).readSPS();o.width=x.width,o.height=x.height,o.pixelRatio=x.pixelRatio,o.sps=[t.data],o.duration=i._duration;var T=t.data.subarray(1,4),_="avc1.";for(d=0;d<3;d++){var E=T[d].toString(16);E.length<2&&(E="0"+E),_+=E}o.codec=_}break;case 8:l=!0,o.pps||(o.pps=[t.data]);break;case 9:l=!1,o.audFound=!0,a&&u(a,o),a=i.avcSample=f(!1,e.pts,e.dts,"");break;case 12:l=!1;break;default:l=!1,a&&(a.debug+="unknown NAL "+t.type+" ")}a&&l&&a.units.push(t)})),t&&a&&(u(a,o),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var i=e.length;if(i>0){if(t.pts>=e[i-1].pts)e.push(t);else for(var o=i-1;o>=0;o--)if(t.pts<e[o].pts){e.splice(o,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var i=this._avcTrack.samples;e=i[i.length-1]}if(e){var o=e.units;t=o[o.length-1]}return t},e.prototype._parseAVCNALu=function(e){var t=0,i=e.byteLength,o=void 0,n=void 0,r=this._avcTrack,s=r.naluState||0,a=s,l=[],c=void 0,d=-1,u=void 0;for(-1===s&&(d=0,u=31&e[0],s=0,t=1);t<i;)if(o=e[t++],s)if(1!==s)if(o)if(1===o){if(d>=0)c={data:e.subarray(d,t-s-1),type:u},l.push(c);else{var f=this._getLastNalUnit();if(f&&(a&&t<=4-a&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-a)),(n=t-s-1)>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(e.subarray(0,n),f.data.byteLength),f.data=h}}t<i?(d=t,u=31&e[t],s=0):s=-1}else s=0;else s=3;else s=o?0:2;else s=o?0:1;if(d>=0&&s>=0&&(c={data:e.subarray(d,i),type:u,state:s},l.push(c)),0===l.length){var p=this._getLastNalUnit();if(p){var g=new Uint8Array(p.data.byteLength+e.byteLength);g.set(p.data,0),g.set(e,p.data.byteLength),p.data=g}}return r.naluState=s,l},e.prototype.discardEPB=function(e){for(var t,i=e.byteLength,o=[],n=1,r=void 0;n<i-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(o.push(n+2),n+=2):n++;if(0===o.length)return e;t=i-o.length,r=new Uint8Array(t);var s=0;for(n=0;n<t;s++,n++)s===o[0]&&(s++,o.shift()),r[n]=e[s];return r},e.prototype._parseAACPES=function(e){var t,i,n=this._audioTrack,s=e.data,a=e.pts,d=this.aacOverFlow,u=this.aacLastPTS,f=void 0,h=void 0,p=void 0;if(d){var g=new Uint8Array(d.byteLength+s.byteLength);g.set(d,0),g.set(s,d.byteLength),s=g}for(h=0,i=s.length;h<i-1&&!o.d(s,h);h++);if(h){var v=void 0,y=void 0;if(h<i-1?(v="AAC PES did not start with ADTS header,offset:"+h,y=!1):(v="no ADTS header found in AAC PES",y=!0),l.b.warn("parsing error:"+v),this.observer.trigger(r.a.ERROR,{type:c.b.MEDIA_ERROR,details:c.a.FRAG_PARSING_ERROR,fatal:y,reason:v}),y)return}if(o.c(n,this.observer,s,h,this.audioCodec),f=0,t=o.b(n.samplerate),d&&u){var m=u+t;Math.abs(m-a)>1&&(l.b.log("AAC: align PTS for overlapping frames by "+Math.round((m-a)/90)),a=m)}for(;h<i;)if(o.d(s,h)&&h+5<i){var b=o.a(n,s,h,a,f);if(!b)break;h+=b.length,p=b.sample.pts,f++}else h++;d=h<i?s.subarray(h,i):null,this.aacOverFlow=d,this.aacLastPTS=p},e.prototype._parseMPEGPES=function(e){for(var t=e.data,i=t.length,o=0,r=0,s=e.pts;r<i;)if(n.a.isHeader(t,r)){var a=n.a.appendFrame(this._audioTrack,t,r,s,o);if(!a)break;r+=a.length,o++}else r++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.a=u},function(e,t,i){"use strict";var o=i(0),n=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,o=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error("no bytes available");o.set(e.subarray(i,i+n)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},e.prototype.skipBits=function(e){var t=void 0;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;return e>32&&o.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?i<<t|this.readBits(t):i},e.prototype.skipLZ=function(){var e=void 0;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t=8,i=8,o=void 0;for(o=0;o<e;o++)0!==i&&(i=(t+this.readEG()+256)%256),t=0===i?t:i},e.prototype.readSPS=function(){var e,t,i,o,n=0,r=0,s=0,a=0,l=void 0,c=void 0,d=void 0,u=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(u(),e=u(),f(5),g(3),u(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&g(1),y(),y(),g(1),p())for(c=3!==b?8:12,d=0;d<c;d++)p()&&m(d<6?16:64)}y();var w=h();if(0===w)h();else if(1===w)for(g(1),v(),v(),l=h(),d=0;d<l;d++)v();y(),g(1),t=h(),i=h(),0===(o=f(1))&&g(1),g(1),p()&&(n=h(),r=h(),s=h(),a=h());var x=[1,1];if(p()&&p())switch(u()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:x=[u()<<8|u(),u()<<8|u()]}return{width:Math.ceil(16*(t+1)-2*n-2*r),height:(2-o)*(i+1)*16-(o?2:4)*(s+a),pixelRatio:x}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.a=n},function(e,t,i){"use strict";var o=i(14),n=function(){function e(t,i,n,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.decryptdata=n,this.discardEPB=r,this.decrypter=new o.a(t,i,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,i,o){var n=e[t].unit,r=n.subarray(16,n.length-n.length%16),s=r.buffer.slice(r.byteOffset,r.byteOffset+r.length),a=this;this.decryptBuffer(s,(function(r){r=new Uint8Array(r),n.set(r,16),o||a.decryptAacSamples(e,t+1,i)}))},e.prototype.decryptAacSamples=function(e,t,i){for(;;t++){if(t>=e.length)return void i();if(!(e[t].unit.length<32)){var o=this.decrypter.isSync();if(this.decryptAacSample(e,t,i,o),!o)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,i=new Int8Array(t),o=0,n=32;n<=e.length-16;n+=160,o+=16)i.set(e.subarray(n,n+16),o);return i},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var i=0,o=32;o<=e.length-16;o+=160,i+=16)e.set(t.subarray(i,i+16),o);return e},e.prototype.decryptAvcSample=function(e,t,i,o,n,r){var s=this.discardEPB(n.data),a=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(a.buffer,(function(a){n.data=l.getAvcDecryptedUnit(s,a),r||l.decryptAvcSamples(e,t,i+1,o)}))},e.prototype.decryptAvcSamples=function(e,t,i,o){for(;;t++,i=0){if(t>=e.length)return void o();for(var n=e[t].units;!(i>=n.length);i++){var r=n[i];if(!(r.length<=48||1!==r.type&&5!==r.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(e,t,i,o,r,s),!s)return}}}},e}();t.a=n},function(e,t,i){"use strict";var o=i(9),n=i(0),r=i(24),s=function(){function e(t,i,o){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=o,this.remuxer=i}return e.prototype.resetInitSegment=function(e,t,i,o){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:o,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t=void 0,i=void 0,s=o.a.getID3Data(e,0);if(s&&void 0!==o.a.getTimeStamp(s))for(t=s.length,i=Math.min(e.length-1,t+100);t<i;t++)if(r.a.probe(e,t))return n.b.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,i,n){for(var s=o.a.getID3Data(e,0),a=o.a.getTimeStamp(s),l=a?90*a:9e4*t,c=s.length,d=e.length,u=0,f=0,h=this._audioTrack,p=[{pts:l,dts:l,data:s}];c<d;)if(r.a.isHeader(e,c)){var g=r.a.appendFrame(h,e,c,l,u);if(!g)break;c+=g.length,f=g.sample.pts,u++}else o.a.isHeader(e,c)?(s=o.a.getID3Data(e,c),p.push({pts:f,dts:f,data:s}),c+=s.length):c++;this.remuxer.remux(h,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,i,n)},e.prototype.destroy=function(){},e}();t.a=s},function(e,t,i){"use strict";var o=i(46),n=i(47),r=i(1),s=i(2),a=i(0),l=function(){function e(t,i,o,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.observer=t,this.config=i,this.typeSupported=o;var r=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&r&&!r.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,i,o,n,s,l){if(this.ISGenerated||this.generateIS(e,t,n),this.ISGenerated){var c=e.samples.length,d=t.samples.length,u=n,f=n;if(c&&d){var h=(e.samples[0].dts-t.samples[0].dts)/t.inputTimeScale;u+=Math.max(0,h),f+=Math.max(0,-h)}if(c){e.timescale||(a.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,n));var p=this.remuxAudio(e,u,s,l);if(d){var g=void 0;p&&(g=p.endPTS-p.startPTS),t.timescale||(a.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,n)),this.remuxVideo(t,f,s,g,l)}}else if(d){var v=this.remuxVideo(t,f,s,0,l);v&&e.codec&&this.remuxEmptyAudio(e,u,s,v)}}i.samples.length&&this.remuxID3(i,n),o.samples.length&&this.remuxText(o,n),this.observer.trigger(r.a.FRAG_PARSED)},e.prototype.generateIS=function(e,t,i){var o=this.observer,l=e.samples,c=t.samples,d=this.typeSupported,u="audio/mp4",f={},h={tracks:f},p=void 0===this._initPTS,g=void 0,v=void 0;if(p&&(g=v=1/0),e.config&&l.length&&(e.timescale=e.samplerate,a.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(d.mpeg?(u="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),f.audio={container:u,codec:e.codec,initSegment:!e.isAAC&&d.mpeg?new Uint8Array:n.a.initSegment([e]),metadata:{channelCount:e.channelCount}},p&&(g=v=l[0].pts-e.inputTimeScale*i)),t.sps&&t.pps&&c.length){var y=t.inputTimeScale;t.timescale=y,f.video={container:"video/mp4",codec:t.codec,initSegment:n.a.initSegment([t]),metadata:{width:t.width,height:t.height}},p&&(g=Math.min(g,c[0].pts-y*i),v=Math.min(v,c[0].dts-y*i),this.observer.trigger(r.a.INIT_PTS_FOUND,{initPTS:g}))}Object.keys(f).length?(o.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,p&&(this._initPTS=g,this._initDTS=v)):o.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,i,o,l){var c=8,d=e.timescale,u=void 0,f=void 0,h=void 0,p=void 0,g=void 0,v=void 0,y=void 0,m=e.samples,b=[],w=m.length,x=this._PTSNormalize,T=this._initDTS,_=this.nextAvcDts,E=this.isSafari;if(0!==w){E&&(i|=m.length&&_&&(l&&Math.abs(t-_/d)<.1||Math.abs(m[0].pts-_-T)<d/5)),i||(_=t*d),m.forEach((function(e){e.pts=x(e.pts-T,_),e.dts=x(e.dts-T,_)})),m.sort((function(e,t){var i=e.dts-t.dts,o=e.pts-t.pts;return i||o||e.id-t.id}));var k=m.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)}),0);if(k<0){a.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(k/90)+" ms to overcome this issue");for(var S=0;S<m.length;S++)m[S].dts+=k}var A=m[0];g=Math.max(A.dts,0),p=Math.max(A.pts,0);var D=Math.round((g-_)/90);i&&D&&(D>1?a.b.log("AVC:"+D+" ms hole between fragments detected,filling it"):D<-1&&a.b.log("AVC:"+-D+" ms overlapping between fragments detected"),g=_,m[0].dts=g,p=Math.max(p-D,_),m[0].pts=p,a.b.log("Video/PTS/DTS adjusted: "+Math.round(p/90)+"/"+Math.round(g/90)+",delta:"+D+" ms")),A=m[m.length-1],y=Math.max(A.dts,0),v=Math.max(A.pts,0,y),E&&(u=Math.round((y-g)/(m.length-1)));for(var R=0,L=0,C=0;C<w;C++){for(var P=m[C],I=P.units,M=I.length,O=0,U=0;U<M;U++)O+=I[U].data.length;L+=O,R+=M,P.length=O,P.dts=E?g+C*u:Math.max(P.dts,g),P.pts=Math.max(P.pts,P.dts)}var j=L+4*R+8;try{f=new Uint8Array(j)}catch(e){return void this.observer.trigger(r.a.ERROR,{type:s.b.MUX_ERROR,details:s.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating video mdat "+j})}var F=new DataView(f.buffer);F.setUint32(0,j),f.set(n.a.types.mdat,4);for(var W=0;W<w;W++){for(var V=m[W],q=V.units,B=0,N=void 0,X=0,H=q.length;X<H;X++){var G=q[X],z=G.data,Z=G.data.byteLength;F.setUint32(c,Z),c+=4,f.set(z,c),c+=Z,B+=4+Z}if(E)N=Math.max(0,u*Math.round((V.pts-V.dts)/u));else{if(W<w-1)u=m[W+1].dts-V.dts;else{var K=this.config,J=V.dts-m[W>0?W-1:W].dts;if(K.stretchShortVideoTrack){var Y=K.maxBufferHole,Q=Math.floor(Y*d),$=(o?p+o*d:this.nextAudioPts)-V.pts;$>Q?((u=$-J)<0&&(u=J),a.b.log("It is approximately "+$/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=J}else u=J}N=Math.round(V.pts-V.dts)}b.push({size:B,duration:u,cts:N,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:V.key?2:1,isNonSync:V.key?0:1}})}this.nextAvcDts=y+u;var ee=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var te=b[0].flags;te.dependsOn=2,te.isNonSync=0}e.samples=b,h=n.a.moof(e.sequenceNumber++,g,e),e.samples=[];var ie={data1:h,data2:f,startPTS:p/d,endPTS:(v+u)/d,startDTS:g/d,endDTS:this.nextAvcDts/d,type:"video",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:ee};return this.observer.trigger(r.a.FRAG_PARSING_DATA,ie),ie}},e.prototype.remuxAudio=function(e,t,i,l){var c=e.inputTimeScale,d=e.timescale,u=c/d,f=(e.isAAC?1024:1152)*u,h=this._PTSNormalize,p=this._initDTS,g=!e.isAAC&&this.typeSupported.mpeg,v=void 0,y=void 0,m=void 0,b=void 0,w=void 0,x=void 0,T=void 0,_=e.samples,E=[],k=this.nextAudioPts;if(i|=_.length&&k&&(l&&Math.abs(t-k/c)<.1||Math.abs(_[0].pts-k-p)<20*f),_.forEach((function(e){e.pts=e.dts=h(e.pts-p,t*c)})),_=_.filter((function(e){return e.pts>=0})),0!==_.length){if(i||(k=l?t*c:_[0].pts),e.isAAC)for(var S=this.config.maxAudioFramesDrift,A=0,D=k;A<_.length;){var R,L=_[A];R=L.pts-D;var C=Math.abs(1e3*R/c);if(R<=-S*f)a.b.warn("Dropping 1 audio frame @ "+(D/c).toFixed(3)+"s due to "+Math.round(C)+" ms overlap."),_.splice(A,1),e.len-=L.unit.length;else if(R>=S*f&&C<1e4&&D){var P=Math.round(R/f);a.b.warn("Injecting "+P+" audio frame @ "+(D/c).toFixed(3)+"s due to "+Math.round(1e3*R/c)+" ms gap.");for(var I=0;I<P;I++){var M=Math.max(D,0);(m=o.a.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(a.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),m=L.unit.subarray()),_.splice(A,0,{unit:m,pts:M,dts:M}),e.len+=m.length,D+=f,A++}L.pts=L.dts=D,D+=f,A++}else Math.abs(R),L.pts=L.dts=D,D+=f,A++}for(var O=0,U=_.length;O<U;O++){var j=_[O],F=j.unit,W=j.pts;if(void 0!==T)y.duration=Math.round((W-T)/u);else{var V=Math.round(1e3*(W-k)/c),q=0;if(i&&e.isAAC&&V){if(V>0&&V<1e4)q=Math.round((W-k)/f),a.b.log(V+" ms hole between AAC samples detected,filling it"),q>0&&((m=o.a.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(m=F.subarray()),e.len+=q*m.length);else if(V<-12){a.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(k/c).toFixed(3)+"s/"+(W/c).toFixed(3)+"s/"+-V+"ms"),e.len-=F.byteLength;continue}W=k}if(x=W,!(e.len>0))return;var B=g?e.len:e.len+8;v=g?0:8;try{b=new Uint8Array(B)}catch(e){return void this.observer.trigger(r.a.ERROR,{type:s.b.MUX_ERROR,details:s.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating audio mdat "+B})}g||(new DataView(b.buffer).setUint32(0,B),b.set(n.a.types.mdat,4));for(var N=0;N<q;N++)(m=o.a.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(a.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),m=F.subarray()),b.set(m,v),v+=m.byteLength,y={size:m.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(y)}b.set(F,v);var X=F.byteLength;v+=X,y={size:X,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(y),T=W}var H=0,G=E.length;if(G>=2&&(H=E[G-2].duration,y.duration=H),G){this.nextAudioPts=k=T+u*H,e.len=0,e.samples=E,w=g?new Uint8Array:n.a.moof(e.sequenceNumber++,x/u,e),e.samples=[];var z=x/c,Z=k/c,K={data1:w,data2:b,startPTS:z,endPTS:Z,startDTS:z,endDTS:Z,type:"audio",hasAudio:!0,hasVideo:!1,nb:G};return this.observer.trigger(r.a.FRAG_PARSING_DATA,K),K}return null}},e.prototype.remuxEmptyAudio=function(e,t,i,n){var r=e.inputTimeScale,s=r/(e.samplerate?e.samplerate:r),l=this.nextAudioPts,c=(void 0!==l?l:n.startDTS*r)+this._initDTS,d=n.endDTS*r+this._initDTS,u=1024*s,f=Math.ceil((d-c)/u),h=o.a.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(a.b.warn("remux empty Audio"),h){for(var p=[],g=0;g<f;g++){var v=c+g*u;p.push({unit:h,pts:v,dts:v}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,i)}else a.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e,t){var i=e.samples.length,o=void 0,n=e.inputTimeScale,s=this._initPTS,a=this._initDTS;if(i){for(var l=0;l<i;l++)(o=e.samples[l]).pts=(o.pts-s)/n,o.dts=(o.dts-a)/n;this.observer.trigger(r.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e,t){e.samples.sort((function(e,t){return e.pts-t.pts}));var i=e.samples.length,o=void 0,n=e.inputTimeScale,s=this._initPTS;if(i){for(var a=0;a<i;a++)(o=e.samples[a]).pts=(o.pts-s)/n;this.observer.trigger(r.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var i;if(void 0===t)return e;for(i=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=i;return e},e}();t.a=l},function(e,t,i){"use strict";var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.a=o},function(e,t,i){"use strict";var o=Math.pow(2,32)-1,n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t=void 0;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:i,audio:o};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=r,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,a),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))},e.box=function(e){for(var t=Array.prototype.slice.call(arguments,1),i=8,o=t.length,n=o,r=void 0;o--;)i+=t[o].byteLength;for((r=new Uint8Array(i))[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=255&i,r.set(e,4),o=0,i=8;o<n;o++)r.set(t[o],i),i+=t[o].byteLength;return r},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,i){i*=t;var n=Math.floor(i/(o+1)),r=Math.floor(i%(o+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,i,o){return e.box(e.types.moof,e.mfhd(t),e.traf(o,i))},e.moov=function(t){for(var i=t.length,o=[];i--;)o[i]=e.trak(t[i]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(o).concat(e.mvex(t)))},e.mvex=function(t){for(var i=t.length,o=[];i--;)o[i]=e.trex(t[i]);return e.box.apply(null,[e.types.mvex].concat(o))},e.mvhd=function(t,i){i*=t;var n=Math.floor(i/(o+1)),r=Math.floor(i%(o+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,s)},e.sdtp=function(t){var i=t.samples||[],o=new Uint8Array(4+i.length),n=void 0,r=void 0;for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var i=[],o=[],n=void 0,r=void 0,s=void 0;for(n=0;n<t.sps.length;n++)s=(r=t.sps[n]).byteLength,i.push(s>>>8&255),i.push(255&s),i=i.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)s=(r=t.pps[n]).byteLength,o.push(s>>>8&255),o.push(255&s),o=o.concat(Array.prototype.slice.call(r));var a=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),l=t.width,c=t.height,d=t.pixelRatio[0],u=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,u>>24,u>>16&255,u>>8&255,255&u])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var i=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var i=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var i=t.id,n=t.duration*t.timescale,r=t.width,s=t.height,a=Math.floor(n/(o+1)),l=Math.floor(n%(o+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,s>>8&255,255&s,0,0]))},e.traf=function(t,i){var n=e.sdtp(t),r=t.id,s=Math.floor(i/(o+1)),a=Math.floor(i%(o+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,a>>24,a>>16&255,a>>8&255,255&a])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var i=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,i){var o=t.samples||[],n=o.length,r=12+16*n,s=new Uint8Array(r),a=void 0,l=void 0,c=void 0,d=void 0,u=void 0,f=void 0;for(i+=8+r,s.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),a=0;a<n;a++)c=(l=o[a]).duration,d=l.size,u=l.flags,f=l.cts,s.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,d>>>24&255,d>>>16&255,d>>>8&255,255&d,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,f>>>24&255,f>>>16&255,f>>>8&255,255&f],12+16*a);return e.box(e.types.trun,s)},e.initSegment=function(t){e.types||e.init();var i=e.moov(t),o=void 0;return(o=new Uint8Array(e.FTYP.byteLength+i.byteLength)).set(e.FTYP),o.set(i,e.FTYP.byteLength),o},e}();t.a=n},function(e,t,i){"use strict";var o=i(1),n=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.observer=t}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,i,n,r,s,a,l){var c=this.observer,d="";e&&(d+="audio"),t&&(d+="video"),c.trigger(o.a.FRAG_PARSING_DATA,{data1:l,startPTS:r,startDTS:r,type:d,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),c.trigger(o.a.FRAG_PARSED)},e}();t.a=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(22),n=i(1),r=i(0),s=i(13),a=i.n(s);t.default=function(e){var t=new a.a;t.trigger=function(e){for(var i=arguments.length,o=Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];t.emit.apply(t,[e,e].concat(o))},t.off=function(e){for(var i=arguments.length,o=Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];t.removeListener.apply(t,[e].concat(o))};var i=function(t,i){e.postMessage({event:t,data:i})};e.addEventListener("message",(function(n){var s=n.data;switch(s.cmd){case"init":var a=JSON.parse(s.config);e.demuxer=new o.a(t,s.typeSupported,a,s.vendor);try{Object(r.a)(!0===a.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":e.demuxer.push(s.data,s.decryptdata,s.initSegment,s.audioCodec,s.videoCodec,s.timeOffset,s.discontinuity,s.trackSwitch,s.contiguous,s.duration,s.accurateTimeOffset,s.defaultInitPTS)}})),t.on(n.a.FRAG_DECRYPTED,i),t.on(n.a.FRAG_PARSING_INIT_SEGMENT,i),t.on(n.a.FRAG_PARSED,i),t.on(n.a.ERROR,i),t.on(n.a.FRAG_PARSING_METADATA,i),t.on(n.a.FRAG_PARSING_USERDATA,i),t.on(n.a.INIT_PTS_FOUND,i),t.on(n.a.FRAG_PARSING_DATA,(function(t,i){var o=[],n={event:t,data:i};i.data1&&(n.data1=i.data1.buffer,o.push(i.data1.buffer),delete i.data1),i.data2&&(n.data2=i.data2.buffer,o.push(i.data2.buffer),delete i.data2),e.postMessage(n,o)}))}},function(e,t,i){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],o=Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-o<=e?1:i.start-o>e&&i.start?-1:0}function n(e,t,i){var o=1e3*Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.endProgramDateTime-o>e}t.a=function(e,t,i){if(!Array.isArray(e)||!e.length||!Object(r.a)(t))return null;if(t<e[0].programDateTime)return null;if(t>=e[e.length-1].endProgramDateTime)return null;i=i||0;for(var o=0;o<e.length;++o){var s=e[o];if(n(t,i,s))return s}return null},t.b=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e?t[e.sn-t[0].sn+1]:null;return r&&!o(i,n,r)?r:s.a.search(t,o.bind(null,i,n))};var r=i(3),s=i(7)},function(e,t,i){"use strict";var o=i(8),n=i(2),r=i(1),s=i(0),a=function(){function e(t,i,o,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.config=t,this.media=i,this.fragmentTracker=o,this.hls=n,this.stallReported=!1}return e.prototype.poll=function(e,t){var i=this.config,n=this.media,r=n.currentTime,a=window.performance.now();if(r!==e)return this.stallReported&&(s.b.warn("playback not stuck anymore @"+r+", after "+Math.round(a-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(n.ended||!n.buffered.length||n.readyState>2||n.seeking&&o.a.isBuffered(n,r))){var l=a-this.stalled,c=o.a.bufferInfo(n,r,i.maxBufferHole);if(!this.stalled)return void(this.stalled=a);l>=1e3&&this._reportStall(c.len),this._tryFixBufferStall(c,l)}},e.prototype._tryFixBufferStall=function(e,t){var i=this.config,o=this.fragmentTracker,n=this.media.currentTime,r=o.getPartialFragment(n);r&&this._trySkipBufferHole(r),e.len>.5&&t>1e3*i.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,i=this.media;this.stallReported||(this.stallReported=!0,s.b.warn("Playback stalling at @"+i.currentTime+" due to low buffer"),t.trigger(r.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,i=this.media,o=i.currentTime,a=0,l=0;l<i.buffered.length;l++){var c=i.buffered.start(l);if(o>=a&&o<c)return i.currentTime=Math.max(c,i.currentTime+.1),s.b.warn("skipping hole, adjusting currentTime from "+o+" to "+i.currentTime),this.stalled=null,void t.trigger(r.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+o+" to "+i.currentTime,frag:e});a=i.buffered.end(l)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,i=this.media,o=i.currentTime,a=(this.nudgeRetry||0)+1;if(this.nudgeRetry=a,a<e.nudgeMaxRetry){var l=o+a*e.nudgeOffset;s.b.log("adjust currentTime from "+o+" to "+l),i.currentTime=l,t.trigger(r.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else s.b.error("still stuck in high buffer @"+o+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(r.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.a=a},function(e,t,i){"use strict";var o=i(1),n=i(4),r=i(0),s=i(2),a=i(20),l=i(16),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),u=window.performance,f=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,o.a.MANIFEST_LOADED,o.a.LEVEL_LOADED,o.a.AUDIO_TRACK_SWITCHED,o.a.FRAG_LOADED,o.a.ERROR));return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t=[],i=void 0,n={},c=null,d=!1,u=!1,f=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),h=[];if(e.levels.forEach((function(e){e.loadError=0,e.fragmentError=!1,d=d||!!e.videoCodec,u=u||!!e.audioCodec||!(!e.attrs||!e.attrs.AUDIO),f&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(c=n[e.bitrate])?c.url.push(e.url):(e.url=[e.url],e.urlId=0,n[e.bitrate]=e,t.push(e)),e.attrs&&e.attrs.AUDIO&&Object(l.a)(c||e,"audio",e.attrs.AUDIO),e.attrs&&e.attrs.SUBTITLES&&Object(l.a)(c||e,"text",e.attrs.SUBTITLES)})),d&&u&&(t=t.filter((function(e){return!!e.videoCodec}))),t=t.filter((function(e){var t=e.audioCodec,i=e.videoCodec;return(!t||Object(a.a)(t))&&(!i||Object(a.a)(i))})),e.audioTracks&&(h=e.audioTracks.filter((function(e){return!e.audioCodec||Object(a.a)(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),t.length>0){i=t[0].bitrate,t.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=t;for(var p=0;p<t.length;p++)if(t[p].bitrate===i){this._firstLevel=p,r.b.log("manifest loaded,"+t.length+" level(s) found, first bitrate:"+i);break}this.hls.trigger(o.a.MANIFEST_PARSED,{levels:t,audioTracks:h,firstLevel:this._firstLevel,stats:e.stats,audio:u,video:d,altAudio:h.length>0&&d})}else this.hls.trigger(o.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},t.prototype.setLevelInternal=function(e){var t=this._levels,i=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){r.b.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,i.trigger(o.a.LEVEL_SWITCHING,n)}var a=t[e],l=a.details;if(!l||l.live){var c=a.urlId;i.trigger(o.a.LEVEL_LOADING,{url:a.url[c],level:e,id:c})}}else i.trigger(o.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},t.prototype.onError=function(e){if(e.fatal)e.type===s.b.NETWORK_ERROR&&this.clearTimer();else{var t=!1,i=!1,o=void 0;switch(e.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:o=e.frag.level,i=!0;break;case s.a.LEVEL_LOAD_ERROR:case s.a.LEVEL_LOAD_TIMEOUT:o=e.context.level,t=!0;break;case s.a.REMUX_ALLOC_ERROR:o=e.level,t=!0}void 0!==o&&this.recoverLevel(e,o,t,i)}},t.prototype.recoverLevel=function(e,t,i,o){var n=this,s=this.hls.config,a=e.details,l=this._levels[t],c=void 0,d=void 0,u=void 0;if(l.loadError++,l.fragmentError=o,i){if(!(this.levelRetryCount+1<=s.levelLoadingMaxRetry))return r.b.error("level controller, cannot recover from "+a+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);d=Math.min(Math.pow(2,this.levelRetryCount)*s.levelLoadingRetryDelay,s.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return n.loadLevel()}),d),e.levelRetry=!0,this.levelRetryCount++,r.b.warn("level controller, "+a+", retry in "+d+" ms, current retry count is "+this.levelRetryCount)}(i||o)&&((c=l.url.length)>1&&l.loadError<c?(l.urlId=(l.urlId+1)%c,l.details=void 0,r.b.warn("level controller, "+a+" for level "+t+": switching to redundant URL-id "+l.urlId)):-1===this.manualLevelIndex?(u=0===t?this._levels.length-1:t-1,r.b.warn("level controller, "+a+": switch to "+u),this.hls.nextAutoLevel=this.currentLevelIndex=u):o&&(r.b.warn("level controller, "+a+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var i=this._levels[t.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,i=e.level;if(i===this.currentLevelIndex){var o=this._levels[i];o.fragmentError||(o.loadError=0,this.levelRetryCount=0);var n=e.details;if(n.live){var s=1e3*(n.averagetargetduration?n.averagetargetduration:n.targetduration),a=s,l=o.details;l&&n.endSN===l.endSN&&(a/=2,r.b.log("same live playlist, reload twice faster")),a-=u.now()-e.stats.trequest,a=Math.max(s/2,Math.round(a)),r.b.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),a)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,i=this.hls.levels[this.currentLevelIndex];if(i&&i.audioGroupIds){var o=i.audioGroupIds.findIndex((function(e){return e===t}));o!==i.urlId&&(i.urlId=o,this.startLoad())}},t.prototype.loadLevel=function(){if(r.b.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"===(void 0===e?"undefined":c(e))&&e.url.length>0){var t=this.currentLevelIndex,i=e.urlId,n=e.url[i];r.b.log("Attempt loading level index "+t+" with URL-id "+i),this.hls.trigger(o.a.LEVEL_LOADING,{url:n,level:t,id:i})}}},d(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(n.a);t.a=f},function(e,t,i){"use strict";var o=i(1),n=i(4),r=i(9),s=i(27),a=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,o.a.MEDIA_ATTACHED,o.a.MEDIA_DETACHING,o.a.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){n.a.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){Object(s.a)(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var i=e[t];if("metadata"===i.kind&&"id3"===i.label)return Object(s.b)(i,this.media),i}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,i=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var o=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,n=0;n<i.length;n++){var s=r.a.getID3Frames(i[n].data);if(s){var a=i[n].pts,l=n<i.length-1?i[n+1].pts:t.endPTS;a===l&&(l+=1e-4);for(var c=0;c<s.length;c++){var d=s[c];if(!r.a.isTimeStampFrame(d)){var u=new o(a,l,"");u.value=d,this.id3Track.addCue(u)}}}}},t}(n.a);t.a=a},function(e,t,i){"use strict";t.a=function(){var e=Object(o.a)(),t=window.SourceBuffer||window.WebKitSourceBuffer,i=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!i&&!!n};var o=i(15)},function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var o=i(56),n=i(59),r=i(60),s=i(61),a=i(62),l=i(63),c=i(64),d=i(65),u=i(67),f=i(71),h=i(72),p=i(73),g=i(74),v={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:a.a,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:o.a,bufferController:n.a,capLevelController:r.a,fpsController:s.a,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.a};v.subtitleStreamController=h.a,v.subtitleTrackController=f.a,v.timelineController=u.a,v.cueHandler=d,v.enableCEA708Captions=!0,v.enableWebVTT=!0,v.captionsTextTrack1Label="English",v.captionsTextTrack1LanguageCode="en",v.captionsTextTrack2Label="Spanish",v.captionsTextTrack2LanguageCode="es",v.audioStreamController=c.a,v.audioTrackController=l.a,v.emeController=p.a},function(e,t,i){"use strict";var o=i(3),n=i(1),r=i(4),s=i(8),a=i(2),l=i(0),c=i(57),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),u=window.performance,f=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,n.a.FRAG_LOADING,n.a.FRAG_LOADED,n.a.FRAG_BUFFERED,n.a.ERROR));return o.lastLoadedFragLevel=0,o._nextAutoLevel=-1,o.hls=i,o.timer=null,o._bwEstimator=null,o.onCheck=o._abandonRulesCheck.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.clearTimer(),r.a.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var i=this.hls,o=i.config,n=t.level,r=void 0,s=void 0;i.levels[n].details.live?(r=o.abrEwmaFastLive,s=o.abrEwmaSlowLive):(r=o.abrEwmaFastVoD,s=o.abrEwmaSlowVoD),this._bwEstimator=new c.a(i,s,r,o.abrEwmaDefaultEstimate)}},t.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,i=this.fragCurrent;if(i){var o=i.loader,r=e.minAutoLevel;if(!o||o.stats&&o.stats.aborted)return l.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=o.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&i.autoLevel&&i.level){var c=u.now()-a.trequest,d=Math.abs(t.playbackRate);if(c>500*i.duration/d){var f=e.levels,h=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/c),p=f[i.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,v=a.total?a.total:Math.max(a.loaded,Math.round(i.duration*g/8)),y=t.currentTime,m=(v-a.loaded)/h,b=(s.a.bufferInfo(t,y,e.config.maxBufferHole).end-y)/d;if(b<2*i.duration/d&&m>b){var w=void 0,x=void 0;for(x=i.level-1;x>r;x--){var T=f[x].realBitrate?Math.max(f[x].realBitrate,f[x].bitrate):f[x].bitrate;if((w=i.duration*T/(6.4*h))<b)break}w<m&&(l.b.warn("loading too slow, abort fragment loading and switch to level "+x+":fragLoadedDelay["+x+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+w.toFixed(1)+"<"+m.toFixed(1)+":"+b.toFixed(1)),e.nextLoadLevel=x,this._bwEstimator.sample(c,a.loaded),o.abort(),this.clearTimer(),e.trigger(n.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:a}))}}}}},t.prototype.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object(o.a)(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[t.level],n=(i.loaded?i.loaded.bytes:0)+e.stats.loaded,r=(i.loaded?i.loaded.duration:0)+e.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(e.frag.bitrateTest){var s=e.stats;s.tparsed=s.tbuffered=s.tload,this.onFragBuffered(e)}}},t.prototype.onFragBuffered=function(e){var t=e.stats,i=e.frag;if(!0!==t.aborted&&"main"===i.type&&Object(o.a)(i.sn)&&(!i.bitrateTest||t.tload===t.tbuffered)){var n=t.tparsed-t.trequest;l.b.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(n,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},t.prototype.onError=function(e){switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},t.prototype._findBestLevel=function(e,t,i,o,n,r,s,a,c){for(var d=n;d>=o;d--){var u=c[d];if(u){var f,h=u.details,p=h?h.totalduration/h.fragments.length:t,g=!!h&&h.live;f=d<=e?s*i:a*i;var v=c[d].realBitrate?Math.max(c[d].realBitrate,c[d].bitrate):c[d].bitrate,y=v*p/f;if(l.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+d+"/"+Math.round(f)+"/"+v+"/"+p+"/"+r+"/"+y),f>v&&(!y||g&&!this.bitrateTestDelay||y<r))return d}}return-1},d(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var i=this._nextABRAutoLevel;return-1!==e&&(i=Math.min(e,i)),i},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,i=e.levels,o=e.config,n=e.minAutoLevel,r=e.media,a=this.lastLoadedFragLevel,c=this.fragCurrent?this.fragCurrent.duration:0,d=r?r.currentTime:0,u=r&&0!==r.playbackRate?Math.abs(r.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():o.abrEwmaDefaultEstimate,h=(s.a.bufferInfo(r,d,o.maxBufferHole).end-d)/u,p=this._findBestLevel(a,c,f,n,t,h,o.abrBandWidthFactor,o.abrBandWidthUpFactor,i);if(p>=0)return p;l.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=c?Math.min(c,o.maxStarvationDelay):o.maxStarvationDelay,v=o.abrBandWidthFactor,y=o.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;m&&(g=(c?Math.min(c,o.maxLoadingDelay):o.maxLoadingDelay)-m,l.b.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=y=1)}return p=this._findBestLevel(a,c,f,n,t,h+g,v,y,i),Math.max(p,0)}}]),t}(r.a);t.a=f},function(e,t,i){"use strict";var o=i(58),n=function(){function e(t,i,n,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.a(i),this.fast_=new o.a(n)}return e.prototype.sample=function(e,t){var i=8e3*t/(e=Math.max(e,this.minDelayMs_)),o=e/1e3;this.fast_.sample(o,i),this.slow_.sample(o,i)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.a=n},function(e,t,i){"use strict";var o=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.a=o},function(e,t,i){"use strict";var o=i(3),n=i(1),r=i(4),s=i(0),a=i(2),l=i(15),c=Object(l.a)(),d=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,n.a.MEDIA_ATTACHING,n.a.MEDIA_DETACHING,n.a.MANIFEST_PARSED,n.a.BUFFER_RESET,n.a.BUFFER_APPENDING,n.a.BUFFER_CODECS,n.a.BUFFER_EOS,n.a.BUFFER_FLUSHING,n.a.LEVEL_PTS_UPDATED,n.a.LEVEL_UPDATED));return o._msDuration=null,o._levelDuration=null,o._live=null,o._objectUrl=null,o.onsbue=o.onSBUpdateEnd.bind(o),o.onsbe=o.onSBUpdateError.bind(o),o.pendingTracks={},o.tracks={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){r.a.prototype.destroy.call(this)},t.prototype.onLevelPtsUpdated=function(e){var t=e.type,i=this.tracks.audio;if("audio"===t&&i&&"audio/mpeg"===i.container){var o=this.sourceBuffer.audio;if(Math.abs(o.timestampOffset-e.start)>.1){var n=o.updating;try{o.abort()}catch(e){n=!0,s.b.warn("can not abort audio buffer: "+e)}n?this.audioTimestampOffset=e.start:(s.b.warn("change mpeg audio timestamp offset from "+o.timestampOffset+" to "+e.start),o.timestampOffset=e.start)}}},t.prototype.onManifestParsed=function(e){var t=e.audio,i=e.video||e.levels.length&&e.altAudio,o=0;e.altAudio&&(t||i)&&(o=(t?1:0)+(i?1:0),s.b.log(o+" sourceBuffer(s) expected")),this.sourceBufferNb=o},t.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var i=this.mediaSource=new c;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(i),this._objectUrl=t.src}},t.prototype.onMediaDetaching=function(){s.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){s.b.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):s.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(n.a.MEDIA_DETACHED)},t.prototype.onMediaSourceOpen=function(){s.b.log("media source opened"),this.hls.trigger(n.a.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},t.prototype.checkPendingTracks=function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},t.prototype.onMediaSourceClose=function(){s.b.log("media source closed")},t.prototype.onMediaSourceEnded=function(){s.b.log("media source ended")},t.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;s.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,i=this.segments.reduce((function(e,i){return i.parent===t?e+1:e}),0),o={},r=this.sourceBuffer;for(var a in r)o[a]=r[a].buffered;this.hls.trigger(n.a.BUFFER_APPENDED,{parent:t,pending:i,timeRanges:o}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},t.prototype.onSBUpdateError=function(e){s.b.error("sourceBuffer error:",e),this.hls.trigger(n.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var i=e[t];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},t.prototype.onBufferCodecs=function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}},t.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,i=this.mediaSource;for(var o in e)if(!t[o]){var r=e[o],l=r.levelCodec||r.codec,c=r.container+";codecs="+l;s.b.log("creating sourceBuffer("+c+")");try{var d=t[o]=i.addSourceBuffer(c);d.addEventListener("updateend",this.onsbue),d.addEventListener("error",this.onsbe),this.tracks[o]={codec:l,container:r.container},r.buffer=d}catch(e){s.b.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(n.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:c})}}this.hls.trigger(n.a.BUFFER_CREATED,{tracks:e})},t.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},t.prototype.onBufferAppendFail=function(e){s.b.error("sourceBuffer error:",e.event),this.hls.trigger(n.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferEos=function(e){var t=this.sourceBuffer,i=e.type;for(var o in t)i&&o!==i||t[o].ended||(t[o].ended=!0,s.b.log(o+" sourceBuffer now EOS"));this.checkEos()},t.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var i in e){var o=e[i];if(!o.ended)return;if(o.updating)return void(this._needsEos=!0)}s.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){s.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},t.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},t.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._live=t.live,this.updateMediaElementDuration())},t.prototype.updateMediaElementDuration=function(){var e=this.hls.config,t=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(s.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(o.a)(t))&&(s.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},t.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,i=this.sourceBuffer;try{for(var o in i)t+=i[o].buffered.length}catch(e){s.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(n.a.BUFFER_FLUSHED)}},t.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,i=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void s.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var o=i.shift();try{var r=t[o.type];r?r.updating?i.unshift(o):(r.ended=!1,this.parent=o.parent,r.appendBuffer(o.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){s.b.error("error while trying to append buffer:"+t.message),i.unshift(o);var l={type:a.b.MEDIA_ERROR,parent:o.parent};22!==t.code?(this.appendError?this.appendError++:this.appendError=1,l.details=a.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(s.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],l.fatal=!0,e.trigger(n.a.ERROR,l)):(l.fatal=!1,e.trigger(n.a.ERROR,l))):(this.segments=[],l.details=a.a.BUFFER_FULL_ERROR,l.fatal=!1,e.trigger(n.a.ERROR,l))}}}},t.prototype.flushBuffer=function(e,t,i){var o=void 0,n=void 0,r=void 0,a=void 0,l=void 0,c=void 0,d=this.sourceBuffer;if(Object.keys(d).length){if(s.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var u in d)if(!i||u===i){if((o=d[u]).ended=!1,o.updating)return s.b.warn("cannot flush, sb updating in progress"),!1;try{for(n=0;n<o.buffered.length;n++)if(r=o.buffered.start(n),a=o.buffered.end(n),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(l=e,c=t):(l=Math.max(r,e),c=Math.min(a,t)),Math.min(c,a)-l>.5)return this.flushBufferCounter++,s.b.log("flush "+u+" ["+l+","+c+"], of ["+r+","+a+"], pos:"+this.media.currentTime),o.remove(l,c),!1}catch(e){s.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else s.b.warn("abort flushing too many retries");s.b.log("buffer flushed")}return!0},t}(r.a);t.a=d},function(e,t,i){"use strict";var o=i(1),n=i(4),r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,o.a.FPS_DROP_LEVEL_CAPPING,o.a.MEDIA_ATTACHING,o.a.MANIFEST_PARSED,o.a.BUFFER_CODECS,o.a.MEDIA_DETACHING));return n.autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},t.prototype.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},t.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},t.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&(e.video||e.levels.length&&e.altAudio)&&this._startCapping()},t.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},t.prototype.onLevelsUpdated=function(e){this.levels=e.levels},t.prototype.onMediaDetaching=function(){this._stopCapping()},t.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.prototype.getMaxLevel=function(e){var i=this;if(!this.levels)return-1;var o=this.levels.filter((function(o,n){return t.isLevelAllowed(n,i.restrictedLevels)&&n<=e}));return t.getMaxLevelByMediaSize(o,this.mediaWidth,this.mediaHeight)},t.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},t.isLevelAllowed=function(e){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,i){if(!e||e&&!e.length)return-1;for(var o=e.length-1,n=0;n<e.length;n+=1){var r=e[n];if((r.width>=t||r.height>=i)&&function(e,t){return!t||e.width!==t.width||e.height!==t.height}(r,e[n+1])){o=n;break}}return o},r(t,[{key:"mediaWidth",get:function(){var e=void 0,i=this.media;return i&&(e=i.width||i.clientWidth||i.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,i=this.media;return i&&(e=i.height||i.clientHeight||i.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(n.a);t.a=s},function(e,t,i){"use strict";var o=i(1),n=i(4),r=i(0),s=window.performance,a=function(e){function t(i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,o.a.MEDIA_ATTACHING))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,i){var n=s.now();if(t){if(this.lastTime){var a=n-this.lastTime,l=i-this.lastDroppedFrames,c=t-this.lastDecodedFrames,d=1e3*l/a,u=this.hls;if(u.trigger(o.a.FPS_DROP,{currentDropped:l,currentDecoded:c,totalDroppedFrames:i}),d>0&&l>u.config.fpsDroppedMonitoringThreshold*c){var f=u.currentLevel;r.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=f)&&(f-=1,u.trigger(o.a.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:u.currentLevel}),u.autoLevelCapping=f,u.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(n.a);t.a=a},function(e,t,i){"use strict";var o=i(0),n=window,r=n.performance,s=n.XMLHttpRequest,a=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,i){this.context=e,this.config=t,this.callbacks=i,this.stats={trequest:r.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e=void 0,t=this.context;e=this.loader=new s;var i=this.stats;i.tfirst=0,i.loaded=0;var o=this.xhrSetup;try{if(o)try{o(e,t.url)}catch(i){e.open("GET",t.url,!0),o(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(i){return void this.callbacks.onError({code:e.status,text:i.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,i=t.readyState,n=this.stats,s=this.context,a=this.config;if(!n.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(r.now(),n.trequest)),4===i){var l=t.status;if(l>=200&&l<300){n.tload=Math.max(n.tfirst,r.now());var c=void 0,d=void 0;"arraybuffer"===s.responseType?d=(c=t.response).byteLength:d=(c=t.responseText).length,n.loaded=n.total=d;var u={url:t.responseURL,data:c};this.callbacks.onSuccess(u,n,s,t)}else n.retry>=a.maxRetry||l>=400&&l<499?(o.b.error(l+" while loading "+s.url),this.callbacks.onError({code:l,text:t.statusText},s,t)):(o.b.warn(l+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.prototype.loadtimeout=function(){o.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,i=this.stats;i.loaded=e.loaded,e.lengthComputable&&(i.total=e.total);var o=this.callbacks.onProgress;o&&o(i,this.context,null,t)},e}();t.a=a},function(e,t,i){"use strict";var o=i(1),n=i(10),r=i(0),s=i(2),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,o.a.MANIFEST_LOADING,o.a.MANIFEST_PARSED,o.a.AUDIO_TRACK_LOADED,o.a.AUDIO_TRACK_SWITCHED,o.a.LEVEL_LOADED,o.a.ERROR));return n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(o.a.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)r.b.warn("Invalid audio track id:",e.id);else{if(r.b.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var i=t.audioGroupIds[t.urlId];this.audioGroupId!==i&&(this.audioGroupId=i,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===s.b.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===s.a.AUDIO_TRACK_LOAD_ERROR&&(r.b.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)r.b.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)r.b.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];r.b.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var i=t.url,n=t.type,s=t.id;this.hls.trigger(o.a.AUDIO_TRACK_SWITCHING,{id:s,type:n,url:i}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var i=this.tracks[this._trackId],n=null;if(i&&(n=i.name),this._selectDefaultTrack){var a=t.filter((function(e){return e.default}));a.length?t=a:r.b.warn("No default audio tracks defined")}var l=!1,c=function(){t.forEach((function(t){l||e.audioGroupId&&t.groupId!==e.audioGroupId||n&&n!==t.name||(e._setAudioTrack(t.id),l=!0)}))};c(),l||(n=null,c()),l||(r.b.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(o.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details;return!t||!!t.live||void 0},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,i=e.id;r.b.log("loading audio-track playlist for id: "+i),this.hls.trigger(o.a.AUDIO_TRACK_LOADING,{url:t,id:i})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,r.b.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],i=t.name,o=t.language,n=t.groupId;r.b.warn("Loading failed on audio track id: "+e+", group-id: "+n+', name/language: "'+i+'" / "'+o+'"');for(var s=e,a=0;a<this.tracks.length;a++)if(!this.trackIdBlacklist[a]){if(this.tracks[a].name===i){s=a;break}}s!==e?(r.b.log("Attempting audio-track fallback id:",s,"group-id:",this.tracks[s].groupId),this._setAudioTrack(s)):r.b.warn('No fallback audio-track found for name/language: "'+i+'" / "'+o+'"')},a(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1}}]),t}(n.a);t.a=l},function(e,t,i){"use strict";var o=i(3),n=i(7),r=i(8),s=i(21),a=i(1),l=i(16),c=i(25),d=i(2),u=i(0),f=i(26),h=i(10),p=i(12),g=i(11),v=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),y=window.performance,m="STOPPED",b="STARTING",w="IDLE",x="PAUSED",T="KEY_LOADING",_="FRAG_LOADING",E="FRAG_LOADING_WAITING_RETRY",k="WAITING_TRACK",S="PARSING",A="PARSED",D="BUFFER_FLUSHING",R="ENDED",L="ERROR",C="WAITING_INIT_PTS",P=function(e){function t(i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.AUDIO_TRACKS_UPDATED,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.BUFFER_RESET,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED,a.a.INIT_PTS_FOUND));return n.fragmentTracker=o,n.config=i.config,n.audioCodecSwap=!1,n._state=m,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},t.prototype.onHandlerDestroyed=function(){this.state=m,this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},t.prototype.onInitPtsFound=function(e){var t=e.id,i=e.frag.cc,o=e.initPTS;"main"===t&&(this.initPTS[i]=o,this.videoTrackCC=i,u.b.log("InitPTS for cc: "+i+" found from video track: "+o),this.state===C&&this.tick())},t.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(u.b.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=w):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=b),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=m},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=m},t.prototype.doTick=function(){var e=void 0,t=void 0,i=void 0,s=this.hls,l=s.config;switch(this.state){case L:case x:case D:break;case b:this.state=k,this.loadedmetadata=!1;break;case w:var c=this.tracks;if(!c)break;if(!this.media&&(this.startFragRequested||!l.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var d=this.mediaBuffer?this.mediaBuffer:this.media,h=this.videoBuffer?this.videoBuffer:this.media,g=r.a.bufferInfo(d,e,l.maxBufferHole),v=r.a.bufferInfo(h,e,l.maxBufferHole),m=g.len,S=g.end,A=this.fragPrevious,P=Math.min(l.maxBufferLength,l.maxMaxBufferLength),I=Math.max(P,v.len),M=this.audioSwitch,O=this.trackId;if((m<I||M)&&O<c.length){if(void 0===(i=c[O].details)){this.state=k;break}if(!M&&!i.live&&A&&A.sn===i.endSN&&!g.nextStart&&(!this.media.seeking||this.media.duration-S<A.duration/2)){this.hls.trigger(a.a.BUFFER_EOS,{type:"audio"}),this.state=R;break}var U=i.fragments,j=U.length,F=U[0].start,W=U[j-1].start+U[j-1].duration,V=void 0;if(M)if(i.live&&!i.PTSKnown)u.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),S=0;else if(S=e,i.PTSKnown&&e<F){if(!(g.end>F||g.nextStart))return;u.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=F+.05}if(i.initSegment&&!i.initSegment.data)V=i.initSegment;else if(S<=F){if(V=U[0],null!==this.videoTrackCC&&V.cc!==this.videoTrackCC&&(V=Object(f.b)(U,this.videoTrackCC)),i.live&&V.loadIdx&&V.loadIdx===this.fragLoadIdx){var q=g.nextStart?g.nextStart:F;return u.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(q+.05)),void(this.media.currentTime=q+.05)}}else{var B=void 0,N=l.maxFragLookUpTolerance,X=A?U[A.sn-U[0].sn+1]:void 0,H=function(e){var t=Math.min(N,e.duration);return e.start+e.duration-t<=S?1:e.start-t>S&&e.start?-1:0};S<W?(S>W-N&&(N=0),B=X&&!H(X)?X:n.a.search(U,H)):B=U[j-1],B&&(V=B,F=B.start,A&&V.level===A.level&&V.sn===A.sn&&(V.sn<i.endSN?(V=U[V.sn+1-i.startSN],u.b.log("SN just loaded, load next one: "+V.sn)):V=null))}V&&(V.encrypted?(u.b.log("Loading key for "+V.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+O),this.state=T,s.trigger(a.a.KEY_LOADING,{frag:V})):(u.b.log("Loading "+V.sn+", cc: "+V.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+O+", currentTime:"+e+",bufferEnd:"+S.toFixed(3)),(M||this.fragmentTracker.getState(V)===p.a.NOT_LOADED)&&(this.fragCurrent=V,this.startFragRequested=!0,Object(o.a)(V.sn)&&(this.nextLoadPosition=V.start+V.duration),s.trigger(a.a.FRAG_LOADING,{frag:V}),this.state=_)))}break;case k:(t=this.tracks[this.trackId])&&t.details&&(this.state=w);break;case E:var G=y.now(),z=this.retryDate,Z=(d=this.media)&&d.seeking;(!z||G>=z||Z)&&(u.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=w);break;case C:var K=this.videoTrackCC;if(void 0===this.initPTS[K])break;var J=this.waitingFragment;if(J){var Y=J.frag.cc;K!==Y?(t=this.tracks[this.trackId]).details&&t.details.live&&(u.b.warn("Waiting fragment CC ("+Y+") does not match video track CC ("+K+")"),this.waitingFragment=null,this.state=w):(this.state=_,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=w}},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(u.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){this.state===R&&(this.state=w),this.media&&(this.lastCurrentTime=this.media.currentTime),this.tick()},t.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},t.prototype.onAudioTracksUpdated=function(e){u.b.log("audio tracks updated"),this.tracks=e.audioTracks},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=x,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=w),this.tick()},t.prototype.onAudioTrackLoaded=function(e){var t=e.details,i=e.id,n=this.tracks[i],r=t.totalduration,s=0;if(u.b.log("track "+i+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),t.live){var a=n.details;a&&t.fragments.length>0?(l.b(a,t),s=t.fragments[0].start,t.PTSKnown?u.b.log("live audio playlist sliding:"+s.toFixed(3)):u.b.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,u.b.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,!this.startFragRequested){if(-1===this.startPosition){var c=t.startTimeOffset;Object(o.a)(c)?(u.b.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===k&&(this.state=w),this.tick()},t.prototype.onKeyLoaded=function(){this.state===T&&(this.state=w,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,i=e.frag;if(this.state===_&&t&&"audio"===i.type&&i.level===t.level&&i.sn===t.sn){var o=this.tracks[this.trackId],n=o.details,r=n.totalduration,l=t.level,c=t.sn,d=t.cc,f=this.config.defaultAudioCodec||o.audioCodec||"mp4a.40.2",h=this.stats=e.stats;if("initSegment"===c)this.state=w,h.tparsed=h.tbuffered=y.now(),n.initSegment.data=e.payload,this.hls.trigger(a.a.FRAG_BUFFERED,{stats:h,frag:t,id:"audio"}),this.tick();else{this.state=S,this.appended=!1,this.demuxer||(this.demuxer=new s.a(this.hls,"audio"));var p=this.initPTS[d],g=n.initSegment?n.initSegment.data:[];n.initSegment||void 0!==p?(this.pendingBuffering=!0,u.b.log("Demuxing "+c+" of ["+n.startSN+" ,"+n.endSN+"],track "+l),this.demuxer.push(e.payload,g,f,null,t,r,!1,p)):(u.b.log("unknown video PTS for continuity counter "+d+", waiting for video PTS before demuxing audio frag "+c+" of ["+n.startSN+" ,"+n.endSN+"],track "+l),this.waitingFragment=e,this.state=C)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,i=e.frag;if(t&&"audio"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===S){var o=e.tracks,n=void 0;if(o.video&&delete o.video,n=o.audio){n.levelCodec=n.codec,n.id=e.id,this.hls.trigger(a.a.BUFFER_CODECS,o),u.b.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var r=n.initSegment;if(r){var s={type:"audio",data:r,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,s))}this.tick()}}},t.prototype.onFragParsingData=function(e){var t=this,i=this.fragCurrent,n=e.frag;if(i&&"audio"===e.id&&"audio"===e.type&&n.sn===i.sn&&n.level===i.level&&this.state===S){var r=this.trackId,s=this.tracks[r],c=this.hls;Object(o.a)(e.endPTS)||(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),i.addElementaryStream(g.a.ElementaryStreamTypes.AUDIO),u.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),l.c(s.details,i,e.startPTS,e.endPTS);var f=this.audioSwitch,h=this.media,p=!1;if(f&&h)if(h.readyState){var v=h.currentTime;u.b.log("switching audio track : currentTime:"+v),v>=e.startPTS&&(u.b.log("switching audio track : flushing all audio"),this.state=D,c.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),p=!0,this.audioSwitch=!1,c.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,c.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r});var y=this.pendingData;if(!y)return u.b.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void c.trigger(a.a.ERROR,{type:d.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach((function(t){t&&t.length&&y.push({type:e.type,data:t,parent:"audio",content:"data"})})),!p&&y.length&&(y.forEach((function(e){t.state===S&&(t.pendingBuffering=!0,t.hls.trigger(a.a.BUFFER_APPENDING,e))})),this.pendingData=[],this.appended=!0)),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,i=e.frag;t&&"audio"===e.id&&i.sn===t.sn&&i.level===t.level&&this.state===S&&(this.stats.tparsed=y.now(),this.state=A,this._checkAppendedParsed())},t.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},t.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},t.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==S&&t!==A||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(!(this.state!==A||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,i=this.hls;if(e){this.fragPrevious=e,t.tbuffered=y.now(),i.trigger(a.a.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var o=this.mediaBuffer?this.mediaBuffer:this.media;u.b.log("audio buffered : "+c.a.toString(o.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=w}this.tick()}},t.prototype.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case d.a.FRAG_LOAD_ERROR:case d.a.FRAG_LOAD_TIMEOUT:var i=e.frag;if(i&&"audio"!==i.type)break;if(!e.fatal){var o=this.fragLoadError;o?o++:o=1;var n=this.config;if(o<=n.fragLoadingMaxRetry){this.fragLoadError=o;var s=Math.min(Math.pow(2,o-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);u.b.warn("AudioStreamController: frag loading failed, retry in "+s+" ms"),this.retryDate=y.now()+s,this.state=E}else u.b.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=L}break;case d.a.AUDIO_TRACK_LOAD_ERROR:case d.a.AUDIO_TRACK_LOAD_TIMEOUT:case d.a.KEY_LOAD_ERROR:case d.a.KEY_LOAD_TIMEOUT:this.state!==L&&(this.state=e.fatal?L:w,u.b.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case d.a.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===S||this.state===A)){var l=this.mediaBuffer,c=this.media.currentTime;if(l&&r.a.isBuffered(l,c)&&r.a.isBuffered(l,c+.5)){var f=this.config;f.maxMaxBufferLength>=f.maxBufferLength&&(f.maxMaxBufferLength/=2,u.b.warn("AudioStreamController: reduce max buffer length to "+f.maxMaxBufferLength+"s")),this.state=w}else u.b.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=D,this.hls.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},t.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(u.b.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach((function(t){e.hls.trigger(a.a.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=A):(this.state=w,this.fragPrevious=null,this.tick())},v(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,u.b.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(h.a);t.a=P},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newCue=function(e,t,i,n){for(var r=void 0,s=void 0,a=void 0,l=void 0,c=void 0,d=window.VTTCue||window.TextTrackCue,u=0;u<n.rows.length;u++)if(a=!0,l=0,c="",!(r=n.rows[u]).isEmpty()){for(var f=0;f<r.chars.length;f++)r.chars[f].uchar.match(/\s/)&&a?l++:(c+=r.chars[f].uchar,a=!1);r.cueStartTime=t,t===i&&(i+=1e-4),s=new d(t,i,Object(o.b)(c.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?s.line=u+1:s.line=u>7?u-2:u+1,s.align="left",s.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(s)}};var o=i(28)},function(e,t,i){"use strict";t.a=function(){function e(e){return"string"==typeof e&&!!r[e.toLowerCase()]&&e.toLowerCase()}function t(e){return"string"==typeof e&&!!s[e.toLowerCase()]&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)e[o]=i[o]}return e}function o(o,r,s){var a=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),c={};l?a=document.createElement("custom"):c.enumerable=!0,a.hasBeenReset=!1;var d="",u=!1,f=o,h=r,p=s,g=null,v="",y=!0,m="auto",b="start",w=50,x="middle",T=50,_="middle";if(Object.defineProperty(a,"id",i({},c,{get:function(){return d},set:function(e){d=""+e}})),Object.defineProperty(a,"pauseOnExit",i({},c,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(a,"startTime",i({},c,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",i({},c,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",i({},c,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",i({},c,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",i({},c,{get:function(){return v},set:function(t){var i=e(t);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");v=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",i({},c,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",i({},c,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==n)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",i({},c,{get:function(){return b},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");b=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",i({},c,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",i({},c,{get:function(){return x},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");x=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",i({},c,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",i({},c,{get:function(){return _},set:function(e){var i=t(e);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");_=i,this.hasBeenReset=!0}})),a.displayState=void 0,l)return a}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var n="auto",r={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};return o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o}()},function(e,t,i){"use strict";function o(e,t,i,o){return Math.min(t,o)-Math.max(e,i)}var n=i(1),r=i(4),s=i(68),a=i(69),l=i(70),c=i(0),d=i(27),u=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,n.a.MEDIA_ATTACHING,n.a.MEDIA_DETACHING,n.a.FRAG_PARSING_USERDATA,n.a.FRAG_DECRYPTED,n.a.MANIFEST_LOADING,n.a.MANIFEST_LOADED,n.a.FRAG_LOADED,n.a.LEVEL_SWITCHING,n.a.INIT_PTS_FOUND));if(o.hls=i,o.config=i.config,o.enabled=!0,o.Cues=i.config.cueHandler,o.textTracks=[],o.tracks=[],o.unparsedVttFrags=[],o.initPTS=void 0,o.cueRanges=[],o.captionsTracks={},o.captionsProperties={textTrack1:{label:o.config.captionsTextTrack1Label,languageCode:o.config.captionsTextTrack1LanguageCode},textTrack2:{label:o.config.captionsTextTrack2Label,languageCode:o.config.captionsTextTrack2LanguageCode}},o.config.enableCEA708Captions){var r=new a.a(o,"textTrack1"),l=new a.a(o,"textTrack2");o.cea608Parser=new s.a(0,r,l)}return o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.addCues=function(e,t,i,n){for(var r=this.cueRanges,s=!1,a=r.length;a--;){var l=r[a],c=o(l[0],l[1],t,i);if(c>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],i),s=!0,c/(i-t)>.5))return}s||r.push([t,i]),this.Cues.newCue(this.captionsTracks[e],t,i,n)},t.prototype.onInitPtsFound=function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach((function(e){t.onFragLoaded(e)})),this.unparsedVttFrags=[])},t.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var i=0;i<t.textTracks.length;i++){var o=t.textTracks[i];if(o[e])return o}return null},t.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],i=t.label,o=t.languageCode,n=this.captionsTracks;if(!n[e]){var r=this.getExistingTrack(e);if(r)n[e]=r,Object(d.a)(n[e]),Object(d.b)(n[e],this.media);else{var s=this.createTextTrack("captions",i,o);s&&(s[e]=!0,n[e]=s)}}},t.prototype.createTextTrack=function(e,t,i){var o=this.media;if(o)return o.addTextTrack(e,t,i)},t.prototype.destroy=function(){r.a.prototype.destroy.call(this)},t.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},t.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Object(d.a)(e[t]),delete e[t]}))},t.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},t.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var i=0;i<t.length;i++)Object(d.a)(t[i])}},t.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,o){var n=void 0;if(o<i.length){var r=i[o];(function(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)})(r,e)&&(n=r)}n||(n=t.createTextTrack("subtitles",e.name,e.lang)),e.default?n.mode=t.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",t.textTracks.push(n)}))}},t.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},t.prototype.onFragLoaded=function(e){var t=e.frag,i=e.payload;if("main"===t.type){var o=t.sn;if(o!==this.lastSn+1){var r=this.cea608Parser;r&&r.reset()}this.lastSn=o}else if("subtitle"===t.type)if(i.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);var s=t.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(t,i)}else this.hls.trigger(n.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},t.prototype._parseVTTs=function(e,t){var i=this.vttCCs;i[e.cc]||(i[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var o=this.textTracks,r=this.hls;l.a.parse(t,this.initPTS,i,e.cc,(function(t){var i=o[e.trackId];"disabled"!==i.mode?(t.forEach((function(e){if(!i.cues.getCueById(e.id))try{i.addCue(e)}catch(o){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,i.addCue(t)}})),r.trigger(n.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):r.trigger(n.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}),(function(t){c.b.log("Failed to parse VTT cue: "+t),r.trigger(n.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}))},t.prototype.onFragDecrypted=function(e){var t=e.payload,i=e.frag;if("subtitle"===i.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);this._parseVTTs(i,t)}},t.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var i=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,i)}},t.prototype.extractCea608Data=function(e){for(var t=31&e[0],i=2,o=void 0,n=void 0,r=void 0,s=[],a=0;a<t;a++)o=e[i++],n=127&e[i++],r=127&e[i++],0===n&&0===r||0!=(4&o)&&0===(3&o)&&(s.push(n),s.push(r));return s},t}(r.a);t.a=u},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},r=function(e){var t=e;return n.hasOwnProperty(e)&&(t=n[e]),String.fromCharCode(t)},s=15,a=100,l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},d={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e],this.verboseLevel}},p=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].toString(16));return t},g=function(){function e(t,i,n,r,s){o(this,e),this.foreground=t||"white",this.underline=i||!1,this.italics=n||!1,this.background=r||"black",this.flash=s||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],i=0;i<t.length;i++){var o=t[i];e.hasOwnProperty(o)&&(this[o]=e[o])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),v=function(){function e(t,i,n,r,s,a){o(this,e),this.uchar=t||" ",this.penState=new g(i,n,r,s,a)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(){o(this,e),this.chars=[];for(var t=0;t<a;t++)this.chars.push(new v);this.pos=0,this.currPenState=new g}return e.prototype.equals=function(e){for(var t=!0,i=0;i<a;i++)if(!this.chars[i].equals(e.chars[i])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<a;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<a;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>a&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=a)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=r(e);this.pos>=a?h.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t=void 0;for(t=e;t<a;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,i=0;i<a;i++){var o=this.chars[i].uchar;" "!==o&&(t=!1),e.push(o)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),m=function(){function e(){o(this,e),this.rows=[];for(var t=0;t<s;t++)this.rows.push(new y);this.currRow=14,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=14},e.prototype.equals=function(e){for(var t=!0,i=0;i<s;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){h.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){h.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var i=0;i<s;i++)this.rows[i].clear();var o=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var r=n.rows[o].cueStartTime;if(r&&r<h.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[t-this.nrRollUpRows+a+1].copy(n.rows[o+a])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var c=e.indent,d=Math.max(c-1,0);l.setCursor(e.indent),e.color=l.chars[d].penState.foreground}var u={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(u)},e.prototype.setBkgData=function(e){h.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],i="",o=-1,n=0;n<s;n++){var r=this.rows[n].getTextString();r&&(o=n+1,e?t.push("Row "+o+": '"+r+"'"):t.push(r.trim()))}return t.length>0&&(i=e?"["+t.join(" | ")+"]":t.join("\n")),i},e.prototype.getTextAndFormat=function(){return this.rows},e}(),b=function(){function e(t,i){o(this,e),this.chNr=t,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new m,this.nonDisplayedMemory=new m,this.lastOutputScreen=new m,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,h.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";h.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){h.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){h.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var i=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}h.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),w=function(){function e(t,i,n){o(this,e),this.field=t||1,this.outputs=[i,n],this.channels=[new b(1,i),new b(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var i=void 0,o=void 0,n=void 0,r=!1;this.lastTime=e,h.setTime(e);for(var s=0;s<t.length;s+=2)if(o=127&t[s],n=127&t[s+1],0!==o||0!==n){if(h.log("DATA","["+p([t[s],t[s+1]])+"] -> ("+p([o,n])+")"),(i=this.parseCmd(o,n))||(i=this.parseMidrow(o,n)),i||(i=this.parsePAC(o,n)),i||(i=this.parseBackgroundAttributes(o,n)),!i&&(r=this.parseChars(o,n)))if(this.currChNr&&this.currChNr>=0){this.channels[this.currChNr-1].insertChars(r)}else h.log("WARNING","No channel found yet. TEXT-MODE?");i?this.dataCounters.cmd+=2:r?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+p([o,n])+" orig: "+p([t[s],t[s+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var i;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+p([e,t])+") is dropped"),!0;i=20===e||23===e?1:2;var o=this.channels[i-1];return 20===e||28===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=i,!0},e.prototype.parseMidrow=function(e,t){var i=null;return(17===e||25===e)&&t>=32&&t<=47&&((i=17===e?1:2)!==this.currChNr?(h.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[i-1].ccMIDROW(t),h.log("DEBUG","MIDROW ("+p([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var i,o;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=e<=23?1:2,o=t>=64&&t<=95?1===i?l[e]:d[e]:1===i?c[e]:u[e];var n=this.interpretPAC(o,t);return this.channels[i-1].setPAC(n),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=i,!0},e.prototype.interpretPAC=function(e,t){var i,o={color:null,italics:!1,indent:null,underline:!1,row:e};return i=t>95?t-96:t-64,o.underline=1==(1&i),i<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((i-16)/2),o},e.prototype.parseChars=function(e,t){var i=null,o=null,n=null;if(e>=25?(i=2,n=e-8):(i=1,n=e),n>=17&&n<=19){var s;s=17===n?t+80:18===n?t+112:t+144,h.log("INFO","Special char '"+r(s)+"' in channel "+i),o=[s]}else e>=32&&e<=127&&(o=0===t?[e]:[e,t]);if(o){var a=p(o);h.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return o},e.prototype.parseBackgroundAttributes=function(e,t){var i=void 0,o=void 0,n=void 0,r=void 0;return!(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47)||(i={},16===e||24===e?(o=Math.floor((t-32)/2),i.background=f[o],t%2==1&&(i.background=i.background+"_semi")):45===t?i.background="transparent":(i.foreground="black",47===t&&(i.underline=!0)),n=e<24?1:2,r=this.channels[n-1],r.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,0))},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.a=w},function(e,t,i){"use strict";var o=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.timelineController=t,this.trackName=i,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,i){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.a=o},function(e,t,i){"use strict";var o=i(3),n=i(28),r=i(9),s=function(e,t,i){return e.substr(i||0,t.length)===t},a=function(e){var t=parseInt(e.substr(-3)),i=parseInt(e.substr(-6,2)),n=parseInt(e.substr(-9,2)),r=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return Object(o.a)(t)&&Object(o.a)(i)&&Object(o.a)(n)&&Object(o.a)(r)?(t+=1e3*i,t+=6e4*n,t+=36e5*r):-1},l=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return(t>>>0).toString()},c={parse:function(e,t,i,o,c,d){var u=Object(r.b)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),f="00:00.000",h=0,p=0,g=0,v=[],y=void 0,m=!0,b=new n.a;b.oncue=function(e){var t=i[o],n=i.ccOffset;t&&t.new&&(void 0!==p?n=i.ccOffset=t.start:function(e,t,i){var o=e[t],n=e[o.prevCC];if(!n||!n.new&&o.new)return e.ccOffset=e.presentationOffset=o.start,void(o.new=!1);for(;n&&n.new;)e.ccOffset+=o.start-n.start,o.new=!1,n=e[(o=n).prevCC];e.presentationOffset=i}(i,o,g)),g&&(n=g+i.ccOffset-i.presentationOffset),e.startTime+=n-p,e.endTime+=n-p,e.id=l(e.startTime.toString())+l(e.endTime.toString())+l(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&v.push(e)},b.onparsingerror=function(e){y=e},b.onflush=function(){y&&d?d(y):c(v)},u.forEach((function(e){if(m){if(s(e,"X-TIMESTAMP-MAP=")){m=!1,e.substr(16).split(",").forEach((function(e){s(e,"LOCAL:")?f=e.substr(6):s(e,"MPEGTS:")&&(h=parseInt(e.substr(7)))}));try{h-=t=t<0?t+8589934592:t,p=a(f)/1e3,g=h/9e4,-1===p&&(y=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){y=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(m=!1)}b.parse(e+"\n")})),b.flush()}};t.a=c},function(e,t,i){"use strict";function o(e){for(var t=[],i=0;i<e.length;i++)"subtitles"===e[i].kind&&t.push(e[i]);return t}var n=i(1),r=i(4),s=i(0),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,n.a.MEDIA_ATTACHED,n.a.MEDIA_DETACHING,n.a.MANIFEST_LOADING,n.a.MANIFEST_LOADED,n.a.SUBTITLE_TRACK_LOADED));return o.tracks=[],o.trackId=-1,o.media=null,o.subtitleDisplay=!0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=o(this.media.textTracks),i=0;i<t.length;i++)if("hidden"===t[i].mode)e=i;else if("showing"===t[i].mode){e=i;break}this.subtitleTrack=e}},t.prototype.destroy=function(){r.a.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){t.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,i=e.subtitles||[];this.tracks=i,this.trackId=-1,this.hls.trigger(n.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach((function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)}))},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var i=t.details;i&&!i.live||(s.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(n.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(s.b.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval((function(){t.onTick()}),1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&this._stopTimer())},t.prototype.setSubtitleTrackInternal=function(e){var t=this.hls,i=this.tracks;if(!("number"!=typeof e||e<-1||e>=i.length)&&(this._stopTimer(),this.trackId=e,s.b.log("switching to subtitle track "+e),t.trigger(n.a.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e)){var o=i[e],r=o.details;r&&!r.live||(s.b.log("(re)loading playlist for subtitle track "+e),t.trigger(n.a.SUBTITLE_TRACK_LOADING,{url:o.url,id:e}))}},t.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.prototype._toggleTrackModes=function(e){var t=this.media,i=this.subtitleDisplay,n=this.trackId;if(t){var r=o(t.textTracks);if(-1===e)[].slice.call(r).forEach((function(e){e.mode="disabled"}));else{var s=r[n];s&&(s.mode="disabled")}var a=r[e];a&&(a.mode=i?"showing":"hidden")}},a(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this.setSubtitleTrackInternal(e))}}]),t}(r.a);t.a=l},function(e,t,i){"use strict";var o=i(1),n=i(0),r=i(14),s=i(10),a=window.performance,l="STOPPED",c="IDLE",d="KEY_LOADING",u="FRAG_LOADING",f=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,o.a.MEDIA_ATTACHED,o.a.ERROR,o.a.KEY_LOADED,o.a.FRAG_LOADED,o.a.SUBTITLE_TRACKS_UPDATED,o.a.SUBTITLE_TRACK_SWITCH,o.a.SUBTITLE_TRACK_LOADED,o.a.SUBTITLE_FRAG_PROCESSED));return n.config=i.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.state=l,n.currentTrackId=-1,n.decrypter=new r.a(i.observer,i.config),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onHandlerDestroyed=function(){this.state=l},t.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach((function(t){e.vttFragQueues[t.id]=[]}))},t.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=e,this.hls.trigger(o.a.FRAG_LOADING,{frag:e}),this.state=u}},t.prototype.onSubtitleFragProcessed=function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.state=c,this.nextFrag()},t.prototype.onMediaAttached=function(){this.state=c},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},t.prototype.doTick=function(){var e=this;switch(this.state){case c:var t,i=this.tracks,r=this.currentTrackId,s=this.vttFragSNsProcessed[r],a=this.vttFragQueues[r],l=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!i)break;if(r<i.length&&(t=i[r].details),void 0===t)break;t.fragments.forEach((function(t){(function(e){return s.indexOf(e.sn)>-1})(t)||t.sn===l||function(e){return a.some((function(t){return t.sn===e.sn}))}(t)||(t.encrypted?(n.b.log("Loading key for "+t.sn),e.state=d,e.hls.trigger(o.a.KEY_LOADING,{frag:t})):(t.trackId=r,a.push(t),e.nextFrag()))}))}},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;n.b.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach((function(e){t.vttFragSNsProcessed[e.id]=[]}))},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.tick()}},t.prototype.onSubtitleTrackLoaded=function(){this.tick()},t.prototype.onKeyLoaded=function(){this.state===d&&(this.state=c,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,i=e.frag.decryptdata,n=e.frag,r=this.hls;if(this.state===u&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&null!=i&&null!=i.key&&"AES-128"===i.method){var s=void 0;try{s=a.now()}catch(e){s=Date.now()}this.decrypter.decrypt(e.payload,i.key.buffer,i.iv.buffer,(function(e){var t=void 0;try{t=a.now()}catch(e){t=Date.now()}r.trigger(o.a.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:s,tdecrypt:t}})}))}},t}(s.a);t.a=f},function(e,t,i){"use strict";var o=i(4),n=i(1),r=i(2),s=i(0),a=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=window.XMLHttpRequest,c="com.widevine.alpha",d="com.microsoft.playready",u=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i,n.a.MEDIA_ATTACHED,n.a.MANIFEST_PARSED));return o._widevineLicenseUrl=i.config.widevineLicenseUrl,o._licenseXhrSetup=i.config.licenseXhrSetup,o._emeEnabled=i.config.emeEnabled,o._requestMediaKeySystemAccess=i.config.requestMediaKeySystemAccessFunc,o._mediaKeysList=[],o._media=null,o._hasSetMediaKeys=!1,o._isMediaEncrypted=!1,o._requestLicenseFailureCount=0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLicenseServerUrl=function(e){var t=void 0;if(e===c)t=this._widevineLicenseUrl;else t=null;return t||(s.b.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,i){var o=this,n=function(e,t,i){if(e===c)return function(e,t,i){var o={videoCapabilities:[]};return t.forEach((function(e){o.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})})),[o]}(0,i);throw Error("Unknown key-system: "+e)}(e,0,i);n?(s.b.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,n).then((function(t){o._onMediaKeySystemAccessObtained(e,t)})).catch((function(t){s.b.error('Failed to obtain key-system "'+e+'" access:',t)}))):s.b.warn("Can not create config for key-system (maybe because platform is not supported):",e)},t.prototype._onMediaKeySystemAccessObtained=function(e,t){var i=this;s.b.log('Access for key-system "'+e+'" obtained');var o={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(o),t.createMediaKeys().then((function(t){o.mediaKeys=t,s.b.log('Media-keys created for key-system "'+e+'"'),i._onMediaKeysCreated()})).catch((function(e){s.b.error("Failed to create media-keys:",e)}))},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},t.prototype._onNewMediaKeySession=function(e){var t=this;s.b.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(i){t._onKeySessionMessage(e,i.message)}),!1)},t.prototype._onKeySessionMessage=function(e,t){s.b.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){s.b.log("Received license data, updating key-session"),e.update(t)}))},t.prototype._onMediaEncrypted=function(e,t){s.b.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return s.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_NO_KEYS,fatal:!0});s.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return s.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)s.b.warn("Key-Session already initialized but requested again");else{var i=t.mediaKeysSession;i||(s.b.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_NO_SESSION,fatal:!0}));var o=this._mediaEncryptionInitDataType,a=this._mediaEncryptionInitData;s.b.log('Generating key-session request for "'+o+'" init data type'),t.mediaKeysSessionInitialized=!0,i.generateRequest(o,a).then((function(){s.b.debug("Key-session generation succeeded")})).catch((function(t){s.b.error("Error generating key-session request:",t),e.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},t.prototype._createLicenseXhr=function(e,t,i){var o=new l,a=this._licenseXhrSetup;try{if(a)try{a(o,e)}catch(t){o.open("POST",e,!0),a(o,e)}o.readyState||o.open("POST",e,!0)}catch(e){return s.b.error("Error setting up key-system license XHR",e),void this.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return o.responseType="arraybuffer",o.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,o,e,t,i),o},t.prototype._onLicenseRequestReadyStageChange=function(e,t,i,o){if(4===e.readyState)if(200===e.status)this._requestLicenseFailureCount=0,s.b.log("License request succeeded"),o(e.response);else{if(s.b.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),++this._requestLicenseFailureCount<=3){var a=3-this._requestLicenseFailureCount+1;return s.b.warn("Retrying license request, "+a+" attempts left"),void this._requestLicense(i,o)}this.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},t.prototype._generateLicenseRequestChallenge=function(e,t){var i=void 0;return e.mediaKeySystemDomain===d?s.b.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===c?i=t:s.b.error("Unsupported key-system:",e.mediaKeySystemDomain),i},t.prototype._requestLicense=function(e,t){s.b.log("Requesting content license for key-system");var i=this._mediaKeysList[0];if(!i)return s.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.a.ERROR,{type:r.b.KEY_SYSTEM_ERROR,details:r.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});var o=this.getLicenseServerUrl(i.mediaKeySystemDomain),a=this._createLicenseXhr(o,e,t);s.b.log("Sending license request to URL: "+o),a.send(this._generateLicenseRequestChallenge(i,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var i=e.media;this._media=i,i.addEventListener("encrypted",(function(e){t._onMediaEncrypted(e.initDataType,e.initData)}))}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map((function(e){return e.audioCodec})),i=e.levels.map((function(e){return e.videoCodec}));this._attemptKeySystemAccess(c,t,i)}},a(t,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),t}(o.a);t.a=u},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var o="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null},function(e,t){
  String.prototype.endsWith||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw TypeError();var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var o=i.length,n=String(e),r=n.length,s=o;if(arguments.length>1){var a=arguments[1];void 0!==a&&(s=a?Number(a):0)!=s&&(s=0)}var l=Math.min(Math.max(s,0),o),c=l-r;if(c<0)return!1;for(var d=-1;++d<r;)if(i.charCodeAt(c+d)!=n.charCodeAt(d))return!1;return!0};e?e(String.prototype,"endsWith",{value:i,configurable:!0,writable:!0}):String.prototype.endsWith=i}()}]).default}));